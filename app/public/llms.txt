# Startup Finance Calculator

> A tool for modeling startup funding rounds, SAFE conversions, and cap table calculations.

This API helps you calculate ownership dilution and cap tables for startup financing rounds. It handles:
- Pre-money and post-money SAFE conversions
- Series investment rounds
- Options pool refresh calculations
- Price per share calculations

## Interactive Calculator

For a visual, interactive experience: https://startup-finance.1984.vc

## API Endpoint

POST /api/calculate

Calculate ownership percentages and cap table after a priced round.

### Request Format

```json
{
  "preMoneyValuation": 25000000,
  "targetOptionsPool": 10,
  "shareholders": [
    { "name": "Founder 1", "shares": 5000000 },
    { "name": "Founder 2", "shares": 5000000 }
  ],
  "unusedOptions": 0,
  "safes": [
    {
      "name": "Seed Fund",
      "investment": 500000,
      "cap": 10000000,
      "discount": 0,
      "type": "post"
    }
  ],
  "seriesInvestment": [
    { "name": "Series A Lead", "investment": 5000000 }
  ]
}
```

### Request Fields

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| preMoneyValuation | number | Yes | Pre-money valuation in dollars (e.g., 25000000 for $25M) |
| targetOptionsPool | number | No | Target options pool as whole percentage (e.g., 10 for 10%). Default: 0 |
| shareholders | array | Yes | Existing common stockholders |
| shareholders[].name | string | Yes | Shareholder name |
| shareholders[].shares | number | Yes | Number of shares owned |
| unusedOptions | number | No | Existing unused options. Default: 0 |
| safes | array | No | SAFE notes to convert |
| safes[].name | string | Yes | SAFE holder name |
| safes[].investment | number | Yes | Investment amount in dollars |
| safes[].cap | number | Yes | Valuation cap (0 for uncapped) |
| safes[].discount | number | No | Discount as whole percentage (e.g., 20 for 20%). Default: 0 |
| safes[].type | string | Yes | "pre" for pre-money SAFE, "post" for post-money SAFE |
| seriesInvestment | array | No | New series investors |
| seriesInvestment[].name | string | Yes | Investor name |
| seriesInvestment[].investment | number | Yes | Investment amount in dollars |

### Response Format

```json
{
  "success": true,
  "result": {
    "pricePerShare": 1.52381,
    "totalShares": 19680234,
    "postMoneyValuation": 30000000,
    "capTable": [
      {
        "name": "Founder 1",
        "type": "common",
        "shares": 5000000,
        "ownershipPercent": 25.4
      },
      {
        "name": "Founder 2",
        "type": "common",
        "shares": 5000000,
        "ownershipPercent": 25.4
      },
      {
        "name": "Seed Fund",
        "type": "safe",
        "shares": 656250,
        "ownershipPercent": 3.33,
        "investment": 500000,
        "pps": 0.76191
      },
      {
        "name": "Series A Lead",
        "type": "series",
        "shares": 3281250,
        "ownershipPercent": 16.67,
        "investment": 5000000,
        "pps": 1.52381
      },
      {
        "name": "Refreshed Options Pool",
        "type": "options",
        "shares": 1968023,
        "ownershipPercent": 10.0
      }
    ],
    "summary": {
      "totalInvestment": 5500000,
      "founderDilution": 49.2,
      "optionsPoolPercent": 10.0
    }
  }
}
```

### Response Fields

| Field | Description |
|-------|-------------|
| pricePerShare | Price per share for the round |
| totalShares | Total shares outstanding after the round |
| postMoneyValuation | Post-money valuation |
| capTable | Array of all stakeholders with shares and ownership |
| capTable[].type | "common", "safe", "series", or "options" |
| capTable[].ownershipPercent | Ownership as a percentage (e.g., 25.4 for 25.4%) |
| summary.totalInvestment | Total new money invested (SAFEs + Series) |
| summary.founderDilution | How much founders were diluted as a percentage |
| summary.optionsPoolPercent | Final options pool as percentage of total |

### Error Response

```json
{
  "success": false,
  "error": "Error message describing what went wrong"
}
```

## Examples

### Example 1: Simple Series A with no SAFEs

Calculate a $5M Series A on a $25M pre-money valuation:

```bash
curl -X POST https://startup-finance.1984.vc/api/calculate \
  -H "Content-Type: application/json" \
  -d '{
    "preMoneyValuation": 25000000,
    "targetOptionsPool": 10,
    "shareholders": [
      {"name": "Founder", "shares": 10000000}
    ],
    "unusedOptions": 0,
    "safes": [],
    "seriesInvestment": [
      {"name": "VC Fund", "investment": 5000000}
    ]
  }'
```

### Example 2: Series A with SAFE conversion

Calculate a round where a $500K SAFE at $10M cap converts:

```bash
curl -X POST https://startup-finance.1984.vc/api/calculate \
  -H "Content-Type: application/json" \
  -d '{
    "preMoneyValuation": 25000000,
    "targetOptionsPool": 10,
    "shareholders": [
      {"name": "Founder 1", "shares": 5000000},
      {"name": "Founder 2", "shares": 5000000}
    ],
    "unusedOptions": 500000,
    "safes": [
      {"name": "Angel Investor", "investment": 500000, "cap": 10000000, "discount": 0, "type": "post"}
    ],
    "seriesInvestment": [
      {"name": "Series A Lead", "investment": 5000000}
    ]
  }'
```

### Example 3: Multiple SAFEs with different terms

```bash
curl -X POST https://startup-finance.1984.vc/api/calculate \
  -H "Content-Type: application/json" \
  -d '{
    "preMoneyValuation": 30000000,
    "targetOptionsPool": 12,
    "shareholders": [
      {"name": "CEO", "shares": 6000000},
      {"name": "CTO", "shares": 4000000}
    ],
    "unusedOptions": 1000000,
    "safes": [
      {"name": "YC", "investment": 500000, "cap": 0, "discount": 0, "type": "post"},
      {"name": "Pre-seed Fund", "investment": 1000000, "cap": 8000000, "discount": 0, "type": "post"},
      {"name": "Seed Fund", "investment": 2000000, "cap": 15000000, "discount": 20, "type": "post"}
    ],
    "seriesInvestment": [
      {"name": "Lead VC", "investment": 8000000},
      {"name": "Follow-on VC", "investment": 2000000}
    ]
  }'
```

## Notes

- All monetary values are in dollars (not cents)
- Percentages are expressed as whole numbers (10 for 10%, not 0.10)
- Shares are calculated using standard rounding rules (shares round down, PPS rounds up to 5 decimal places)
- Post-money SAFEs convert based on post-money capitalization
- Pre-money SAFEs convert based on pre-money capitalization
- The options pool is calculated on a post-money basis
