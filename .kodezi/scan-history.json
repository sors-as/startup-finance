[{"id":"1752602727570","timestamp":"2025-07-15T18:05:27.570Z","title":"Scan of .","projectPath":".","issueCount":284,"issues":[{"id":"/home/mdp/src/1984/startup-finance/vite.config.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/vite.config.ts","line":9,"column":7,"message":"Inconsistent alias path resolution: '@' uses path.resolve with __dirname while '@library' uses absolute path string","description":"Inconsistent alias path resolution: '@' uses path.resolve with __dirname while '@library' uses absolute path string This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use consistent path resolution for both aliases using path.resolve","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    alias: {\n      \"@\": path.resolve(__dirname, \"./src/app\"),\n      '@library': path.resolve(__dirname, \"./src/library\"),\n    },","description":"Use consistent path resolution for both aliases using path.resolve","content":"    alias: {\n      \"@\": path.resolve(__dirname, \"./src/app\"),\n      '@library': path.resolve(__dirname, \"./src/library\"),\n    },"}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.test.json-error-0","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/tsconfig.test.json","line":10,"column":5,"message":"Property 'resolveJsonModule' should be 'resolveJsonModules' (plural)","description":"Property 'resolveJsonModule' should be 'resolveJsonModules' (plural) This will likely cause errors during execution.","suggestion":"Change 'resolveJsonModule' to 'resolveJsonModules' to match the correct TypeScript compiler option","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    \"resolveJsonModules\": true,","description":"Change 'resolveJsonModule' to 'resolveJsonModules' to match the correct TypeScript compiler option","content":"    \"resolveJsonModules\": true,"}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.node.json-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/tsconfig.node.json","line":4,"column":14,"message":"Target version mismatch: target is ES2022 but lib includes ES2023","description":"Target version mismatch: target is ES2022 but lib includes ES2023 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Align target and lib versions - either use ES2022 for both or ES2023 for both","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    \"target\": \"ES2023\",","description":"Align target and lib versions - either use ES2022 for both or ES2023 for both","content":"    \"target\": \"ES2023\","}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.json-error-0","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/tsconfig.json","line":2,"column":3,"message":"TypeScript project references configuration has empty files array but should typically include common files or be omitted","description":"TypeScript project references configuration has empty files array but should typically include common files or be omitted This will likely cause errors during execution.","suggestion":"Remove the empty files array or include necessary files like index.ts","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"{\n  \"references\": [\n    { \"path\": \"./tsconfig.app.json\" },\n    { \"path\": \"./tsconfig.node.json\" }\n  ],\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@/*\": [\"./src/app/*\"]\n    }\n  }\n}","description":"Remove the empty files array or include necessary files like index.ts","content":"{\n  \"references\": [\n    { \"path\": \"./tsconfig.app.json\" },\n    { \"path\": \"./tsconfig.node.json\" }\n  ],\n  \"compilerOptions\": {\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@/*\": [\"./src/app/*\"]\n    }\n  }\n}"}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.app.json-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/tsconfig.app.json","line":21,"column":6,"message":"Trailing comma after last property in JSON object","description":"Trailing comma after last property in JSON object This will likely cause errors during execution.","suggestion":"Remove the trailing comma after the last property in the JSON object","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    }\n  },","description":"Remove the trailing comma after the last property in the JSON object","content":"    }\n  },"}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.app.json-error-1","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/tsconfig.app.json","line":22,"column":4,"message":"Trailing comma after last property in compilerOptions object","description":"Trailing comma after last property in compilerOptions object This will likely cause errors during execution.","suggestion":"Remove the trailing comma after the compilerOptions object","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  }","description":"Remove the trailing comma after the compilerOptions object","content":"  }"}},{"id":"/home/mdp/src/1984/startup-finance/tailwind.config.js-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/tailwind.config.js","line":58,"column":3,"message":"Incorrect plugins configuration format - should be an array, not an object","description":"Incorrect plugins configuration format - should be an array, not an object This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change plugins from object to array format and import the plugin properly","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"plugins: [require(\"tailwindcss-animate\")],","description":"Change plugins from object to array format and import the plugin properly","content":"plugins: [require(\"tailwindcss-animate\")],"}},{"id":"/home/mdp/src/1984/startup-finance/package.json-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/package.json","line":16,"column":5,"message":"Jest testing dependencies are in main dependencies instead of devDependencies","description":"Jest testing dependencies are in main dependencies instead of devDependencies This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Move Jest-related packages (@jest/globals, jest, jest-environment-jsdom, ts-jest) to devDependencies since they are only needed during development","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  \"dependencies\": {\n    \"@google/clasp\": \"3.0.1-alpha1\",\n    \"@radix-ui/react-select\": \"^2.1.6\",\n    \"@radix-ui/react-slot\": \"^1.1.2\",\n    \"@tailwindcss/vite\": \"^4.0.14\",\n    \"@types/google-apps-script\": \"^1.0.97\",\n    \"class-variance-authority\": \"^0.7.1\",\n    \"clsx\": \"^2.1.1\",\n    \"lucide-react\": \"^0.479.0\",\n    \"lz-string\": \"^1.5.0\",\n    \"react\": \"^19.0.0\",\n    \"react-currency-input-field\": \"^3.10.0\",\n    \"react-dom\": \"^19.0.0\",\n    \"react-icons\": \"^5.5.0\",\n    \"react-tooltip\": \"^5.28.0\",\n    \"reselect\": \"^5.1.1\",\n    \"shadcn\": \"2.4.0-canary.14\",\n    \"tailwind-merge\": \"^3.0.2\",\n    \"tailwindcss\": \"^4.0.14\",\n    \"tailwindcss-animate\": \"^1.0.7\",\n    \"zustand\": \"^5.0.3\"\n  },\n  \"devDependencies\": {\n    \"@eslint/js\": \"^9.21.0\",\n    \"@jest/globals\": \"^29.7.0\",\n    \"@types/node\": \"^22.13.10\",\n    \"@types/react\": \"^19.0.10\",\n    \"@types/react-dom\": \"^19.0.4\",\n    \"@vitejs/plugin-react\": \"^4.3.4\",\n    \"eslint\": \"^9.21.0\",\n    \"eslint-plugin-react-hooks\": \"^5.1.0\",\n    \"eslint-plugin-react-refresh\": \"^0.4.19\",\n    \"globals\": \"^15.15.0\",\n    \"jest\": \"^29.7.0\",\n    \"jest-environment-jsdom\": \"^29.7.0\",\n    \"ts-jest\": \"^29.2.6\",\n    \"typescript\": \"~5.7.2\",\n    \"typescript-eslint\": \"^8.24.1\",\n    \"vite\": \"^6.2.0\"\n  }","description":"Move Jest-related packages (@jest/globals, jest, jest-environment-jsdom, ts-jest) to devDependencies since they are only needed during development","content":"  \"dependencies\": {\n    \"@google/clasp\": \"3.0.1-alpha1\",\n    \"@radix-ui/react-select\": \"^2.1.6\",\n    \"@radix-ui/react-slot\": \"^1.1.2\",\n    \"@tailwindcss/vite\": \"^4.0.14\",\n    \"@types/google-apps-script\": \"^1.0.97\",\n    \"class-variance-authority\": \"^0.7.1\",\n    \"clsx\": \"^2.1.1\",\n    \"lucide-react\": \"^0.479.0\",\n    \"lz-string\": \"^1.5.0\",\n    \"react\": \"^19.0.0\",\n    \"react-currency-input-field\": \"^3.10.0\",\n    \"react-dom\": \"^19.0.0\",\n    \"react-icons\": \"^5.5.0\",\n    \"react-tooltip\": \"^5.28.0\",\n    \"reselect\": \"^5.1.1\",\n    \"shadcn\": \"2.4.0-canary.14\",\n    \"tailwind-merge\": \"^3.0.2\",\n    \"tailwindcss\": \"^4.0.14\",\n    \"tailwindcss-animate\": \"^1.0.7\",\n    \"zustand\": \"^5.0.3\"\n  },\n  \"devDependencies\": {\n    \"@eslint/js\": \"^9.21.0\",\n    \"@jest/globals\": \"^29.7.0\",\n    \"@types/node\": \"^22.13.10\",\n    \"@types/react\": \"^19.0.10\",\n    \"@types/react-dom\": \"^19.0.4\",\n    \"@vitejs/plugin-react\": \"^4.3.4\",\n    \"eslint\": \"^9.21.0\",\n    \"eslint-plugin-react-hooks\": \"^5.1.0\",\n    \"eslint-plugin-react-refresh\": \"^0.4.19\",\n    \"globals\": \"^15.15.0\",\n    \"jest\": \"^29.7.0\",\n    \"jest-environment-jsdom\": \"^29.7.0\",\n    \"ts-jest\": \"^29.2.6\",\n    \"typescript\": \"~5.7.2\",\n    \"typescript-eslint\": \"^8.24.1\",\n    \"vite\": \"^6.2.0\"\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/package.json-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/package.json","line":9,"column":21,"message":"Potential file operation error in build:hugo script without error handling","description":"Potential file operation error in build:hugo script without error handling This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add error handling to the build:hugo script or use safer file operations with proper error checking","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/index.html-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/index.html","line":6,"column":10,"message":"Invalid attribute combination: 'icon shortcut' should be 'shortcut icon'","description":"Invalid attribute combination: 'icon shortcut' should be 'shortcut icon' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change 'rel=\"icon shortcut\"' to 'rel=\"shortcut icon\"' for proper HTML5 compliance","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    <link rel=\"shortcut icon\" href=\"https://1984.vc/favicon.ico\" sizes=\"32x32\" />","description":"Change 'rel=\"icon shortcut\"' to 'rel=\"shortcut icon\"' for proper HTML5 compliance","content":"    <link rel=\"shortcut icon\" href=\"https://1984.vc/favicon.ico\" sizes=\"32x32\" />"}},{"id":"/home/mdp/src/1984/startup-finance/index.html-error-1","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/index.html","line":25,"column":5,"message":"Script module path references non-existent file structure","description":"Script module path references non-existent file structure This will likely cause errors during execution.","suggestion":"Verify the path '/src/app/main.tsx' exists relative to the document root, or update the path to the correct location","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/eslint.config.js-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/eslint.config.js","line":9,"column":5,"message":"Missing parser configuration for TypeScript files","description":"Missing parser configuration for TypeScript files This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add parser configuration to languageOptions for proper TypeScript parsing","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n      parser: tseslint.parser,\n    },","description":"Add parser configuration to languageOptions for proper TypeScript parsing","content":"    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n      parser: tseslint.parser,\n    },"}},{"id":"/home/mdp/src/1984/startup-finance/components.json-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/components.json","line":7,"column":11,"message":"CSS file path 'src/app/index.css' may be incorrect - typically should be 'src/app/globals.css' for Next.js applications","description":"CSS file path 'src/app/index.css' may be incorrect - typically should be 'src/app/globals.css' for Next.js applications This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Verify the CSS file path exists or use the standard Next.js globals.css path","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"\"css\": \"src/app/globals.css\",","description":"Verify the CSS file path exists or use the standard Next.js globals.css path","content":"\"css\": \"src/app/globals.css\","}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":1,"column":23,"message":"Missing error handling for require() calls that could fail if modules are not installed","description":"Missing error handling for require() calls that could fail if modules are not installed This code works but could be improved for better maintainability.","suggestion":"Add try-catch blocks around require() calls or check if modules exist","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":2,"column":32,"message":"Missing error handling for require() calls that could fail if modules are not installed","description":"Missing error handling for require() calls that could fail if modules are not installed This code works but could be improved for better maintainability.","suggestion":"Add try-catch blocks around require() calls or check if modules exist","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":3,"column":17,"message":"Missing error handling for require() calls that could fail if modules are not installed","description":"Missing error handling for require() calls that could fail if modules are not installed This code works but could be improved for better maintainability.","suggestion":"Add try-catch blocks around require() calls or check if modules exist","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":7,"column":19,"message":"Missing error handling for package.json file reading that could fail if file doesn't exist","description":"Missing error handling for package.json file reading that could fail if file doesn't exist This code works but could be improved for better maintainability.","suggestion":"Add try-catch block around package.json require or check if file exists","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":6,"column":15,"message":"Hard-coded entry path may not exist, no validation of file existence","description":"Hard-coded entry path may not exist, no validation of file existence This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add file existence check or make path configurable","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json","line":17,"column":44,"message":"Trailing comma not allowed in JSON","description":"Trailing comma not allowed in JSON This will likely cause errors during execution.","suggestion":"Remove the trailing comma after the last property in the paths object","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      \"@library/*\": [\"../src/library/*\"]","description":"Remove the trailing comma after the last property in the paths object","content":"      \"@library/*\": [\"../src/library/*\"]"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json-error-1","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json","line":25,"column":3,"message":"Trailing comma not allowed in JSON","description":"Trailing comma not allowed in JSON This will likely cause errors during execution.","suggestion":"Remove the trailing comma after the last item in the exclude array","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  ]","description":"Remove the trailing comma after the last item in the exclude array","content":"  ]"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml-security-0","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml","line":264,"column":3,"message":"Deprecated package 'google-p12-pem' with security implications","description":"Deprecated package 'google-p12-pem' with security implications This could potentially expose your application to security vulnerabilities.","suggestion":"Replace deprecated google-p12-pem package with a maintained alternative or updated authentication method","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml-security-1","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml","line":798,"column":3,"message":"Outdated TypeScript version with potential security vulnerabilities","description":"Outdated TypeScript version with potential security vulnerabilities This could potentially expose your application to security vulnerabilities.","suggestion":"Update TypeScript to version 5.7.2 or later for security patches","rule":"security","category":"Security","fix":{"type":"replace","oldCode":"","newCode":"  typescript@5.7.2:\n    resolution: {integrity: sha512-i5t66RHxDvVN40HfDd1PsEThGNnlMCMT3jMUuoh9/0TaqWevNontacunWyN02LA9/fIbEWlcHZcgTKb9QoaLfg==}\n    engines: {node: '>=14.17'}\n    hasBin: true","description":"Update TypeScript to version 5.7.2 or later for security patches","content":"  typescript@5.7.2:\n    resolution: {integrity: sha512-i5t66RHxDvVN40HfDd1PsEThGNnlMCMT3jMUuoh9/0TaqWevNontacunWyN02LA9/fIbEWlcHZcgTKb9QoaLfg==}\n    engines: {node: '>=14.17'}\n    hasBin: true"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml","line":1217,"column":12,"message":"Version mismatch in TypeScript dependencies","description":"Version mismatch in TypeScript dependencies This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Ensure all TypeScript dependencies use the same version to avoid compatibility issues","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      typescript: 5.7.2","description":"Ensure all TypeScript dependencies use the same version to avoid compatibility issues","content":"      typescript: 5.7.2"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml-security-3","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml","line":148,"column":5,"message":"Potential dependency confusion with unspecified peer dependencies","description":"Potential dependency confusion with unspecified peer dependencies This could potentially expose your application to security vulnerabilities.","suggestion":"Specify exact versions for peer dependencies to prevent dependency confusion attacks","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml","line":1033,"column":3,"message":"Missing integrity check for some package resolutions","description":"Missing integrity check for some package resolutions This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Ensure all package resolutions include integrity hashes for security","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json","line":10,"column":15,"message":"License field should use SPDX identifier format","description":"License field should use SPDX identifier format This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use SPDX license identifier 'GPL-3.0-or-later' instead of 'GPL'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"\"GPL-3.0-or-later\"","description":"Use SPDX license identifier 'GPL-3.0-or-later' instead of 'GPL'","content":"\"GPL-3.0-or-later\""}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json","line":8,"column":13,"message":"ESLint script lacks file pattern specification","description":"ESLint script lacks file pattern specification This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Specify file patterns for ESLint to avoid configuration issues","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"\"eslint src/**/*.ts\"","description":"Specify file patterns for ESLint to avoid configuration issues","content":"\"eslint src/**/*.ts\""}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json","line":12,"column":5,"message":"Production dependency should be in devDependencies","description":"Production dependency should be in devDependencies This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Move tsconfig-paths-webpack-plugin to devDependencies as it's a build tool","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  \"dependencies\": {},\n  \"devDependencies\": {\n    \"@google/clasp\": \"^2.4.2\",\n    \"@types/google-apps-script\": \"^1.0.83\",\n    \"@typescript-eslint/eslint-plugin\": \"^8.4.0\",\n    \"@typescript-eslint/parser\": \"^8.4.0\",\n    \"eslint\": \"^9.9.1\",\n    \"eslint-config-prettier\": \"^9.1.0\",\n    \"eslint-plugin-googleappsscript\": \"^1.0.5\",\n    \"gas-webpack-plugin\": \"^2.6.0\",\n    \"prettier\": \"^3.3.3\",\n    \"tsconfig-paths-webpack-plugin\": \"^4.1.0\",\n    \"typescript\": \"^5.5.4\",\n    \"webpack\": \"^5.94.0\",\n    \"webpack-cli\": \"^5.1.4\"\n  }","description":"Move tsconfig-paths-webpack-plugin to devDependencies as it's a build tool","content":"  \"dependencies\": {},\n  \"devDependencies\": {\n    \"@google/clasp\": \"^2.4.2\",\n    \"@types/google-apps-script\": \"^1.0.83\",\n    \"@typescript-eslint/eslint-plugin\": \"^8.4.0\",\n    \"@typescript-eslint/parser\": \"^8.4.0\",\n    \"eslint\": \"^9.9.1\",\n    \"eslint-config-prettier\": \"^9.1.0\",\n    \"eslint-plugin-googleappsscript\": \"^1.0.5\",\n    \"gas-webpack-plugin\": \"^2.6.0\",\n    \"prettier\": \"^3.3.3\",\n    \"tsconfig-paths-webpack-plugin\": \"^4.1.0\",\n    \"typescript\": \"^5.5.4\",\n    \"webpack\": \"^5.94.0\",\n    \"webpack-cli\": \"^5.1.4\"\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/appsscript.json-error-0","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/appsscript.json","line":3,"column":20,"message":"Deprecated runtime version V8 should be updated to V8_STABLE","description":"Deprecated runtime version V8 should be updated to V8_STABLE This will likely cause errors during execution.","suggestion":"Update runtimeVersion from 'V8' to 'V8_STABLE' for better stability and latest features","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"\"V8_STABLE\"","description":"Update runtimeVersion from 'V8' to 'V8_STABLE' for better stability and latest features","content":"\"V8_STABLE\""}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/appsscript.json-error-1","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/appsscript.json","line":2,"column":23,"message":"Deprecated exceptionLogging value 'STACKDRIVER' should be updated to 'CLOUD_LOGGING'","description":"Deprecated exceptionLogging value 'STACKDRIVER' should be updated to 'CLOUD_LOGGING' This will likely cause errors during execution.","suggestion":"Update exceptionLogging from 'STACKDRIVER' to 'CLOUD_LOGGING' as Stackdriver has been rebranded to Cloud Logging","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"\"CLOUD_LOGGING\"","description":"Update exceptionLogging from 'STACKDRIVER' to 'CLOUD_LOGGING' as Stackdriver has been rebranded to Cloud Logging","content":"\"CLOUD_LOGGING\""}},{"id":"/home/mdp/src/1984/startup-finance/dist/index.html-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/index.html","line":6,"column":5,"message":"Invalid rel attribute value - 'icon shortcut' should be 'shortcut icon'","description":"Invalid rel attribute value - 'icon shortcut' should be 'shortcut icon' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change rel='icon shortcut' to rel='shortcut icon' for proper HTML5 syntax","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    <link rel=\"shortcut icon\" href=\"https://1984.vc/favicon.ico\" sizes=\"32x32\" />","description":"Change rel='icon shortcut' to rel='shortcut icon' for proper HTML5 syntax","content":"    <link rel=\"shortcut icon\" href=\"https://1984.vc/favicon.ico\" sizes=\"32x32\" />"}},{"id":"/home/mdp/src/1984/startup-finance/dist/index.html-error-1","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/dist/index.html","line":24,"column":5,"message":"Missing nonce attribute for script tag with crossorigin - potential security risk","description":"Missing nonce attribute for script tag with crossorigin - potential security risk This will likely cause errors during execution.","suggestion":"Add nonce attribute or implement Content Security Policy for script security","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/dist/index.html-performance-2","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/index.html","line":24,"column":5,"message":"Missing preload hints for critical CSS and JS resources","description":"Missing preload hints for critical CSS and JS resources This implementation could impact application performance.","suggestion":"Add <link rel='preload'> tags for critical CSS and JS files to improve loading performance","rule":"performance","category":"Performance Issues","fix":{"type":"insert","oldCode":"","newCode":"    <link rel=\"preload\" href=\"/assets/index-Dr3-wBCE.css\" as=\"style\" />\n    <link rel=\"preload\" href=\"/assets/index-DbHeFuxL.js\" as=\"script\" />\n","description":"Add <link rel='preload'> tags for critical CSS and JS files to improve loading performance","content":"    <link rel=\"preload\" href=\"/assets/index-Dr3-wBCE.css\" as=\"style\" />\n    <link rel=\"preload\" href=\"/assets/index-DbHeFuxL.js\" as=\"script\" />\n"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":87,"column":17,"message":"Division by zero potential when shares parameter is 0","description":"Division by zero potential when shares parameter is 0 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to check if shares is zero before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const safeConvert = (\n  safe: SAFENote,\n  preShares: number,\n  postShares: number,\n  pps: number,\n): number => {\n  if (safe.cap === 0) {\n    return (1 - safe.discount) * pps;\n  }\n  const discountPPS = (1 - safe.discount) * pps;\n\n  const shares = safe.conversionType === \"pre\" ? preShares : postShares;\n  if (shares === 0) {\n    throw new Error(\"Cannot calculate cap PPS: shares value is zero\");\n  }\n  const capPPS = safe.cap / shares;\n  return Math.min(discountPPS, capPPS);\n};","description":"Add validation to check if shares is zero before division","content":"export const safeConvert = (\n  safe: SAFENote,\n  preShares: number,\n  postShares: number,\n  pps: number,\n): number => {\n  if (safe.cap === 0) {\n    return (1 - safe.discount) * pps;\n  }\n  const discountPPS = (1 - safe.discount) * pps;\n\n  const shares = safe.conversionType === \"pre\" ? preShares : postShares;\n  if (shares === 0) {\n    throw new Error(\"Cannot calculate cap PPS: shares value is zero\");\n  }\n  const capPPS = safe.cap / shares;\n  return Math.min(discountPPS, capPPS);\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-bug-1","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":70,"column":31,"message":"Division by zero potential when discountPPS is 0","description":"Division by zero potential when discountPPS is 0 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to check if discountPPS is zero before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const sumSafeConvertedShares = (\n  safes: SAFENote[],\n  pps: number,\n  preMoneyShares: number,\n  postMoneyShares: number,\n  roundingStrategy: RoundingStrategy,\n): number => {\n  return sumArray(\n    safes.map((safe) => {\n      const discountPPS = roundPPSToPlaces(safeConvert(safe, preMoneyShares, postMoneyShares, pps), roundingStrategy.roundPPSPlaces);\n      if (discountPPS === 0) {\n        throw new Error(\"Cannot calculate shares: discountPPS is zero\");\n      }\n      const postSafeShares = safe.investment / discountPPS;\n      return roundShares(postSafeShares, roundingStrategy);\n    }),\n  );\n};","description":"Add validation to check if discountPPS is zero before division","content":"export const sumSafeConvertedShares = (\n  safes: SAFENote[],\n  pps: number,\n  preMoneyShares: number,\n  postMoneyShares: number,\n  roundingStrategy: RoundingStrategy,\n): number => {\n  return sumArray(\n    safes.map((safe) => {\n      const discountPPS = roundPPSToPlaces(safeConvert(safe, preMoneyShares, postMoneyShares, pps), roundingStrategy.roundPPSPlaces);\n      if (discountPPS === 0) {\n        throw new Error(\"Cannot calculate shares: discountPPS is zero\");\n      }\n      const postSafeShares = safe.investment / discountPPS;\n      return roundShares(postSafeShares, roundingStrategy);\n    }),\n  );\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":35,"column":5,"message":"Unnecessary nullish coalescing operator - reduce already returns 0 as default","description":"Unnecessary nullish coalescing operator - reduce already returns 0 as default This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the unnecessary ?? 0 since reduce already has 0 as initial value","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const getMFNCapAfter = (rows: SAFENote[], idx: number): number => {\n  // For each safe after the idx, find the lowest number that's not 0\n  // and return that number\n  return rows.slice(idx + 1).reduce((val, row) => {\n\n      // Ignore anything that's in MFN\n      if (isMFN(row)) {\n        return val;\n      }\n\n      // Ignore Pre-money safes for now. The assumption is that the MFN is Post-money (YC's is)\n      if (row.conversionType === \"pre\") {\n        return val;\n      }\n\n      // if the value is 0, return the cap (this is the lowest possible value)\n      if (val === 0) {\n        return row.cap;\n      }\n      // If the value is greater than 0 and the cap is greater than 0 and less than the value\n      // This is our new MFN\n      if (val > 0 && row.cap > 0 && row.cap < val) {\n        return row.cap;\n      }\n      // Just return the current value\n      return val;\n    }, 0);\n};","description":"Remove the unnecessary ?? 0 since reduce already has 0 as initial value","content":"const getMFNCapAfter = (rows: SAFENote[], idx: number): number => {\n  // For each safe after the idx, find the lowest number that's not 0\n  // and return that number\n  return rows.slice(idx + 1).reduce((val, row) => {\n\n      // Ignore anything that's in MFN\n      if (isMFN(row)) {\n        return val;\n      }\n\n      // Ignore Pre-money safes for now. The assumption is that the MFN is Post-money (YC's is)\n      if (row.conversionType === \"pre\") {\n        return val;\n      }\n\n      // if the value is 0, return the cap (this is the lowest possible value)\n      if (val === 0) {\n        return row.cap;\n      }\n      // If the value is greater than 0 and the cap is greater than 0 and less than the value\n      // This is our new MFN\n      if (val > 0 && row.cap > 0 && row.cap < val) {\n        return row.cap;\n      }\n      // Just return the current value\n      return val;\n    }, 0);\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":93,"column":3,"message":"Early return in forEach loop - should use for loop or other control structure","description":"Early return in forEach loop - should use for loop or other control structure This code works but could be improved for better maintainability.","suggestion":"Use for loop or find method to properly handle early termination","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const checkSafeNotesForErrors = (safeNotes: SAFENote[]): CapTableOwnershipError | undefined => {\n  for (const safe of safeNotes) {\n    if (safe.investment >= safe.cap && safe.cap !== 0) {\n      return {\n        type: 'error',\n        reason: \"Investment is greater than Cap\"\n      };\n    }\n  }\n  return undefined;\n}","description":"Use for loop or find method to properly handle early termination","content":"export const checkSafeNotesForErrors = (safeNotes: SAFENote[]): CapTableOwnershipError | undefined => {\n  for (const safe of safeNotes) {\n    if (safe.investment >= safe.cap && safe.cap !== 0) {\n      return {\n        type: 'error',\n        reason: \"Investment is greater than Cap\"\n      };\n    }\n  }\n  return undefined;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":114,"column":3,"message":"Potential infinite loop - no safeguard if convergence is not achieved within 100 iterations","description":"Potential infinite loop - no safeguard if convergence is not achieved within 100 iterations This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add explicit handling for non-convergence case and consider logging or throwing an error","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  let converged = false;\n  for (let i = 0; i < 100; i++) {\n    totalShares = attemptFit(\n      preMoneyValuation,\n      commonShares,\n      unusedOptions,\n      targetOptionsPct,\n      safes,\n      seriesInvestments,\n      totalShares,\n      roundingStrategy\n    );\n\n    if (totalShares === lastTotalShares) {\n      converged = true;\n      break;\n    }\n    lastTotalShares = totalShares;\n  }\n\n  if (!converged) {\n    console.warn('Conversion solver did not converge within 100 iterations');\n  }","description":"Add explicit handling for non-convergence case and consider logging or throwing an error","content":"  let converged = false;\n  for (let i = 0; i < 100; i++) {\n    totalShares = attemptFit(\n      preMoneyValuation,\n      commonShares,\n      unusedOptions,\n      targetOptionsPct,\n      safes,\n      seriesInvestments,\n      totalShares,\n      roundingStrategy\n    );\n\n    if (totalShares === lastTotalShares) {\n      converged = true;\n      break;\n    }\n    lastTotalShares = totalShares;\n  }\n\n  if (!converged) {\n    console.warn('Conversion solver did not converge within 100 iterations');\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":57,"column":46,"message":"Redundant array mapping - seriesInvestments.map with identity function","description":"Redundant array mapping - seriesInvestments.map with identity function This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove unnecessary map operation and use sumArray directly","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const seriesInvestment = sumArray(seriesInvestments);","description":"Remove unnecessary map operation and use sumArray directly","content":"  const seriesInvestment = sumArray(seriesInvestments);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-error-2","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":61,"column":15,"message":"Division by zero potential - no validation that totalShares is not zero","description":"Division by zero potential - no validation that totalShares is not zero This will likely cause errors during execution.","suggestion":"Add validation to ensure totalShares is greater than zero before division","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  if (totalShares <= 0) {\n    throw new Error('Total shares must be greater than zero');\n  }\n\n  const pps = roundPPSToPlaces((preMoneyValuation + seriesInvestment) / totalShares, roundingStrategy.roundPPSPlaces);","description":"Add validation to ensure totalShares is greater than zero before division","content":"  if (totalShares <= 0) {\n    throw new Error('Total shares must be greater than zero');\n  }\n\n  const pps = roundPPSToPlaces((preMoneyValuation + seriesInvestment) / totalShares, roundingStrategy.roundPPSPlaces);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-error-3","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":63,"column":5,"message":"Division by zero potential - no validation that pps is not zero","description":"Division by zero potential - no validation that pps is not zero This will likely cause errors during execution.","suggestion":"Add validation to ensure pps is greater than zero before division","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  if (pps <= 0) {\n    throw new Error('Price per share must be greater than zero');\n  }\n\n  const seriesShares = sumArray(\n    seriesInvestments.map((seriesInvestment) =>\n      roundShares(seriesInvestment / pps, roundingStrategy),\n    ),\n  );","description":"Add validation to ensure pps is greater than zero before division","content":"  if (pps <= 0) {\n    throw new Error('Price per share must be greater than zero');\n  }\n\n  const seriesShares = sumArray(\n    seriesInvestments.map((seriesInvestment) =>\n      roundShares(seriesInvestment / pps, roundingStrategy),\n    ),\n  );"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":34,"column":1,"message":"Missing input validation - no checks for negative values in financial calculations","description":"Missing input validation - no checks for negative values in financial calculations This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add input validation to ensure all financial values are non-negative","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const calculatePreAndPostMoneyShares = (\n  preMoneyValuation: number,\n  commonShares: number,\n  unusedOptions: number,\n  targetOptionsPct: number,\n  seriesInvestments: number[],\n  totalShares: number, // This is only number that changes\n  roundingStrategy: RoundingStrategy = DEFAULT_ROUNDING_STRATEGY,\n): PreAndPostMoneyCalculation => {\n  // Input validation\n  if (preMoneyValuation < 0) throw new Error('Pre-money valuation cannot be negative');\n  if (commonShares < 0) throw new Error('Common shares cannot be negative');\n  if (unusedOptions < 0) throw new Error('Unused options cannot be negative');\n  if (targetOptionsPct < 0 || targetOptionsPct > 1) throw new Error('Target options percentage must be between 0 and 1');\n  if (seriesInvestments.some(inv => inv < 0)) throw new Error('Series investments cannot be negative');\n  if (totalShares <= 0) throw new Error('Total shares must be positive');","description":"Add input validation to ensure all financial values are non-negative","content":"const calculatePreAndPostMoneyShares = (\n  preMoneyValuation: number,\n  commonShares: number,\n  unusedOptions: number,\n  targetOptionsPct: number,\n  seriesInvestments: number[],\n  totalShares: number, // This is only number that changes\n  roundingStrategy: RoundingStrategy = DEFAULT_ROUNDING_STRATEGY,\n): PreAndPostMoneyCalculation => {\n  // Input validation\n  if (preMoneyValuation < 0) throw new Error('Pre-money valuation cannot be negative');\n  if (commonShares < 0) throw new Error('Common shares cannot be negative');\n  if (unusedOptions < 0) throw new Error('Unused options cannot be negative');\n  if (targetOptionsPct < 0 || targetOptionsPct > 1) throw new Error('Target options percentage must be between 0 and 1');\n  if (seriesInvestments.some(inv => inv < 0)) throw new Error('Series investments cannot be negative');\n  if (totalShares <= 0) throw new Error('Total shares must be positive');"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/main.tsx-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/main.tsx","line":5,"column":12,"message":"Potential runtime error if 'root' element is not found in DOM. The non-null assertion operator (!) assumes the element exists but provides no error handling if it doesn't.","description":"Potential runtime error if 'root' element is not found in DOM. The non-null assertion operator (!) assumes the element exists but provides no error handling if it doesn't. This code works but could be improved for better maintainability.","suggestion":"Add proper error handling to check if the root element exists before attempting to create a React root","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"const rootElement = document.getElementById('root');\nif (!rootElement) {\n  throw new Error('Root element not found');\n}\ncreateRoot(rootElement).render(","description":"Add proper error handling to check if the root element exists before attempting to create a React root","content":"const rootElement = document.getElementById('root');\nif (!rootElement) {\n  throw new Error('Root element not found');\n}\ncreateRoot(rootElement).render("}},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-error-0","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":1,"column":1,"message":"Invalid @import syntax - missing 'url()' wrapper or quotes","description":"Invalid @import syntax - missing 'url()' wrapper or quotes This will likely cause errors during execution.","suggestion":"Use proper @import syntax with quotes or url() wrapper","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"@import \"tailwindcss/base\";\n@import \"tailwindcss/components\";\n@import \"tailwindcss/utilities\";","description":"Use proper @import syntax with quotes or url() wrapper","content":"@import \"tailwindcss/base\";\n@import \"tailwindcss/components\";\n@import \"tailwindcss/utilities\";"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-error-1","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":3,"column":1,"message":"Invalid @plugin directive - not standard CSS syntax","description":"Invalid @plugin directive - not standard CSS syntax This will likely cause errors during execution.","suggestion":"This appears to be Tailwind CSS configuration that belongs in tailwind.config.js, not CSS","rule":"error","category":"Bugs & Errors","fix":{"type":"delete","oldCode":"","newCode":"","description":"This appears to be Tailwind CSS configuration that belongs in tailwind.config.js, not CSS"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-error-2","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":5,"column":1,"message":"Invalid @custom-variant directive - not standard CSS syntax","description":"Invalid @custom-variant directive - not standard CSS syntax This will likely cause errors during execution.","suggestion":"This appears to be Tailwind CSS configuration that belongs in tailwind.config.js, not CSS","rule":"error","category":"Bugs & Errors","fix":{"type":"delete","oldCode":"","newCode":"","description":"This appears to be Tailwind CSS configuration that belongs in tailwind.config.js, not CSS"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-error-3","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":87,"column":1,"message":"Invalid @theme directive - not standard CSS syntax","description":"Invalid @theme directive - not standard CSS syntax This will likely cause errors during execution.","suggestion":"Use standard CSS :root selector instead of @theme directive","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":":root {","description":"Use standard CSS :root selector instead of @theme directive","content":":root {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":49,"column":17,"message":"Inconsistent color format - mixing hex and oklch values","description":"Inconsistent color format - mixing hex and oklch values This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use consistent color format (oklch) throughout the theme","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  --background: oklch(0.067 0 0);","description":"Use consistent color format (oklch) throughout the theme","content":"  --background: oklch(0.067 0 0);"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":82,"column":66,"message":"Extra closing brace in error message template literal","description":"Extra closing brace in error message template literal This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the extra closing brace from the error message","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for premoney, expected number, got ${preMoney}`,","description":"Remove the extra closing brace from the error message","content":"        `SAFE_CONVERSION: Invalid input for premoney, expected number, got ${preMoney}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-bug-1","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":87,"column":69,"message":"Extra closing brace in error message template literal","description":"Extra closing brace in error message template literal This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the extra closing brace from the error message","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for commonShares, expected number, got ${commonShares}`,","description":"Remove the extra closing brace from the error message","content":"        `SAFE_CONVERSION: Invalid input for commonShares, expected number, got ${commonShares}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-bug-2","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":92,"column":70,"message":"Extra closing brace in error message template literal","description":"Extra closing brace in error message template literal This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the extra closing brace from the error message","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for unusedOptions, expected number, got ${unusedOptions}`,","description":"Remove the extra closing brace from the error message","content":"        `SAFE_CONVERSION: Invalid input for unusedOptions, expected number, got ${unusedOptions}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-bug-3","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":97,"column":75,"message":"Extra closing brace in error message template literal","description":"Extra closing brace in error message template literal This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the extra closing brace from the error message","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for targetOptionsPct, expected number, got ${targetOptionsPct}`,","description":"Remove the extra closing brace from the error message","content":"        `SAFE_CONVERSION: Invalid input for targetOptionsPct, expected number, got ${targetOptionsPct}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-bug-4","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":102,"column":71,"message":"Wrong variable used in error message - should be roundPPSPlaces instead of seriesInvestmentRanges","description":"Wrong variable used in error message - should be roundPPSPlaces instead of seriesInvestmentRanges This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use the correct variable name in the error message","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for roundPPSPlaces, expected a number, got ${roundPPSPlaces}`,","description":"Use the correct variable name in the error message","content":"        `SAFE_CONVERSION: Invalid input for roundPPSPlaces, expected a number, got ${roundPPSPlaces}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":118,"column":20,"message":"Unsafe type assertion in catch block - Error may not have a message property","description":"Unsafe type assertion in catch block - Error may not have a message property This code works but could be improved for better maintainability.","suggestion":"Use safer error handling with proper type checks","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    const message = e instanceof Error ? e.message : String(e);","description":"Use safer error handling with proper type checks","content":"    const message = e instanceof Error ? e.message : String(e);"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-bug-6","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":77,"column":5,"message":"Type checking logic is incorrect - parameters are converted to numbers but then checked for non-number types","description":"Type checking logic is incorrect - parameters are converted to numbers but then checked for non-number types This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove type checks and use toNumber() function consistently for all numeric parameters","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const preMoneyNum = toNumber(preMoney);\n    const commonSharesNum = toNumber(commonShares);\n    const unusedOptionsNum = toNumber(unusedOptions);\n    const targetOptionsPctNum = toNumber(targetOptionsPct);","description":"Remove type checks and use toNumber() function consistently for all numeric parameters","content":"    const preMoneyNum = toNumber(preMoney);\n    const commonSharesNum = toNumber(commonShares);\n    const unusedOptionsNum = toNumber(unusedOptions);\n    const targetOptionsPctNum = toNumber(targetOptionsPct);"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":6580,"message":"Extremely large border-radius value (3.40282e38px) may cause rendering issues","description":"Extremely large border-radius value (3.40282e38px) may cause rendering issues This violates code style conventions and may reduce readability.","suggestion":"Use a more reasonable border-radius value like 50% or 9999px for circular elements","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":".rounded-full{border-radius:9999px}","description":"Use a more reasonable border-radius value like 50% or 9999px for circular elements","content":".rounded-full{border-radius:9999px}"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":1045,"message":"Missing space around operator in CSS calculation","description":"Missing space around operator in CSS calculation This violates code style conventions and may reduce readability.","suggestion":"Add spaces around operators in CSS calc() functions for better readability","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"--text-base--line-height: 1.5;","description":"Add spaces around operators in CSS calc() functions for better readability","content":"--text-base--line-height: 1.5;"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":1175,"message":"Missing space around operator in CSS calculation","description":"Missing space around operator in CSS calculation This violates code style conventions and may reduce readability.","suggestion":"Add spaces around operators in CSS calc() functions for better readability","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"--text-3xl--line-height: 1.2;","description":"Add spaces around operators in CSS calc() functions for better readability","content":"--text-3xl--line-height: 1.2;"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":2845,"message":"Missing space around operator in CSS calculation","description":"Missing space around operator in CSS calculation This violates code style conventions and may reduce readability.","suggestion":"Add spaces around operators in CSS calc() functions for better readability","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"--tw-translate-x: -50%;","description":"Add spaces around operators in CSS calc() functions for better readability","content":"--tw-translate-x: -50%;"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":2945,"message":"Missing space around operator in CSS calculation","description":"Missing space around operator in CSS calculation This violates code style conventions and may reduce readability.","suggestion":"Add spaces around operators in CSS calc() functions for better readability","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"--tw-translate-y: -50%;","description":"Add spaces around operators in CSS calc() functions for better readability","content":"--tw-translate-y: -50%;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":2,"column":3,"message":"Conflicting boolean properties in RoundingStrategy type could lead to ambiguous behavior","description":"Conflicting boolean properties in RoundingStrategy type could lead to ambiguous behavior This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use a union type or enum to ensure mutually exclusive rounding strategies","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export type RoundingStrategy = {\n  roundingType?: 'down' | 'round' | 'none';\n  // If no rounding, set to -1\n  roundPPSPlaces: number;\n};","description":"Use a union type or enum to ensure mutually exclusive rounding strategies","content":"export type RoundingStrategy = {\n  roundingType?: 'down' | 'round' | 'none';\n  // If no rounding, set to -1\n  roundPPSPlaces: number;\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":8,"column":1,"message":"Function logic allows both roundDownShares and roundShares to be true simultaneously, creating ambiguous behavior","description":"Function logic allows both roundDownShares and roundShares to be true simultaneously, creating ambiguous behavior This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure only one rounding strategy is active, or use a more explicit approach","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const roundShares = (num: number, strategy: RoundingStrategy): number => {\n  if (strategy.roundDownShares && strategy.roundShares) {\n    throw new Error('Cannot specify both roundDownShares and roundShares');\n  }\n  if (strategy.roundDownShares) {\n    return Math.floor(num);\n  } else if (strategy.roundShares) {\n    return Math.round(num);\n  }\n  return num;\n};","description":"Add validation to ensure only one rounding strategy is active, or use a more explicit approach","content":"export const roundShares = (num: number, strategy: RoundingStrategy): number => {\n  if (strategy.roundDownShares && strategy.roundShares) {\n    throw new Error('Cannot specify both roundDownShares and roundShares');\n  }\n  if (strategy.roundDownShares) {\n    return Math.floor(num);\n  } else if (strategy.roundShares) {\n    return Math.round(num);\n  }\n  return num;\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":8,"column":38,"message":"No input validation for NaN, Infinity, or null/undefined values","description":"No input validation for NaN, Infinity, or null/undefined values This code works but could be improved for better maintainability.","suggestion":"Add input validation to handle edge cases like NaN, Infinity, and null/undefined","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const roundShares = (num: number, strategy: RoundingStrategy): number => {\n  if (!Number.isFinite(num)) {\n    throw new Error('Input must be a finite number');\n  }\n  if (strategy.roundDownShares && strategy.roundShares) {\n    throw new Error('Cannot specify both roundDownShares and roundShares');\n  }\n  if (strategy.roundDownShares) {\n    return Math.floor(num);\n  } else if (strategy.roundShares) {\n    return Math.round(num);\n  }\n  return num;\n};","description":"Add input validation to handle edge cases like NaN, Infinity, and null/undefined","content":"export const roundShares = (num: number, strategy: RoundingStrategy): number => {\n  if (!Number.isFinite(num)) {\n    throw new Error('Input must be a finite number');\n  }\n  if (strategy.roundDownShares && strategy.roundShares) {\n    throw new Error('Cannot specify both roundDownShares and roundShares');\n  }\n  if (strategy.roundDownShares) {\n    return Math.floor(num);\n  } else if (strategy.roundShares) {\n    return Math.round(num);\n  }\n  return num;\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":18,"column":42,"message":"No input validation for NaN, Infinity, or null/undefined values","description":"No input validation for NaN, Infinity, or null/undefined values This code works but could be improved for better maintainability.","suggestion":"Add input validation to handle edge cases like NaN, Infinity, and null/undefined","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const roundPPSToPlaces = (num: number, places: number): number => {\n  if (!Number.isFinite(num)) {\n    throw new Error('Input must be a finite number');\n  }\n  if (!Number.isInteger(places)) {\n    throw new Error('Places must be an integer');\n  }\n  if (places < 0) {\n    return num;\n  }\n  const factor = Math.pow(10, places);\n  return Math.ceil(num * factor) / factor;\n};","description":"Add input validation to handle edge cases like NaN, Infinity, and null/undefined","content":"export const roundPPSToPlaces = (num: number, places: number): number => {\n  if (!Number.isFinite(num)) {\n    throw new Error('Input must be a finite number');\n  }\n  if (!Number.isInteger(places)) {\n    throw new Error('Places must be an integer');\n  }\n  if (places < 0) {\n    return num;\n  }\n  const factor = Math.pow(10, places);\n  return Math.ceil(num * factor) / factor;\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":26,"column":36,"message":"No input validation for NaN, Infinity, or null/undefined values","description":"No input validation for NaN, Infinity, or null/undefined values This code works but could be improved for better maintainability.","suggestion":"Add input validation to handle edge cases like NaN, Infinity, and null/undefined","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const roundToPlaces = (num: number, places: number): number => {\n  if (!Number.isFinite(num)) {\n    throw new Error('Input must be a finite number');\n  }\n  if (!Number.isInteger(places)) {\n    throw new Error('Places must be an integer');\n  }\n  if (places < 0) {\n    return num;\n  }\n  const factor = Math.pow(10, places);\n  return Math.round(num * factor) / factor;\n};","description":"Add input validation to handle edge cases like NaN, Infinity, and null/undefined","content":"export const roundToPlaces = (num: number, places: number): number => {\n  if (!Number.isFinite(num)) {\n    throw new Error('Input must be a finite number');\n  }\n  if (!Number.isInteger(places)) {\n    throw new Error('Places must be an integer');\n  }\n  if (places < 0) {\n    return num;\n  }\n  const factor = Math.pow(10, places);\n  return Math.round(num * factor) / factor;\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":7,"column":14,"message":"parseInt with empty string returns NaN, which may cause runtime errors in calling functions","description":"parseInt with empty string returns NaN, which may cause runtime errors in calling functions This code works but could be improved for better maintainability.","suggestion":"Add validation to handle empty strings and return 0 or throw an error","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    return cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);","description":"Add validation to handle empty strings and return 0 or throw an error","content":"    const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    return cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":7,"column":14,"message":"No validation for NaN result from parseFloat/parseInt, which will cause toLocaleString to throw or return 'NaN'","description":"No validation for NaN result from parseFloat/parseInt, which will cause toLocaleString to throw or return 'NaN' This code works but could be improved for better maintainability.","suggestion":"Add NaN validation after parsing numbers","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    const result = cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);\n    return isNaN(result) ? 0 : result;","description":"Add NaN validation after parsing numbers","content":"    const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    const result = cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);\n    return isNaN(result) ? 0 : result;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":9,"column":14,"message":"Multiple periods in string (e.g., '1.2.3') will be parsed as valid number by parseFloat, potentially causing unexpected behavior","description":"Multiple periods in string (e.g., '1.2.3') will be parsed as valid number by parseFloat, potentially causing unexpected behavior This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Validate that string contains at most one period before parsing","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    const periodCount = (cleanedValue.match(/\\./g) || []).length;\n    if (periodCount > 1) {\n      return 0;\n    }\n    const result = cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);\n    return isNaN(result) ? 0 : result;","description":"Validate that string contains at most one period before parsing","content":"    const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    const periodCount = (cleanedValue.match(/\\./g) || []).length;\n    if (periodCount > 1) {\n      return 0;\n    }\n    const result = cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);\n    return isNaN(result) ? 0 : result;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":17,"column":10,"message":"toLocaleString may throw if value is NaN, but no validation is performed on the converted string value","description":"toLocaleString may throw if value is NaN, but no validation is performed on the converted string value This code works but could be improved for better maintainability.","suggestion":"Add NaN validation before calling toLocaleString","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"$0.00\";\n  }","description":"Add NaN validation before calling toLocaleString","content":"  if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"$0.00\";\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":28,"column":10,"message":"toLocaleString may throw if value is NaN, but no validation is performed on the converted string value","description":"toLocaleString may throw if value is NaN, but no validation is performed on the converted string value This code works but could be improved for better maintainability.","suggestion":"Add NaN validation before calling toLocaleString","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"0\";\n  }","description":"Add NaN validation before calling toLocaleString","content":"  if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"0\";\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":39,"column":19,"message":"No validation for NaN value which would cause toFixed to throw an error","description":"No validation for NaN value which would cause toFixed to throw an error This code works but could be improved for better maintainability.","suggestion":"Add NaN validation before performing mathematical operations","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"$0.0\";\n  }","description":"Add NaN validation before performing mathematical operations","content":"  if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"$0.0\";\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":19,"column":3,"message":"Inconsistent optional property handling: 'name' is optional in BaseStake but required in CommonStockholder","description":"Inconsistent optional property handling: 'name' is optional in BaseStake but required in CommonStockholder This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider making 'name' consistently optional or required across all types, or use a more specific base type","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":20,"column":3,"message":"Inconsistent optional property handling: 'shares' is optional in BaseStake but required in CommonStockholder","description":"Inconsistent optional property handling: 'shares' is optional in BaseStake but required in CommonStockholder This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider making 'shares' consistently optional or required across all types, or use a more specific base type","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":17,"column":8,"message":"Type constraint mismatch: BaseStake type constraint excludes CapTableRowType.RefreshedOptions but it's used in CapTableRow union","description":"Type constraint mismatch: BaseStake type constraint excludes CapTableRowType.RefreshedOptions but it's used in CapTableRow union This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add CapTableRowType.RefreshedOptions to BaseStake type constraint or create a separate base type for RefreshedOptions","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  type: CapTableRowType.Common | CapTableRowType.Safe | CapTableRowType.Series | CapTableRowType.RefreshedOptions;","description":"Add CapTableRowType.RefreshedOptions to BaseStake type constraint or create a separate base type for RefreshedOptions","content":"  type: CapTableRowType.Common | CapTableRowType.Safe | CapTableRowType.Series | CapTableRowType.RefreshedOptions;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":17,"column":8,"message":"Missing 'Total' type in BaseStake constraint but TotalCapTableRow exists in CapTableRow union","description":"Missing 'Total' type in BaseStake constraint but TotalCapTableRow exists in CapTableRow union This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add CapTableRowType.Total to BaseStake type constraint or create a separate base type for Total rows","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  type: CapTableRowType.Common | CapTableRowType.Safe | CapTableRowType.Series | CapTableRowType.Total | CapTableRowType.RefreshedOptions;","description":"Add CapTableRowType.Total to BaseStake type constraint or create a separate base type for Total rows","content":"  type: CapTableRowType.Common | CapTableRowType.Safe | CapTableRowType.Series | CapTableRowType.Total | CapTableRowType.RefreshedOptions;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":42,"column":3,"message":"Inconsistent property requirements: 'ownershipPct' is optional in BaseCapTableRow but required in multiple derived types","description":"Inconsistent property requirements: 'ownershipPct' is optional in BaseCapTableRow but required in multiple derived types This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider making ownershipPct consistently optional or required, or use conditional types for different row types","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":20,"column":39,"message":"Potential runtime error: Array index access may be undefined when safeNotes length exceeds pricedConversion.ppss length","description":"Potential runtime error: Array index access may be undefined when safeNotes length exceeds pricedConversion.ppss length This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add proper bounds checking or handle the case when ppss array is shorter than safeNotes array","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-1","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":17,"column":47,"message":"Division by zero vulnerability: totalShares could be zero leading to runtime error","description":"Division by zero vulnerability: totalShares could be zero leading to runtime error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure totalShares is greater than zero before performing division","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-2","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":22,"column":28,"message":"Division by zero vulnerability: totalShares could be zero leading to runtime error","description":"Division by zero vulnerability: totalShares could be zero leading to runtime error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure totalShares is greater than zero before performing division","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-3","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":35,"column":17,"message":"Division by zero vulnerability: totalShares could be zero leading to runtime error","description":"Division by zero vulnerability: totalShares could be zero leading to runtime error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure totalShares is greater than zero before performing division","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-4","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":46,"column":24,"message":"Division by zero vulnerability: totalShares could be zero leading to runtime error","description":"Division by zero vulnerability: totalShares could be zero leading to runtime error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure totalShares is greater than zero before performing division","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-5","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":21,"column":33,"message":"Division by zero vulnerability: pps could be zero leading to runtime error","description":"Division by zero vulnerability: pps could be zero leading to runtime error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure pps is greater than zero before performing division","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-6","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":44,"column":33,"message":"Division by zero vulnerability: pricedConversion.pps could be zero leading to runtime error","description":"Division by zero vulnerability: pricedConversion.pps could be zero leading to runtime error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure pricedConversion.pps is greater than zero before performing division","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-7","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":19,"column":36,"message":"Inconsistent array indexing: Using array index for safeNotes but not validating against ppss array length","description":"Inconsistent array indexing: Using array index for safeNotes but not validating against ppss array length This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Ensure the mapping logic accounts for potential mismatch between safeNotes and ppss arrays","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":86,"column":51,"message":"Division by zero vulnerability when postSharePct equals 1","description":"Division by zero vulnerability when postSharePct equals 1 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure postSharePct is less than 1 before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  // Check for invalid postSharePct that would cause division by zero\n  if (postSharePct >= 1) {\n    return buildErrorPreRoundCapTable(safeNotes, [...commonShareholders])\n  }\n  \n  // Now we can use this to get pre-money ownership Pct\n  const postShareCapitilization = roundShares((preMoneyShares + preMoneySafeShares) / ( 1 - postSharePct), roundingStrategy)","description":"Add validation to ensure postSharePct is less than 1 before division","content":"  // Check for invalid postSharePct that would cause division by zero\n  if (postSharePct >= 1) {\n    return buildErrorPreRoundCapTable(safeNotes, [...commonShareholders])\n  }\n  \n  // Now we can use this to get pre-money ownership Pct\n  const postShareCapitilization = roundShares((preMoneyShares + preMoneySafeShares) / ( 1 - postSharePct), roundingStrategy)"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-bug-1","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":159,"column":22,"message":"Division by zero vulnerability when totalShares is zero","description":"Division by zero vulnerability when totalShares is zero This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure totalShares is greater than zero before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const commonCapTable: CommonCapTableRow[] = commonShareholders.map((stockholder) => {\n    const ownershipPct = totalShares > 0 ? stockholder.shares / postShareCapitilization : 0;\n    return {\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }\n  })","description":"Add validation to ensure totalShares is greater than zero before division","content":"  const commonCapTable: CommonCapTableRow[] = commonShareholders.map((stockholder) => {\n    const ownershipPct = totalShares > 0 ? stockholder.shares / postShareCapitilization : 0;\n    return {\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }\n  })"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-bug-2","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":220,"column":22,"message":"Division by zero vulnerability when totalShares is zero","description":"Division by zero vulnerability when totalShares is zero This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure totalShares is greater than zero before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const commonCapTable: CommonCapTableRow[] = commonShareholders.map((stockholder) => {\n    const ownershipPct = totalShares > 0 ? stockholder.shares / totalShares : 0;\n    return {\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }\n  })","description":"Add validation to ensure totalShares is greater than zero before division","content":"  const commonCapTable: CommonCapTableRow[] = commonShareholders.map((stockholder) => {\n    const ownershipPct = totalShares > 0 ? stockholder.shares / totalShares : 0;\n    return {\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }\n  })"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-bug-3","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":230,"column":18,"message":"Division by zero vulnerability when totalShares is zero","description":"Division by zero vulnerability when totalShares is zero This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure totalShares is greater than zero before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const ownershipPct = totalShares > 0 ? shares / totalShares : 0;","description":"Add validation to ensure totalShares is greater than zero before division","content":"    const ownershipPct = totalShares > 0 ? shares / totalShares : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":228,"column":31,"message":"Array index access without bounds checking","description":"Array index access without bounds checking This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking before accessing array index","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const pps = pricedConversion.ppss[idx];\n    if (pps === undefined) {\n      throw new Error(`Missing PPS for SAFE at index ${idx}`);\n    }","description":"Add bounds checking before accessing array index","content":"    const pps = pricedConversion.ppss[idx];\n    if (pps === undefined) {\n      throw new Error(`Missing PPS for SAFE at index ${idx}`);\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":48,"column":36,"message":"Missing null/undefined check for discount value","description":"Missing null/undefined check for discount value This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null/undefined check for discount property","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      if ((safe.discount ?? 0) > 0) {","description":"Add null/undefined check for discount property","content":"      if ((safe.discount ?? 0) > 0) {"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-bug-6","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":134,"column":31,"message":"Missing null/undefined check for discount value","description":"Missing null/undefined check for discount value This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null/undefined check for discount property","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    } else if ((safe.discount ?? 0) > 0) {","description":"Add null/undefined check for discount property","content":"    } else if ((safe.discount ?? 0) > 0) {"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/index.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/index.ts","line":12,"column":23,"message":"Division by zero vulnerability when totalCommonShares is 0","description":"Division by zero vulnerability when totalCommonShares is 0 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add a check to handle the case when totalCommonShares is 0 to prevent division by zero","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      ownershipPct: totalCommonShares > 0 ? stockholder.shares / totalCommonShares : 0,","description":"Add a check to handle the case when totalCommonShares is 0 to prevent division by zero","content":"      ownershipPct: totalCommonShares > 0 ? stockholder.shares / totalCommonShares : 0,"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/index.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/index.ts","line":7,"column":77,"message":"No validation for empty or invalid input array","description":"No validation for empty or invalid input array This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add input validation to handle null, undefined, or empty arrays gracefully","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const buildExistingShareholderCapTable = (commonStockholders: CommonStockholder[]): CommonCapTableRow[] => {\n  if (!commonStockholders || commonStockholders.length === 0) {\n    return [];\n  }\n  const totalCommonShares = commonStockholders.reduce((acc, stockholder) => acc + stockholder.shares, 0);\n  return commonStockholders.map((stockholder) => {\n    return {\n      id: stockholder.id,\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct: totalCommonShares > 0 ? stockholder.shares / totalCommonShares : 0,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }\n  })\n}","description":"Add input validation to handle null, undefined, or empty arrays gracefully","content":"export const buildExistingShareholderCapTable = (commonStockholders: CommonStockholder[]): CommonCapTableRow[] => {\n  if (!commonStockholders || commonStockholders.length === 0) {\n    return [];\n  }\n  const totalCommonShares = commonStockholders.reduce((acc, stockholder) => acc + stockholder.shares, 0);\n  return commonStockholders.map((stockholder) => {\n    return {\n      id: stockholder.id,\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct: totalCommonShares > 0 ? stockholder.shares / totalCommonShares : 0,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }\n  })\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":48,"column":12,"message":"Division by zero potential when safe.cap is 0 in condition check","description":"Division by zero potential when safe.cap is 0 in condition check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Handle the case where safe.cap is 0 more explicitly to avoid potential division by zero in related calculations","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    if (safe.cap > 0 && safe.investment >= safe.cap) {\n      safeOwnershipError.reason = \"SAFE's investment cannot equal or exceed the Cap\"","description":"Handle the case where safe.cap is 0 more explicitly to avoid potential division by zero in related calculations","content":"    if (safe.cap > 0 && safe.investment >= safe.cap) {\n      safeOwnershipError.reason = \"SAFE's investment cannot equal or exceed the Cap\""}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":3,"column":25,"message":"Missing error handling for empty arrays and potential reduce operation on empty array","description":"Missing error handling for empty arrays and potential reduce operation on empty array This code works but could be improved for better maintainability.","suggestion":"Add checks for empty arrays before performing reduce operations to prevent potential runtime errors","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  const totalInvestment = safeNotes.length > 0 ? safeNotes.reduce((acc, investor) => acc + investor.investment, 0) : 0;","description":"Add checks for empty arrays before performing reduce operations to prevent potential runtime errors","content":"  const totalInvestment = safeNotes.length > 0 ? safeNotes.reduce((acc, investor) => acc + investor.investment, 0) : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":4,"column":23,"message":"Missing error handling for empty arrays and potential reduce operation on empty array","description":"Missing error handling for empty arrays and potential reduce operation on empty array This code works but could be improved for better maintainability.","suggestion":"Add checks for empty arrays before performing reduce operations to prevent potential runtime errors","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  const totalShares = common.length > 0 ? common.reduce((acc, common) => acc + common.shares, 0) : 0;","description":"Add checks for empty arrays before performing reduce operations to prevent potential runtime errors","content":"  const totalShares = common.length > 0 ? common.reduce((acc, common) => acc + common.shares, 0) : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":37,"column":25,"message":"Missing error handling for empty arrays and potential reduce operation on empty array","description":"Missing error handling for empty arrays and potential reduce operation on empty array This code works but could be improved for better maintainability.","suggestion":"Add checks for empty arrays before performing reduce operations to prevent potential runtime errors","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  const totalInvestment = safeNotes.length > 0 ? safeNotes.reduce((acc, investor) => acc + investor.investment, 0) : 0;","description":"Add checks for empty arrays before performing reduce operations to prevent potential runtime errors","content":"  const totalInvestment = safeNotes.length > 0 ? safeNotes.reduce((acc, investor) => acc + investor.investment, 0) : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":38,"column":23,"message":"Missing error handling for empty arrays and potential reduce operation on empty array","description":"Missing error handling for empty arrays and potential reduce operation on empty array This code works but could be improved for better maintainability.","suggestion":"Add checks for empty arrays before performing reduce operations to prevent potential runtime errors","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  const totalShares = common.length > 0 ? common.reduce((acc, common) => acc + common.shares, 0) : 0;","description":"Add checks for empty arrays before performing reduce operations to prevent potential runtime errors","content":"  const totalShares = common.length > 0 ? common.reduce((acc, common) => acc + common.shares, 0) : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":39,"column":34,"message":"Incomplete error object - missing required 'reason' property for error type","description":"Incomplete error object - missing required 'reason' property for error type This code works but could be improved for better maintainability.","suggestion":"Add a reason property to the error object or handle the case where reason might be undefined","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  const ownershipError: CapTableOwnershipError = {\n    type: \"error\",\n    reason: \"General ownership calculation error\",\n  }","description":"Add a reason property to the error object or handle the case where reason might be undefined","content":"  const ownershipError: CapTableOwnershipError = {\n    type: \"error\",\n    reason: \"General ownership calculation error\",\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":18,"column":11,"message":"Typo in variable name: 'exptectedTotalShares' should be 'expectedTotalShares'","description":"Typo in variable name: 'exptectedTotalShares' should be 'expectedTotalShares' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Fix the typo by changing 'exptectedTotalShares' to 'expectedTotalShares'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const expectedTotalShares = 20_606_916;","description":"Fix the typo by changing 'exptectedTotalShares' to 'expectedTotalShares'","content":"    const expectedTotalShares = 20_606_916;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":36,"column":50,"message":"Variable name mismatch: using 'exptectedTotalShares' instead of 'expectedTotalShares'","description":"Variable name mismatch: using 'exptectedTotalShares' instead of 'expectedTotalShares' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use the correct variable name 'expectedTotalShares'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(Math.round(totalShares)).toEqual(expectedTotalShares);","description":"Use the correct variable name 'expectedTotalShares'","content":"    expect(Math.round(totalShares)).toEqual(expectedTotalShares);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-error-2","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":49,"column":31,"message":"Type mismatch: 'seriesInvestment' is assigned string 'foo' but function expects array type based on previous test","description":"Type mismatch: 'seriesInvestment' is assigned string 'foo' but function expects array type based on previous test This will likely cause errors during execution.","suggestion":"Use an invalid array structure instead of a string to properly test error handling","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const seriesInvestment = [\"invalid\"];","description":"Use an invalid array structure instead of a string to properly test error handling","content":"    const seriesInvestment = [\"invalid\"];"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-error-3","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":27,"column":17,"message":"Potential runtime error: accessing array elements without bounds checking","description":"Potential runtime error: accessing array elements without bounds checking This will likely cause errors during execution.","suggestion":"Add proper bounds checking or use optional chaining consistently","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-error-4","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":28,"column":23,"message":"Potential runtime error: accessing array elements without bounds checking","description":"Potential runtime error: accessing array elements without bounds checking This will likely cause errors during execution.","suggestion":"Add proper bounds checking or use optional chaining consistently","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-error-5","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":65,"column":12,"message":"Potential runtime error: accessing array elements without bounds checking","description":"Potential runtime error: accessing array elements without bounds checking This will likely cause errors during execution.","suggestion":"Add bounds checking before accessing array elements","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":21,"column":11,"message":"Typo in variable name: 'exptectedTotalOptions' should be 'expectedTotalOptions'","description":"Typo in variable name: 'exptectedTotalOptions' should be 'expectedTotalOptions' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Fix the typo in variable name","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const expectedTotalOptions = 0;","description":"Fix the typo in variable name","content":"    const expectedTotalOptions = 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":33,"column":30,"message":"Reference to misspelled variable 'exptectedTotalOptions' should be 'expectedTotalOptions'","description":"Reference to misspelled variable 'exptectedTotalOptions' should be 'expectedTotalOptions' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Fix the typo in variable reference","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(fit.totalOptions).toEqual(expectedTotalOptions);","description":"Fix the typo in variable reference","content":"    expect(fit.totalOptions).toEqual(expectedTotalOptions);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":73,"column":11,"message":"Typo in variable name: 'exptectedTotalOptions' should be 'expectedTotalOptions'","description":"Typo in variable name: 'exptectedTotalOptions' should be 'expectedTotalOptions' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Fix the typo in variable name","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const expectedTotalOptions = 2_104_076;","description":"Fix the typo in variable name","content":"    const expectedTotalOptions = 2_104_076;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":83,"column":44,"message":"Reference to misspelled variable 'exptectedTotalOptions' should be 'expectedTotalOptions'","description":"Reference to misspelled variable 'exptectedTotalOptions' should be 'expectedTotalOptions' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Fix the typo in variable reference","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(Math.round(fit.totalOptions)).toEqual(expectedTotalOptions);","description":"Fix the typo in variable reference","content":"    expect(Math.round(fit.totalOptions)).toEqual(expectedTotalOptions);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":198,"column":27,"message":"Missing semicolon at end of statement","description":"Missing semicolon at end of statement This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add semicolon at the end of the statement","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const common = 15_201_645;","description":"Add semicolon at the end of the statement","content":"    const common = 15_201_645;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":294,"column":26,"message":"Inconsistent data type usage: 'unusedOptions' is sometimes used as object with properties, sometimes as number","description":"Inconsistent data type usage: 'unusedOptions' is sometimes used as object with properties, sometimes as number This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use consistent data type for unusedOptions throughout the test","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts","line":5,"column":40,"message":"Using deprecated substr() method which is marked for removal","description":"Using deprecated substr() method which is marked for removal This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Replace substr() with substring() or slice() method","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    uuid += Math.random().toString(36).substring(2, 13);","description":"Replace substr() with substring() or slice() method","content":"    uuid += Math.random().toString(36).substring(2, 13);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts-security-1","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts","line":5,"column":12,"message":"Math.random() is cryptographically insecure for UUID generation","description":"Math.random() is cryptographically insecure for UUID generation This could potentially expose your application to security vulnerabilities.","suggestion":"Use crypto.randomUUID() or a cryptographically secure random number generator","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts","line":1,"column":14,"message":"Function generates pseudo-random strings of arbitrary length, not proper UUIDs","description":"Function generates pseudo-random strings of arbitrary length, not proper UUIDs This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider using crypto.randomUUID() for RFC 4122 compliant UUIDs or rename function to reflect its actual purpose","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-error-handling-0","type":"error-handling","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":44,"column":19,"message":"Missing error handling for atob() which can throw DOMException for invalid base64","description":"Missing error handling for atob() which can throw DOMException for invalid base64 This will likely cause errors during execution.","suggestion":"Wrap atob() in try-catch block to handle invalid base64 input","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"const decodeVersionMagicCode = (\n  b64: string,\n): [version: number, b64: string] => {\n  try {\n    const version = new Uint8Array(atob(b64.slice(0, 2)).split('').map((char) => char.charCodeAt(0)))[0];\n    const b64str = decodeURLSafeBase64(b64.slice(2));\n    return [version, b64str];\n  } catch (error) {\n    throw new Error('Invalid base64 magic code');\n  }\n};","description":"Wrap atob() in try-catch block to handle invalid base64 input","content":"const decodeVersionMagicCode = (\n  b64: string,\n): [version: number, b64: string] => {\n  try {\n    const version = new Uint8Array(atob(b64.slice(0, 2)).split('').map((char) => char.charCodeAt(0)))[0];\n    const b64str = decodeURLSafeBase64(b64.slice(2));\n    return [version, b64str];\n  } catch (error) {\n    throw new Error('Invalid base64 magic code');\n  }\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-error-handling-1","type":"error-handling","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":54,"column":20,"message":"Missing error handling for JSON.parse() which can throw SyntaxError for invalid JSON","description":"Missing error handling for JSON.parse() which can throw SyntaxError for invalid JSON This will likely cause errors during execution.","suggestion":"Wrap JSON.parse() in try-catch block to handle invalid JSON input","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const decompressState = (str: string): IConversionStateData => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [_version, b64str] = decodeVersionMagicCode(str);\n  // for now, do nothing with the version\n\n  const stateBuffer = decompressFromBase64(b64str);\n  try {\n    const stateObj = JSON.parse(stateBuffer.toString());\n    // Ensure that our old state data is still compatible\n    return migrateState(stateObj as IConversionStateData);\n  } catch (error) {\n    throw new Error('Invalid JSON in compressed state');\n  }\n};","description":"Wrap JSON.parse() in try-catch block to handle invalid JSON input","content":"export const decompressState = (str: string): IConversionStateData => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [_version, b64str] = decodeVersionMagicCode(str);\n  // for now, do nothing with the version\n\n  const stateBuffer = decompressFromBase64(b64str);\n  try {\n    const stateObj = JSON.parse(stateBuffer.toString());\n    // Ensure that our old state data is still compatible\n    return migrateState(stateObj as IConversionStateData);\n  } catch (error) {\n    throw new Error('Invalid JSON in compressed state');\n  }\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":53,"column":23,"message":"No null check for decompressFromBase64 return value which could be null","description":"No null check for decompressFromBase64 return value which could be null This code works but could be improved for better maintainability.","suggestion":"Add null check for decompressFromBase64 result","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  const stateBuffer = decompressFromBase64(b64str);\n  if (!stateBuffer) {\n    throw new Error('Failed to decompress state data');\n  }","description":"Add null check for decompressFromBase64 result","content":"  const stateBuffer = decompressFromBase64(b64str);\n  if (!stateBuffer) {\n    throw new Error('Failed to decompress state data');\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":38,"column":43,"message":"Inconsistent character replacement: using '-' in decodeURLSafeBase64 but never replacing '+' with '-' in encodeURLSafeBase64","description":"Inconsistent character replacement: using '-' in decodeURLSafeBase64 but never replacing '+' with '-' in encodeURLSafeBase64 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the incorrect '-' to '+' replacement or ensure consistent encoding/decoding","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const decodeURLSafeBase64 = (str: string): string => {\n  return str.replace(/_/g, \"/\").replace(/\\./g, \"+\");\n};","description":"Remove the incorrect '-' to '+' replacement or ensure consistent encoding/decoding","content":"const decodeURLSafeBase64 = (str: string): string => {\n  return str.replace(/_/g, \"/\").replace(/\\./g, \"+\");\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":44,"column":37,"message":"Missing input validation for empty or short strings in decodeVersionMagicCode","description":"Missing input validation for empty or short strings in decodeVersionMagicCode This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure string has minimum required length","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"const decodeVersionMagicCode = (\n  b64: string,\n): [version: number, b64: string] => {\n  if (b64.length < 2) {\n    throw new Error('Invalid compressed state: too short');\n  }\n  try {\n    const version = new Uint8Array(atob(b64.slice(0, 2)).split('').map((char) => char.charCodeAt(0)))[0];\n    const b64str = decodeURLSafeBase64(b64.slice(2));\n    return [version, b64str];\n  } catch (error) {\n    throw new Error('Invalid base64 magic code');\n  }\n};","description":"Add validation to ensure string has minimum required length","content":"const decodeVersionMagicCode = (\n  b64: string,\n): [version: number, b64: string] => {\n  if (b64.length < 2) {\n    throw new Error('Invalid compressed state: too short');\n  }\n  try {\n    const version = new Uint8Array(atob(b64.slice(0, 2)).split('').map((char) => char.charCodeAt(0)))[0];\n    const b64str = decodeURLSafeBase64(b64.slice(2));\n    return [version, b64str];\n  } catch (error) {\n    throw new Error('Invalid base64 magic code');\n  }\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts","line":2,"column":5,"message":"Missing error handling for async clipboard operations","description":"Missing error handling for async clipboard operations This code works but could be improved for better maintainability.","suggestion":"Add try-catch block to handle potential clipboard API errors","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export async function copyTextToClipboard(text: string) {\n  if (\"clipboard\" in navigator) {\n    try {\n      return await navigator.clipboard.writeText(text);\n    } catch (error) {\n      console.error('Failed to copy text to clipboard:', error);\n      throw error;\n    }\n  } else {\n    return document.execCommand(\"copy\", true, text);\n  }\n}","description":"Add try-catch block to handle potential clipboard API errors","content":"export async function copyTextToClipboard(text: string) {\n  if (\"clipboard\" in navigator) {\n    try {\n      return await navigator.clipboard.writeText(text);\n    } catch (error) {\n      console.error('Failed to copy text to clipboard:', error);\n      throw error;\n    }\n  } else {\n    return document.execCommand(\"copy\", true, text);\n  }\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts-bug-1","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts","line":5,"column":12,"message":"Incorrect usage of document.execCommand - it doesn't accept text parameter and requires proper setup","description":"Incorrect usage of document.execCommand - it doesn't accept text parameter and requires proper setup This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use proper fallback implementation with textarea element for execCommand","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export async function copyTextToClipboard(text: string) {\n  if (\"clipboard\" in navigator) {\n    try {\n      return await navigator.clipboard.writeText(text);\n    } catch (error) {\n      console.error('Failed to copy text to clipboard:', error);\n      throw error;\n    }\n  } else {\n    const textarea = document.createElement('textarea');\n    textarea.value = text;\n    document.body.appendChild(textarea);\n    textarea.select();\n    const result = document.execCommand('copy');\n    document.body.removeChild(textarea);\n    return result;\n  }\n}","description":"Use proper fallback implementation with textarea element for execCommand","content":"export async function copyTextToClipboard(text: string) {\n  if (\"clipboard\" in navigator) {\n    try {\n      return await navigator.clipboard.writeText(text);\n    } catch (error) {\n      console.error('Failed to copy text to clipboard:', error);\n      throw error;\n    }\n  } else {\n    const textarea = document.createElement('textarea');\n    textarea.value = text;\n    document.body.appendChild(textarea);\n    textarea.select();\n    const result = document.execCommand('copy');\n    document.body.removeChild(textarea);\n    return result;\n  }\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":22,"column":47,"message":"Accessing window object in SSR environment without null check","description":"Accessing window object in SSR environment without null check This will likely cause errors during execution.","suggestion":"Add null check for window object to prevent SSR errors","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const urlHashRef = useRef<string>(typeof window !== 'undefined' ? window.location.hash : '')","description":"Add null check for window object to prevent SSR errors","content":"  const urlHashRef = useRef<string>(typeof window !== 'undefined' ? window.location.hash : '')"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-1","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":68,"column":32,"message":"Accessing localStorage without null check in SSR environment","description":"Accessing localStorage without null check in SSR environment This will likely cause errors during execution.","suggestion":"Add null check for localStorage to prevent SSR errors","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const storedTheme = typeof window !== 'undefined' ? localStorage.getItem('color-theme') : null;","description":"Add null check for localStorage to prevent SSR errors","content":"    const storedTheme = typeof window !== 'undefined' ? localStorage.getItem('color-theme') : null;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-2","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":77,"column":26,"message":"Accessing window.matchMedia without null check in SSR environment","description":"Accessing window.matchMedia without null check in SSR environment This will likely cause errors during execution.","suggestion":"Add null check for window object to prevent SSR errors","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      const prefersDark = typeof window !== 'undefined' ? window.matchMedia('(prefers-color-scheme: dark)').matches : false;","description":"Add null check for window object to prevent SSR errors","content":"      const prefersDark = typeof window !== 'undefined' ? window.matchMedia('(prefers-color-scheme: dark)').matches : false;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-3","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":89,"column":5,"message":"Accessing localStorage without null check","description":"Accessing localStorage without null check This will likely cause errors during execution.","suggestion":"Add null check for localStorage to prevent errors","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    if (typeof window !== 'undefined') {\n      localStorage.setItem('color-theme', newMode ? 'dark' : 'light');\n    }","description":"Add null check for localStorage to prevent errors","content":"    if (typeof window !== 'undefined') {\n      localStorage.setItem('color-theme', newMode ? 'dark' : 'light');\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-4","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":94,"column":32,"message":"Accessing window.matchMedia without null check in useEffect","description":"Accessing window.matchMedia without null check in useEffect This will likely cause errors during execution.","suggestion":"Add null check for window object to prevent SSR errors","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    \n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    \n    const handleChange = (e: MediaQueryListEvent) => {\n      // Only apply system preference changes if no theme is set in localStorage\n      if (!localStorage.getItem('color-theme')) {\n        const prefersDark = e.matches;\n        setDarkMode(prefersDark);\n        document.documentElement.classList.toggle('dark', prefersDark);\n      }\n    };\n    \n    // Add event listener\n    mediaQuery.addEventListener('change', handleChange);\n    \n    // Clean up\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, []);","description":"Add null check for window object to prevent SSR errors","content":"  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    \n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    \n    const handleChange = (e: MediaQueryListEvent) => {\n      // Only apply system preference changes if no theme is set in localStorage\n      if (!localStorage.getItem('color-theme')) {\n        const prefersDark = e.matches;\n        setDarkMode(prefersDark);\n        document.documentElement.classList.toggle('dark', prefersDark);\n      }\n    };\n    \n    // Add event listener\n    mediaQuery.addEventListener('change', handleChange);\n    \n    // Clean up\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, []);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-5","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":98,"column":14,"message":"Accessing localStorage without null check in event handler","description":"Accessing localStorage without null check in event handler This will likely cause errors during execution.","suggestion":"Add null check for localStorage to prevent errors","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-bug-6","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":58,"column":5,"message":"Potential memory leak: URL hash is updated on every state change","description":"Potential memory leak: URL hash is updated on every state change This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider throttling or debouncing the hash updates to prevent excessive URL changes","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-bug-7","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":74,"column":7,"message":"Direct DOM manipulation in React component","description":"Direct DOM manipulation in React component This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider using a ref or state-based approach for DOM manipulation","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":70,"column":23,"message":"Potential type mismatch: stringToNumber may not handle all edge cases properly","description":"Potential type mismatch: stringToNumber may not handle all edge cases properly This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add proper type checking and error handling for stringToNumber function","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":98,"column":19,"message":"Potential runtime error: stringToNumber called with fallback value 0 that may not be a string","description":"Potential runtime error: stringToNumber called with fallback value 0 that may not be a string This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Ensure stringToNumber receives a string input or handle the type conversion properly","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    setPostMoney(stringToNumber((val ?? '0')));","description":"Ensure stringToNumber receives a string input or handle the type conversion properly","content":"    setPostMoney(stringToNumber((val ?? '0')));"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-error-2","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":37,"column":10,"message":"usePrevious hook returns initial value on first render which may cause unexpected behavior","description":"usePrevious hook returns initial value on first render which may cause unexpected behavior This will likely cause errors during execution.","suggestion":"Consider using undefined as initial value or handle the first render case explicitly","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}","description":"Consider using undefined as initial value or handle the first render case explicitly","content":"function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":82,"column":5,"message":"Circular dependency in useEffect may cause infinite re-renders","description":"Circular dependency in useEffect may cause infinite re-renders This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Review the dependency array and consider separating the effects or using useCallback for the comparison logic","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-error-4","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":244,"column":62,"message":"Potential null/undefined access on optional property","description":"Potential null/undefined access on optional property This will likely cause errors during execution.","suggestion":"Add null check before accessing pricedConversion.additionalOptions","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                    {formatNumberWithCommas(pricedConversion?.additionalOptions ?? 0)}","description":"Add null check before accessing pricedConversion.additionalOptions","content":"                    {formatNumberWithCommas(pricedConversion?.additionalOptions ?? 0)}"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts","line":10,"column":90,"message":"Missing semicolon after variable declaration","description":"Missing semicolon after variable declaration This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add semicolon to maintain consistent code style and avoid potential ASI issues","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const pctTotal = roundToPlaces(rows.reduce((acc, row) => acc + (row.ownershipPct ?? 0), 0), 5);","description":"Add semicolon to maintain consistent code style and avoid potential ASI issues","content":"  const pctTotal = roundToPlaces(rows.reduce((acc, row) => acc + (row.ownershipPct ?? 0), 0), 5);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts","line":10,"column":21,"message":"No error handling for potential division by zero or invalid numeric operations","description":"No error handling for potential division by zero or invalid numeric operations This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure numeric operations are safe and handle edge cases","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts","line":6,"column":25,"message":"No validation that rows array is not empty before performing reduce operations","description":"No validation that rows array is not empty before performing reduce operations This code works but could be improved for better maintainability.","suggestion":"Add validation to check if arrays are not empty before performing reduce operations","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts","line":10,"column":3,"message":"Duplicate founder entry with identical name 'Founder 1' - this appears to be a copy-paste error","description":"Duplicate founder entry with identical name 'Founder 1' - this appears to be a copy-paste error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change the name to 'Founder 2' or the intended founder name","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  {\n    shares: 4_500_000,\n    name: \"Founder 2\",\n    type: CapTableRowType.Common,\n    commonType: CommonRowType.Shareholder,\n  },","description":"Change the name to 'Founder 2' or the intended founder name","content":"  {\n    shares: 4_500_000,\n    name: \"Founder 2\",\n    type: CapTableRowType.Common,\n    commonType: CommonRowType.Shareholder,\n  },"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts","line":21,"column":5,"message":"Incorrect commonType for 'Issued Options' - should be 'IssuedOptions' not 'Shareholder'","description":"Incorrect commonType for 'Issued Options' - should be 'IssuedOptions' not 'Shareholder' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change commonType to CommonRowType.IssuedOptions if this enum value exists, or verify the correct type for issued options","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts","line":55,"column":27,"message":"Potential logic error in commonShares calculation - filtering by 'Shareholder' type may incorrectly include 'Issued Options' row","description":"Potential logic error in commonShares calculation - filtering by 'Shareholder' type may incorrectly include 'Issued Options' row This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Verify that the filtering logic correctly excludes option-related rows from common shares calculation","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":15,"column":10,"message":"Duplicate founder entry in commonFixture - both entries have the same name 'Founder 1'","description":"Duplicate founder entry in commonFixture - both entries have the same name 'Founder 1' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change the second founder's name to 'Founder 2' or use a different identifier","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  {\n    shares: 4_500_000,\n    name: \"Founder 2\",\n    type: CapTableRowType.Common,\n    commonType: CommonRowType.Shareholder,\n  },","description":"Change the second founder's name to 'Founder 2' or use a different identifier","content":"  {\n    shares: 4_500_000,\n    name: \"Founder 2\",\n    type: CapTableRowType.Common,\n    commonType: CommonRowType.Shareholder,\n  },"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":26,"column":18,"message":"Inconsistent CommonRowType for 'Issued Options' - should be 'IssuedOptions' instead of 'Shareholder'","description":"Inconsistent CommonRowType for 'Issued Options' - should be 'IssuedOptions' instead of 'Shareholder' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change commonType to CommonRowType.IssuedOptions if it exists, or verify the correct enum value","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-error-2","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":108,"column":12,"message":"Type assertion without proper type checking - accessing safes[2] without verifying array length","description":"Type assertion without proper type checking - accessing safes[2] without verifying array length This will likely cause errors during execution.","suggestion":"Add proper bounds checking before accessing array elements","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(safes.length).toBeGreaterThan(2);\n    expect(safes[2].type === CapTableRowType.Safe && safes[2].ownershipPct?.toFixed(5)).toEqual(\"0.07727\");","description":"Add proper bounds checking before accessing array elements","content":"    expect(safes.length).toBeGreaterThan(2);\n    expect(safes[2].type === CapTableRowType.Safe && safes[2].ownershipPct?.toFixed(5)).toEqual(\"0.07727\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-error-3","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":139,"column":12,"message":"Type assertion without proper type checking - accessing safes[2] without verifying array length","description":"Type assertion without proper type checking - accessing safes[2] without verifying array length This will likely cause errors during execution.","suggestion":"Add proper bounds checking before accessing array elements","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(safes.length).toBeGreaterThan(2);\n    expect(safes[2].type === CapTableRowType.Safe && safes[2].ownershipPct?.toFixed(8)).toEqual(\"0.07727277\");","description":"Add proper bounds checking before accessing array elements","content":"    expect(safes.length).toBeGreaterThan(2);\n    expect(safes[2].type === CapTableRowType.Safe && safes[2].ownershipPct?.toFixed(8)).toEqual(\"0.07727277\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx","line":69,"column":91,"message":"Invalid CSS syntax in Tailwind class - malformed custom property expression","description":"Invalid CSS syntax in Tailwind class - malformed custom property expression This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Replace 'max-h-(--radix-select-content-available-height)' with 'max-h-[var(--radix-select-content-available-height)]'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-[var(--radix-select-content-available-height)] min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",","description":"Replace 'max-h-(--radix-select-content-available-height)' with 'max-h-[var(--radix-select-content-available-height)]'","content":"          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-[var(--radix-select-content-available-height)] min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx","line":107,"column":291,"message":"Invalid CSS selector syntax in Tailwind class - malformed selector","description":"Invalid CSS selector syntax in Tailwind class - malformed selector This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove malformed selector '*:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2' as it's not valid CSS","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",","description":"Remove malformed selector '*:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2' as it's not valid CSS","content":"        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/input.tsx-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/input.tsx","line":5,"column":16,"message":"Component lacks proper TypeScript interface definition and prop validation","description":"Component lacks proper TypeScript interface definition and prop validation This code works but could be improved for better maintainability.","suggestion":"Define a proper interface for component props to improve type safety and maintainability","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"interface InputProps extends React.ComponentProps<\"input\"> {\n  className?: string;\n  type?: string;\n}\n\nfunction Input({ className, type, ...props }: InputProps) {","description":"Define a proper interface for component props to improve type safety and maintainability","content":"interface InputProps extends React.ComponentProps<\"input\"> {\n  className?: string;\n  type?: string;\n}\n\nfunction Input({ className, type, ...props }: InputProps) {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/input.tsx-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/input.tsx","line":5,"column":1,"message":"Missing forwardRef implementation for proper ref handling in form libraries","description":"Missing forwardRef implementation for proper ref handling in form libraries This code works but could be improved for better maintainability.","suggestion":"Wrap component with React.forwardRef to enable proper ref forwarding for form libraries and accessibility","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"interface InputProps extends React.ComponentProps<\"input\"> {\n  className?: string;\n  type?: string;\n}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        data-slot=\"input\"\n        ref={ref}\n        className={cn(\n          \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n          \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n          className\n        )}\n        {...props}\n      />\n    )\n  }\n)\n\nInput.displayName = \"Input\"","description":"Wrap component with React.forwardRef to enable proper ref forwarding for form libraries and accessibility","content":"interface InputProps extends React.ComponentProps<\"input\"> {\n  className?: string;\n  type?: string;\n}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        data-slot=\"input\"\n        ref={ref}\n        className={cn(\n          \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n          \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n          className\n        )}\n        {...props}\n      />\n    )\n  }\n)\n\nInput.displayName = \"Input\""}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/card.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/card.tsx","line":26,"column":3,"message":"CardTitle and CardDescription should use semantic HTML elements (h1-h6, p) instead of generic div elements for better accessibility","description":"CardTitle and CardDescription should use semantic HTML elements (h1-h6, p) instead of generic div elements for better accessibility This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use appropriate semantic HTML elements like h3 for CardTitle and p for CardDescription","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))","description":"Use appropriate semantic HTML elements like h3 for CardTitle and p for CardDescription","content":"const CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/card.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/card.tsx","line":35,"column":3,"message":"CardDescription should use semantic HTML paragraph element instead of generic div for better accessibility","description":"CardDescription should use semantic HTML paragraph element instead of generic div for better accessibility This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use p element for CardDescription to improve semantic meaning","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))","description":"Use p element for CardDescription to improve semantic meaning","content":"const CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/button.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/button.tsx","line":37,"column":1,"message":"Missing forwardRef for proper ref handling in component composition","description":"Missing forwardRef for proper ref handling in component composition This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Wrap the Button component with React.forwardRef to properly handle ref forwarding","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const Button = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> &\n    VariantProps<typeof buttonVariants> & {\n      asChild?: boolean\n    }\n>(({ className, variant, size, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nButton.displayName = \"Button\"","description":"Wrap the Button component with React.forwardRef to properly handle ref forwarding","content":"const Button = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> &\n    VariantProps<typeof buttonVariants> & {\n      asChild?: boolean\n    }\n>(({ className, variant, size, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nButton.displayName = \"Button\""}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx","line":6,"column":26,"message":"Unnecessary parameter renaming 'children: children' - the parameter already has the correct name","description":"Unnecessary parameter renaming 'children: children' - the parameter already has the correct name This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the redundant renaming and use just 'children'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"} = ({ content, children }) => {","description":"Remove the redundant renaming and use just 'children'","content":"} = ({ content, children }) => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx-performance-1","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx","line":7,"column":14,"message":"useRef with crypto.randomUUID() will generate a new UUID on every render, but useRef should contain a stable value","description":"useRef with crypto.randomUUID() will generate a new UUID on every render, but useRef should contain a stable value This implementation could impact application performance.","suggestion":"Use useState with lazy initialization or useMemo to generate UUID only once","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"  const id = useRef(`tooltip-${crypto.randomUUID()}`).current;","description":"Use useState with lazy initialization or useMemo to generate UUID only once","content":"  const id = useRef(`tooltip-${crypto.randomUUID()}`).current;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx","line":7,"column":29,"message":"Browser compatibility issue: crypto.randomUUID() is not supported in all browsers and requires HTTPS context","description":"Browser compatibility issue: crypto.randomUUID() is not supported in all browsers and requires HTTPS context This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use a more compatible UUID generation method or add proper fallback","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx","line":7,"column":3,"message":"Component prop 'clickable' is defined but never used","description":"Component prop 'clickable' is defined but never used This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Either use the 'clickable' prop or remove it from the component interface","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const QuestionMarkTooltipComponent: React.FC<{\n  content?: string;\n  children?: React.ReactNode;\n}> = ({ content, children }) => {","description":"Either use the 'clickable' prop or remove it from the component interface","content":"const QuestionMarkTooltipComponent: React.FC<{\n  content?: string;\n  children?: React.ReactNode;\n}> = ({ content, children }) => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx-performance-1","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx","line":10,"column":24,"message":"crypto.randomUUID() is called on every render, potentially causing performance issues","description":"crypto.randomUUID() is called on every render, potentially causing performance issues This implementation could impact application performance.","suggestion":"Move UUID generation outside of render or use useMemo to memoize the value","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"import React, { useRef, useMemo } from \"react\";\nimport { Tooltip } from \"react-tooltip\";\n\nimport { FaRegQuestionCircle } from \"react-icons/fa\";\n\nconst QuestionMarkTooltipComponent: React.FC<{\n  content?: string;\n  children?: React.ReactNode;\n}> = ({ content, children }) => {\n  const id = useMemo(() => `tooltip-${crypto.randomUUID()}`, []);","description":"Move UUID generation outside of render or use useMemo to memoize the value","content":"import React, { useRef, useMemo } from \"react\";\nimport { Tooltip } from \"react-tooltip\";\n\nimport { FaRegQuestionCircle } from \"react-icons/fa\";\n\nconst QuestionMarkTooltipComponent: React.FC<{\n  content?: string;\n  children?: React.ReactNode;\n}> = ({ content, children }) => {\n  const id = useMemo(() => `tooltip-${crypto.randomUUID()}`, []);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx","line":17,"column":9,"message":"Invalid prop 'width' on SVG icon component, should be 'size' for react-icons","description":"Invalid prop 'width' on SVG icon component, should be 'size' for react-icons This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use 'size' prop instead of 'width' for react-icons components","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        <FaRegQuestionCircle size=\"20\" />","description":"Use 'size' prop instead of 'width' for react-icons components","content":"        <FaRegQuestionCircle size=\"20\" />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Icons.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Icons.tsx","line":5,"column":7,"message":"React Icons components do not accept width and height props. Use size prop or CSS styling instead.","description":"React Icons components do not accept width and height props. Use size prop or CSS styling instead. This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Replace width and height props with size prop or use CSS for styling","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      <FaRegQuestionCircle size={20} className=\"inline\" />","description":"Replace width and height props with size prop or use CSS for styling","content":"      <FaRegQuestionCircle size={20} className=\"inline\" />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts","line":40,"column":7,"message":"Nested try-catch blocks with identical error handling logic","description":"Nested try-catch blocks with identical error handling logic This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the redundant outer try-catch block as it serves no purpose","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    try {\n      const items = JSON.parse(recentSerialized) as LocalStorageConversionStateData[];\n      recents = items.sort((a, b) => b.updatedAt - a.updatedAt);\n    } catch (e) {\n      // If we have an error parsing, we should remove the item in order to start fresh\n      console.error(\"Error parsing states from local storage\", e);\n      localStorage.removeItem(RECENT_STATES_KEY);\n    }","description":"Remove the redundant outer try-catch block as it serves no purpose","content":"    try {\n      const items = JSON.parse(recentSerialized) as LocalStorageConversionStateData[];\n      recents = items.sort((a, b) => b.updatedAt - a.updatedAt);\n    } catch (e) {\n      // If we have an error parsing, we should remove the item in order to start fresh\n      console.error(\"Error parsing states from local storage\", e);\n      localStorage.removeItem(RECENT_STATES_KEY);\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts","line":26,"column":3,"message":"Potential memory leak - localStorage test value not cleaned up","description":"Potential memory leak - localStorage test value not cleaned up This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the test value after checking localStorage functionality","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const localStorageWorks = (() => {\n  if (!hasLocalStorage) return false\n  try {\n    window.localStorage.setItem(\"safariTest\", \"1\")\n    const result = window.localStorage.getItem(\"safariTest\") === \"1\";\n    window.localStorage.removeItem(\"safariTest\");\n    return result;\n  } catch (e) {\n    return false;\n  }\n})()","description":"Remove the test value after checking localStorage functionality","content":"export const localStorageWorks = (() => {\n  if (!hasLocalStorage) return false\n  try {\n    window.localStorage.setItem(\"safariTest\", \"1\")\n    const result = window.localStorage.getItem(\"safariTest\") === \"1\";\n    window.localStorage.removeItem(\"safariTest\");\n    return result;\n  } catch (e) {\n    return false;\n  }\n})()"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts-error-2","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts","line":26,"column":3,"message":"Missing error handling for localStorage operations that can throw exceptions","description":"Missing error handling for localStorage operations that can throw exceptions This will likely cause errors during execution.","suggestion":"Wrap localStorage operations in try-catch blocks as they can throw exceptions in private browsing mode","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts-error-3","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts","line":65,"column":5,"message":"Missing error handling for localStorage.setItem operations that can throw exceptions","description":"Missing error handling for localStorage.setItem operations that can throw exceptions This will likely cause errors during execution.","suggestion":"Wrap localStorage.setItem in try-catch blocks as it can throw QuotaExceededError or other exceptions","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts-error-4","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts","line":75,"column":5,"message":"Missing error handling for localStorage.setItem operations that can throw exceptions","description":"Missing error handling for localStorage.setItem operations that can throw exceptions This will likely cause errors during execution.","suggestion":"Wrap localStorage.setItem in try-catch blocks as it can throw QuotaExceededError or other exceptions","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":5,"column":10,"message":"Array.sort() with Math.random() does not produce a proper shuffle and mutates the original array","description":"Array.sort() with Math.random() does not produce a proper shuffle and mutates the original array This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use Fisher-Yates shuffle algorithm and create a copy of the array to avoid mutation","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const randomSeries = () => {\n  const shuffled = [...seriesAInvestors];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}","description":"Use Fisher-Yates shuffle algorithm and create a copy of the array to avoid mutation","content":"export const randomSeries = () => {\n  const shuffled = [...seriesAInvestors];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":9,"column":10,"message":"Array.sort() with Math.random() does not produce a proper shuffle and mutates the original array","description":"Array.sort() with Math.random() does not produce a proper shuffle and mutates the original array This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use Fisher-Yates shuffle algorithm and create a copy of the array to avoid mutation","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const randomSeed = () => {\n  const shuffled = [...earlyStageInvestors];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}","description":"Use Fisher-Yates shuffle algorithm and create a copy of the array to avoid mutation","content":"export const randomSeed = () => {\n  const shuffled = [...earlyStageInvestors];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":13,"column":10,"message":"Array.sort() with Math.random() does not produce a proper shuffle and mutates the original array","description":"Array.sort() with Math.random() does not produce a proper shuffle and mutates the original array This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use Fisher-Yates shuffle algorithm and create a copy of the array to avoid mutation","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const randomFounders = () => {\n  const shuffled = [...founders];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}","description":"Use Fisher-Yates shuffle algorithm and create a copy of the array to avoid mutation","content":"export const randomFounders = () => {\n  const shuffled = [...founders];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":33,"column":13,"message":"Array access without bounds checking - randomFounders[0] and randomFounders[1] may be undefined","description":"Array access without bounds checking - randomFounders[0] and randomFounders[1] may be undefined This code works but could be improved for better maintainability.","suggestion":"Add array bounds checking or default values to prevent undefined access","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    {\n      id: getID(),\n      type: CapTableRowType.Common,\n      name: `${randomFounders[0] || 'Unknown Founder'}`,\n      shares: 4_500_000,\n    },\n    {\n      id: getID(),\n      type: CapTableRowType.Common,\n      name: `${randomFounders[1] || 'Unknown Founder'}`,\n      shares: 4_500_000,\n    },","description":"Add array bounds checking or default values to prevent undefined access","content":"    {\n      id: getID(),\n      type: CapTableRowType.Common,\n      name: `${randomFounders[0] || 'Unknown Founder'}`,\n      shares: 4_500_000,\n    },\n    {\n      id: getID(),\n      type: CapTableRowType.Common,\n      name: `${randomFounders[1] || 'Unknown Founder'}`,\n      shares: 4_500_000,\n    },"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":67,"column":13,"message":"Array access without bounds checking - randomSeed[0] and randomSeed[1] may be undefined","description":"Array access without bounds checking - randomSeed[0] and randomSeed[1] may be undefined This code works but could be improved for better maintainability.","suggestion":"Add array bounds checking or default values to prevent undefined access","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    {\n      id: getID(),\n      type: CapTableRowType.Safe,\n      name: `${randomSeed[0] || 'Unknown Seed Investor'}`,\n      investment: 475_000,\n      discount: 0,\n      cap: 10_000_000,\n      conversionType: \"post\",\n    },\n    {\n      id: getID(),\n      type: CapTableRowType.Safe,\n      name: `${randomSeed[1] || 'Unknown Seed Investor'}`,\n      investment: 500_000,\n      discount: 0,\n      cap: 13_000_000,\n      conversionType: \"post\",\n    },","description":"Add array bounds checking or default values to prevent undefined access","content":"    {\n      id: getID(),\n      type: CapTableRowType.Safe,\n      name: `${randomSeed[0] || 'Unknown Seed Investor'}`,\n      investment: 475_000,\n      discount: 0,\n      cap: 10_000_000,\n      conversionType: \"post\",\n    },\n    {\n      id: getID(),\n      type: CapTableRowType.Safe,\n      name: `${randomSeed[1] || 'Unknown Seed Investor'}`,\n      investment: 500_000,\n      discount: 0,\n      cap: 13_000_000,\n      conversionType: \"post\",\n    },"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":83,"column":13,"message":"Array access without bounds checking - randomSeries[0] and randomSeries[1] may be undefined","description":"Array access without bounds checking - randomSeries[0] and randomSeries[1] may be undefined This code works but could be improved for better maintainability.","suggestion":"Add array bounds checking or default values to prevent undefined access","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    {\n      id: getID(),\n      type: CapTableRowType.Series,\n      name: `${randomSeries[0] || 'Unknown Series Investor'}`,\n      investment: 3_000_000,\n    },\n    {\n      id: getID(),\n      type: CapTableRowType.Series,\n      name: `${randomSeries[1] || 'Unknown Series Investor'}`,\n      investment: 1_000_000,\n    },","description":"Add array bounds checking or default values to prevent undefined access","content":"    {\n      id: getID(),\n      type: CapTableRowType.Series,\n      name: `${randomSeries[0] || 'Unknown Series Investor'}`,\n      investment: 3_000_000,\n    },\n    {\n      id: getID(),\n      type: CapTableRowType.Series,\n      name: `${randomSeries[1] || 'Unknown Series Investor'}`,\n      investment: 1_000_000,\n    },"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-6","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":23,"column":5,"message":"Global mutable state 'idx' can cause issues in concurrent environments and makes the function impure","description":"Global mutable state 'idx' can cause issues in concurrent environments and makes the function impure This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use a more robust ID generation strategy or move the counter inside a closure","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const createIdGenerator = () => {\n  let idx = 0;\n  return (): string => {\n    return (idx++).toString();\n  };\n};\n\nconst getID = createIdGenerator();","description":"Use a more robust ID generation strategy or move the counter inside a closure","content":"const createIdGenerator = () => {\n  let idx = 0;\n  return (): string => {\n    return (idx++).toString();\n  };\n};\n\nconst getID = createIdGenerator();"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":2,"column":3,"message":"Potential data duplication: 'Sequoia Capital' appears in both earlyStageInvestors and seriesAInvestors arrays","description":"Potential data duplication: 'Sequoia Capital' appears in both earlyStageInvestors and seriesAInvestors arrays This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider removing duplicates or using a shared reference to avoid inconsistencies","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":4,"column":3,"message":"Potential data duplication: 'Accel' appears in both earlyStageInvestors and seriesAInvestors arrays","description":"Potential data duplication: 'Accel' appears in both earlyStageInvestors and seriesAInvestors arrays This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider removing duplicates or using a shared reference to avoid inconsistencies","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":10,"column":3,"message":"Potential data duplication: 'Bessemer Venture Partners' appears in both earlyStageInvestors and seriesAInvestors arrays","description":"Potential data duplication: 'Bessemer Venture Partners' appears in both earlyStageInvestors and seriesAInvestors arrays This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider removing duplicates or using a shared reference to avoid inconsistencies","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":13,"column":3,"message":"Potential data duplication: 'Index Ventures' appears in both earlyStageInvestors and seriesAInvestors arrays","description":"Potential data duplication: 'Index Ventures' appears in both earlyStageInvestors and seriesAInvestors arrays This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider removing duplicates or using a shared reference to avoid inconsistencies","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":17,"column":3,"message":"Potential data duplication: 'Battery Ventures' appears in both earlyStageInvestors and seriesAInvestors arrays","description":"Potential data duplication: 'Battery Ventures' appears in both earlyStageInvestors and seriesAInvestors arrays This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider removing duplicates or using a shared reference to avoid inconsistencies","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":18,"column":3,"message":"Potential data duplication: 'Redpoint Ventures' appears in both earlyStageInvestors and seriesAInvestors arrays","description":"Potential data duplication: 'Redpoint Ventures' appears in both earlyStageInvestors and seriesAInvestors arrays This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider removing duplicates or using a shared reference to avoid inconsistencies","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-bug-6","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":19,"column":3,"message":"Potential data duplication: 'Balderton Capital' appears in both earlyStageInvestors and seriesAInvestors arrays","description":"Potential data duplication: 'Balderton Capital' appears in both earlyStageInvestors and seriesAInvestors arrays This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider removing duplicates or using a shared reference to avoid inconsistencies","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-bug-7","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":20,"column":3,"message":"Potential data duplication: 'Insight Partners' appears in both earlyStageInvestors and seriesAInvestors arrays","description":"Potential data duplication: 'Insight Partners' appears in both earlyStageInvestors and seriesAInvestors arrays This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider removing duplicates or using a shared reference to avoid inconsistencies","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-bug-8","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":12,"column":3,"message":"Potential data duplication: 'Union Square Ventures' appears in both earlyStageInvestors and seriesAInvestors arrays","description":"Potential data duplication: 'Union Square Ventures' appears in both earlyStageInvestors and seriesAInvestors arrays This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider removing duplicates or using a shared reference to avoid inconsistencies","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":12,"column":1,"message":"Type mismatch: ExistingShareholderState is missing 'commonType' property that is added in onAddRow","description":"Type mismatch: ExistingShareholderState is missing 'commonType' property that is added in onAddRow This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add 'commonType' property to ExistingShareholderState type definition","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export type ExistingShareholderState = Pick<\n  ExistingShareholderProps,\n  \"id\" | \"type\" | \"name\" | \"shares\"\n> & { commonType?: CommonRowType; };","description":"Add 'commonType' property to ExistingShareholderState type definition","content":"export type ExistingShareholderState = Pick<\n  ExistingShareholderProps,\n  \"id\" | \"type\" | \"name\" | \"shares\"\n> & { commonType?: CommonRowType; };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-bug-1","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":186,"column":31,"message":"Potential runtime error: parseFloat on undefined value in onValueChange","description":"Potential runtime error: parseFloat on undefined value in onValueChange This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check before parseFloat operation","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"              const newValueNumber = newValue ? parseFloat(newValue) : 0;","description":"Add null check before parseFloat operation","content":"              const newValueNumber = newValue ? parseFloat(newValue) : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-bug-2","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":198,"column":31,"message":"Potential runtime error: parseFloat on undefined value in onValueChange","description":"Potential runtime error: parseFloat on undefined value in onValueChange This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check before parseFloat operation","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"              const newValueNumber = newValue ? parseFloat(newValue) : 0;","description":"Add null check before parseFloat operation","content":"              const newValueNumber = newValue ? parseFloat(newValue) : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":207,"column":23,"message":"Potential undefined access: pricedRounds is optional but compared without null check","description":"Potential undefined access: pricedRounds is optional but compared without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check for pricedRounds before comparison","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"              pricedRounds: (state.pricedRounds ?? 0) === 0 ? 1 : 0,","description":"Add null check for pricedRounds before comparison","content":"              pricedRounds: (state.pricedRounds ?? 0) === 0 ? 1 : 0,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":51,"column":5,"message":"Array method reduce on empty array without default value could cause runtime error","description":"Array method reduce on empty array without default value could cause runtime error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"The reduce already has a default value (0), but the map could return empty array","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":13,"column":3,"message":"useRef is being used to track state changes during render, which can cause issues with React's reconciliation. This should be replaced with useEffect or useMemo.","description":"useRef is being used to track state changes during render, which can cause issues with React's reconciliation. This should be replaced with useEffect or useMemo. This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use useEffect to track URL changes or useMemo to derive the updated state","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const [isUpdated, setIsUpdated] = useState(false);\n  const prevUrlRef = useRef<string>(url);\n\n  useEffect(() => {\n    if (prevUrlRef.current !== url) {\n      prevUrlRef.current = url;\n      setIsUpdated(true);\n    }\n  }, [url]);","description":"Use useEffect to track URL changes or useMemo to derive the updated state","content":"  const [isUpdated, setIsUpdated] = useState(false);\n  const prevUrlRef = useRef<string>(url);\n\n  useEffect(() => {\n    if (prevUrlRef.current !== url) {\n      prevUrlRef.current = url;\n      setIsUpdated(true);\n    }\n  }, [url]);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-error-1","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":20,"column":5,"message":"Potential memory leak: setTimeout is not being cleared when component unmounts or when effect runs again","description":"Potential memory leak: setTimeout is not being cleared when component unmounts or when effect runs again This will likely cause errors during execution.","suggestion":"Store the timeout ID and clear it in a cleanup function","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const onClickCopy = () => {\n    const timeoutId = setTimeout(() => {\n      setCopied(false);\n    }, 2500);\n    \n    copyTextToClipboard(url);\n    setCopied(true);\n    setIsUpdated(false);\n    \n    return () => clearTimeout(timeoutId);\n  };","description":"Store the timeout ID and clear it in a cleanup function","content":"  const onClickCopy = () => {\n    const timeoutId = setTimeout(() => {\n      setCopied(false);\n    }, 2500);\n    \n    copyTextToClipboard(url);\n    setCopied(true);\n    setIsUpdated(false);\n    \n    return () => clearTimeout(timeoutId);\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-error-2","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":23,"column":5,"message":"Missing error handling for copyTextToClipboard function which may fail","description":"Missing error handling for copyTextToClipboard function which may fail This will likely cause errors during execution.","suggestion":"Add try-catch block or handle potential promise rejection","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const onClickCopy = async () => {\n    try {\n      const timeoutId = setTimeout(() => {\n        setCopied(false);\n      }, 2500);\n      \n      await copyTextToClipboard(url);\n      setCopied(true);\n      setIsUpdated(false);\n      \n      return () => clearTimeout(timeoutId);\n    } catch (error) {\n      console.error('Failed to copy to clipboard:', error);\n      // Optionally show error message to user\n    }\n  };","description":"Add try-catch block or handle potential promise rejection","content":"  const onClickCopy = async () => {\n    try {\n      const timeoutId = setTimeout(() => {\n        setCopied(false);\n      }, 2500);\n      \n      await copyTextToClipboard(url);\n      setCopied(true);\n      setIsUpdated(false);\n      \n      return () => clearTimeout(timeoutId);\n    } catch (error) {\n      console.error('Failed to copy to clipboard:', error);\n      // Optionally show error message to user\n    }\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":30,"column":9,"message":"Reference to isUpdatedRef.current used in render but updated in onClickCopy may cause stale closures","description":"Reference to isUpdatedRef.current used in render but updated in onClickCopy may cause stale closures This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use state instead of ref for values that affect rendering","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":54,"column":9,"message":"Modal lacks proper accessibility attributes and keyboard navigation","description":"Modal lacks proper accessibility attributes and keyboard navigation This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add role='dialog', aria-labelledby, aria-modal, and keyboard event handlers","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        <div \n          className=\"fixed z-50 inset-0 flex items-center justify-center overflow-hidden\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"modal-title\"\n          onKeyDown={(e) => e.key === 'Escape' && setShowModal(false)}\n        >","description":"Add role='dialog', aria-labelledby, aria-modal, and keyboard event handlers","content":"        <div \n          className=\"fixed z-50 inset-0 flex items-center justify-center overflow-hidden\"\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"modal-title\"\n          onKeyDown={(e) => e.key === 'Escape' && setShowModal(false)}\n        >"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":69,"column":19,"message":"Empty onChange handler in input field","description":"Empty onChange handler in input field This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Either remove onChange if input is read-only or implement proper handler","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                  readOnly","description":"Either remove onChange if input is read-only or implement proper handler","content":"                  readOnly"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx","line":76,"column":13,"message":"Potential runtime error - data.ownershipPct may be undefined or null","description":"Potential runtime error - data.ownershipPct may be undefined or null This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null/undefined check or provide default value before calling toFixed()","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            {(data.ownershipPct ?? 0).toFixed(2)}%","description":"Add null/undefined check or provide default value before calling toFixed()","content":"            {(data.ownershipPct ?? 0).toFixed(2)}%"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx","line":31,"column":33,"message":"parseFloat() can return NaN which may cause issues in calculations","description":"parseFloat() can return NaN which may cause issues in calculations This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation or use Number.isNaN() check after parseFloat()","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      const numValue = parseFloat(value ?? \"0\");\n      onUpdate({ ...data, [name]: Number.isNaN(numValue) ? 0 : numValue });","description":"Add validation or use Number.isNaN() check after parseFloat()","content":"      const numValue = parseFloat(value ?? \"0\");\n      onUpdate({ ...data, [name]: Number.isNaN(numValue) ? 0 : numValue });"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx","line":86,"column":11,"message":"Using array index as React key can cause rendering issues","description":"Using array index as React key can cause rendering issues This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use a unique identifier from the data object instead of array index","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        <SeriesInvestorRow\n          key={note.id}\n          data={note}","description":"Use a unique identifier from the data object instead of array index","content":"        <SeriesInvestorRow\n          key={note.id}\n          data={note}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx","line":4,"column":10,"message":"Unused import - RowsProps is imported but not used in this file","description":"Unused import - RowsProps is imported but not used in this file This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove unused import","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"import { Input } from \"@/components/ui/input\";","description":"Remove unused import","content":"import { Input } from \"@/components/ui/input\";"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":108,"column":7,"message":"Potential race condition in drag and drop event handling - onDrop receives wrong parameters","description":"Potential race condition in drag and drop event handling - onDrop receives wrong parameters This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Fix the onDrop event handler to properly handle drag and drop events","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      onDrop={(e) => {\n        e.preventDefault();\n        onDrop(e, data.id);\n      }}","description":"Fix the onDrop event handler to properly handle drag and drop events","content":"      onDrop={(e) => {\n        e.preventDefault();\n        onDrop(e, data.id);\n      }}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":110,"column":9,"message":"Inconsistent drag and drop event handling - onDrop called with different parameters","description":"Inconsistent drag and drop event handling - onDrop called with different parameters This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant onDrop handler inside onDragEnd as it creates conflicting behavior","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      onDragEnd={() => {\n        onDrop();\n      }}","description":"Remove redundant onDrop handler inside onDragEnd as it creates conflicting behavior","content":"      onDragEnd={() => {\n        onDrop();\n      }}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-error-2","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":58,"column":30,"message":"Type mismatch in parseFloat conversion - value could be undefined","description":"Type mismatch in parseFloat conversion - value could be undefined This will likely cause errors during execution.","suggestion":"Add null check before parseFloat conversion","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const onValueChange = (\n    value: string | undefined,\n    name: string | undefined\n  ) => {\n    if (name) {\n      const numValue = value ? parseFloat(value) : 0;\n      onUpdate({ ...data, [name]: isNaN(numValue) ? 0 : numValue });\n    }\n  };","description":"Add null check before parseFloat conversion","content":"  const onValueChange = (\n    value: string | undefined,\n    name: string | undefined\n  ) => {\n    if (name) {\n      const numValue = value ? parseFloat(value) : 0;\n      onUpdate({ ...data, [name]: isNaN(numValue) ? 0 : numValue });\n    }\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":249,"column":11,"message":"Missing key prop should use unique identifier instead of array index","description":"Missing key prop should use unique identifier instead of array index This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use note.id instead of array index for React key prop","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          key={note.id}","description":"Use note.id instead of array index for React key prop","content":"          key={note.id}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":203,"column":19,"message":"Potential null pointer exception when accessing data.ownershipError","description":"Potential null pointer exception when accessing data.ownershipError This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add optional chaining or null check","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"              note={data.ownershipError?.reason}","description":"Add optional chaining or null check","content":"              note={data.ownershipError?.reason}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts","line":5,"column":17,"message":"Inconsistent parameter types in onMoveRow function - dragStart and dropIndex are typed as string but likely should be number for array indices","description":"Inconsistent parameter types in onMoveRow function - dragStart and dropIndex are typed as string but likely should be number for array indices This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change parameter types to number if they represent array indices, or ensure consistency with how rows are identified","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  onMoveRow?: (dragStart: number, dropIndex: number) => void;","description":"Change parameter types to number if they represent array indices, or ensure consistency with how rows are identified","content":"  onMoveRow?: (dragStart: number, dropIndex: number) => void;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts","line":3,"column":3,"message":"Inconsistent ID types - onDelete expects string ID but onMoveRow uses string for indices, suggesting potential type confusion","description":"Inconsistent ID types - onDelete expects string ID but onMoveRow uses string for indices, suggesting potential type confusion This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Ensure consistent typing - if items have string IDs, onMoveRow should use string IDs; if using array indices, onDelete should accept the same type","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":56,"column":5,"message":"Potential division by zero error when calculating currentTargetOptions and previousTargetOptions","description":"Potential division by zero error when calculating currentTargetOptions and previousTargetOptions This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null checks or default values to prevent division by zero","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const currentTargetOptions = current.pricedConversion.totalShares !== 0 ?\n    current.pricedConversion.totalOptions /\n    current.pricedConversion.totalShares : 0;\n  const previousTargetOptions = previous.pricedConversion.totalShares !== 0 ?\n    previous.pricedConversion.totalOptions /\n    previous.pricedConversion.totalShares : 0;","description":"Add null checks or default values to prevent division by zero","content":"  const currentTargetOptions = current.pricedConversion.totalShares !== 0 ?\n    current.pricedConversion.totalOptions /\n    current.pricedConversion.totalShares : 0;\n  const previousTargetOptions = previous.pricedConversion.totalShares !== 0 ?\n    previous.pricedConversion.totalOptions /\n    previous.pricedConversion.totalShares : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":304,"column":17,"message":"Inconsistent button behavior - Post Money increment/decrement buttons call preMoney functions instead of postMoney-specific logic","description":"Inconsistent button behavior - Post Money increment/decrement buttons call preMoney functions instead of postMoney-specific logic This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Post Money is typically calculated as Pre Money + Investment, so these buttons should either be disabled or implement proper post money adjustment logic","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":314,"column":17,"message":"Inconsistent button behavior - Post Money increment/decrement buttons call preMoney functions instead of postMoney-specific logic","description":"Inconsistent button behavior - Post Money increment/decrement buttons call preMoney functions instead of postMoney-specific logic This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Post Money is typically calculated as Pre Money + Investment, so these buttons should either be disabled or implement proper post money adjustment logic","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":353,"column":19,"message":"Inconsistent display logic - showing targetOptionsChange but calculating currentTargetOptionsChange for display","description":"Inconsistent display logic - showing targetOptionsChange but calculating currentTargetOptionsChange for display This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use consistent variable for display - either targetOptionsChange or currentTargetOptionsChange","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                {currentTargetOptionsChange !== 0\n                  ? ` (${currentTargetOptionsChange > 0 ? \"+\" : \"\"}${\n                      Math.round(currentTargetOptionsChange * 100)\n                    })`\n                  : \"\"}","description":"Use consistent variable for display - either targetOptionsChange or currentTargetOptionsChange","content":"                {currentTargetOptionsChange !== 0\n                  ? ` (${currentTargetOptionsChange > 0 ? \"+\" : \"\"}${\n                      Math.round(currentTargetOptionsChange * 100)\n                    })`\n                  : \"\"}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-error-4","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":12,"column":13,"message":"Unused import - OwnershipPctNotes type is defined but never used","description":"Unused import - OwnershipPctNotes type is defined but never used This will likely cause errors during execution.","suggestion":"Remove unused type definition","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx","line":12,"column":11,"message":"Potential runtime error: pct.toFixed(2) will throw if pct is null or undefined","description":"Potential runtime error: pct.toFixed(2) will throw if pct is null or undefined This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null/undefined check for pct before calling toFixed()","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          { (pct ?? 0).toFixed(2) }%","description":"Add null/undefined check for pct before calling toFixed()","content":"          { (pct ?? 0).toFixed(2) }%"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx","line":39,"column":12,"message":"Potential runtime error: pct.toFixed(2) will throw if pct is null or undefined","description":"Potential runtime error: pct.toFixed(2) will throw if pct is null or undefined This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null/undefined check for pct before calling toFixed()","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    return (pct ?? 0).toFixed(2) + \"%\";","description":"Add null/undefined check for pct before calling toFixed()","content":"    return (pct ?? 0).toFixed(2) + \"%\";"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx","line":9,"column":7,"message":"Function may return undefined when error type is not handled","description":"Function may return undefined when error type is not handled This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add explicit return statement or handle all possible error types","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const PercentNote: React.FC<PercentNoteProps> = ({ pct, note, error}) => {\n    if (error === \"caveat\") {\n      return (\n        <TooltipComponent content={note ?? \"\"}>\n          { (pct ?? 0).toFixed(2) }%\n          { note && \n            <sup>*</sup>\n          }\n        </TooltipComponent>\n      )\n    } else if (error === \"tbd\") {\n      return (\n        <TooltipComponent content={note ?? \"\"}>\n          TBD\n          { note && \n            <sup>*</sup>\n          }\n        </TooltipComponent>\n      );\n    } else if (error === \"error\") {\n      return (\n        <TooltipComponent content={note ?? \"\"}>\n          Error\n          { note && \n            <sup>*</sup>\n          }\n        </TooltipComponent>\n      );\n    }\n    return (pct ?? 0).toFixed(2) + \"%\";\n}","description":"Add explicit return statement or handle all possible error types","content":"const PercentNote: React.FC<PercentNoteProps> = ({ pct, note, error}) => {\n    if (error === \"caveat\") {\n      return (\n        <TooltipComponent content={note ?? \"\"}>\n          { (pct ?? 0).toFixed(2) }%\n          { note && \n            <sup>*</sup>\n          }\n        </TooltipComponent>\n      )\n    } else if (error === \"tbd\") {\n      return (\n        <TooltipComponent content={note ?? \"\"}>\n          TBD\n          { note && \n            <sup>*</sup>\n          }\n        </TooltipComponent>\n      );\n    } else if (error === \"error\") {\n      return (\n        <TooltipComponent content={note ?? \"\"}>\n          Error\n          { note && \n            <sup>*</sup>\n          }\n        </TooltipComponent>\n      );\n    }\n    return (pct ?? 0).toFixed(2) + \"%\";\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":26,"column":5,"message":"Direct access to window object can cause SSR hydration errors and runtime exceptions in server-side environments","description":"Direct access to window object can cause SSR hydration errors and runtime exceptions in server-side environments This will likely cause errors during execution.","suggestion":"Check if window is defined before accessing it or use useEffect hook to access window safely","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const url = typeof window !== 'undefined' \n    ? window.location.protocol + \"//\" + window.location.host + window.location.pathname\n    : '';","description":"Check if window is defined before accessing it or use useEffect hook to access window safely","content":"  const url = typeof window !== 'undefined' \n    ? window.location.protocol + \"//\" + window.location.host + window.location.pathname\n    : '';"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-error-1","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":55,"column":21,"message":"Direct access to navigator.language can cause runtime exceptions in server-side environments","description":"Direct access to navigator.language can cause runtime exceptions in server-side environments This will likely cause errors during execution.","suggestion":"Provide fallback for navigator.language when it's not available","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    lang = typeof navigator !== 'undefined' ? navigator.language : 'en-US'","description":"Provide fallback for navigator.language when it's not available","content":"    lang = typeof navigator !== 'undefined' ? navigator.language : 'en-US'"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":138,"column":17,"message":"Function is called inside render which creates new array on every render, causing unnecessary re-renders","description":"Function is called inside render which creates new array on every render, causing unnecessary re-renders This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Move function call to useMemo hook or create the array outside render","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"import { useState, useMemo } from \"react\";\n\n// ... rest of imports\n\nconst Finder: React.FC<{\n  currentId: string;\n  loadById: (id: string) => void;\n}> = ({ currentId, loadById }) => {\n  const [showModal, setShowModal] = useState(false);\n\n  const recentStatesData = useMemo(() => {\n    return getRecentStates().map((state) => {\n      const hash = compressState(state.conversionState);\n      return {\n        id: state.id,\n        updatedAt: state.updatedAt,\n        createdAt: state.createdAt,\n        hash,\n        state: state.conversionState,\n        url: `${typeof window !== 'undefined' ? window.location.protocol + \"//\" + window.location.host + window.location.pathname : ''}#I${compressState(state.conversionState)}`,\n      };\n    });\n  }, []);\n\n  // ... rest of component\n\n                {recentStatesData.map((state) => (","description":"Move function call to useMemo hook or create the array outside render","content":"import { useState, useMemo } from \"react\";\n\n// ... rest of imports\n\nconst Finder: React.FC<{\n  currentId: string;\n  loadById: (id: string) => void;\n}> = ({ currentId, loadById }) => {\n  const [showModal, setShowModal] = useState(false);\n\n  const recentStatesData = useMemo(() => {\n    return getRecentStates().map((state) => {\n      const hash = compressState(state.conversionState);\n      return {\n        id: state.id,\n        updatedAt: state.updatedAt,\n        createdAt: state.createdAt,\n        hash,\n        state: state.conversionState,\n        url: `${typeof window !== 'undefined' ? window.location.protocol + \"//\" + window.location.host + window.location.pathname : ''}#I${compressState(state.conversionState)}`,\n      };\n    });\n  }, []);\n\n  // ... rest of component\n\n                {recentStatesData.map((state) => ("}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":133,"column":21,"message":"Missing role and keyboard event handlers for clickable anchor element","description":"Missing role and keyboard event handlers for clickable anchor element This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add role='button' and onKeyDown handler for accessibility, or use a button element instead","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                    <a\n                      role=\"button\"\n                      tabIndex={0}\n                      onClick={() => {\n                        loadById(state.id);\n                        setShowModal(false);\n                      }}\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter' || e.key === ' ') {\n                          loadById(state.id);\n                          setShowModal(false);\n                        }\n                      }}\n                      className={`text-blue-500 hover:underline dark:text-blue-200 cursor-pointer ${\n                        state.id === currentId\n                          ? \"bg-gray-100 dark:bg-gray-800\"\n                          : \"\"\n                      }`}\n                    >","description":"Add role='button' and onKeyDown handler for accessibility, or use a button element instead","content":"                    <a\n                      role=\"button\"\n                      tabIndex={0}\n                      onClick={() => {\n                        loadById(state.id);\n                        setShowModal(false);\n                      }}\n                      onKeyDown={(e) => {\n                        if (e.key === 'Enter' || e.key === ' ') {\n                          loadById(state.id);\n                          setShowModal(false);\n                        }\n                      }}\n                      className={`text-blue-500 hover:underline dark:text-blue-200 cursor-pointer ${\n                        state.id === currentId\n                          ? \"bg-gray-100 dark:bg-gray-800\"\n                          : \"\"\n                      }`}\n                    >"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-error-4","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":31,"column":12,"message":"Missing error handling for getRecentStates() function call which could throw exceptions","description":"Missing error handling for getRecentStates() function call which could throw exceptions This will likely cause errors during execution.","suggestion":"Wrap getRecentStates() call in try-catch block or add error boundary","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const recentStates = () => {\n    try {\n      return getRecentStates().map((state) => {\n        const hash = compressState(state.conversionState);\n        return {\n          id: state.id,\n          updatedAt: state.updatedAt,\n          createdAt: state.createdAt,\n          hash,\n          state: state.conversionState,\n          url: `${url}#I${compressState(state.conversionState)}`,\n        };\n      });\n    } catch (error) {\n      console.error('Failed to load recent states:', error);\n      return [];\n    }\n  };","description":"Wrap getRecentStates() call in try-catch block or add error boundary","content":"  const recentStates = () => {\n    try {\n      return getRecentStates().map((state) => {\n        const hash = compressState(state.conversionState);\n        return {\n          id: state.id,\n          updatedAt: state.updatedAt,\n          createdAt: state.createdAt,\n          hash,\n          state: state.conversionState,\n          url: `${url}#I${compressState(state.conversionState)}`,\n        };\n      });\n    } catch (error) {\n      console.error('Failed to load recent states:', error);\n      return [];\n    }\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx","line":140,"column":7,"message":"Typo in component name: 'ExisingShareholderList' should be 'ExistingShareholderList'","description":"Typo in component name: 'ExisingShareholderList' should be 'ExistingShareholderList' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Fix the typo in the component name","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const ExistingShareholderList: React.FC<RowsProps<ExistingShareholderProps>> = ({","description":"Fix the typo in the component name","content":"const ExistingShareholderList: React.FC<RowsProps<ExistingShareholderProps>> = ({"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx-bug-1","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx","line":198,"column":16,"message":"Export name doesn't match component name: exporting 'ExisingShareholderList' but component is named 'ExistingShareholderList'","description":"Export name doesn't match component name: exporting 'ExisingShareholderList' but component is named 'ExistingShareholderList' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Fix the export name to match the corrected component name","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export default ExistingShareholderList;","description":"Fix the export name to match the corrected component name","content":"export default ExistingShareholderList;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx","line":38,"column":7,"message":"Potential NaN value when parsing undefined or empty string","description":"Potential NaN value when parsing undefined or empty string This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add proper validation before parsing float value","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      const parsedValue = value ? parseFloat(value) : 0;\n      if (!isNaN(parsedValue)) {\n        onUpdate({ ...data, [name]: parsedValue });\n      }","description":"Add proper validation before parsing float value","content":"      const parsedValue = value ? parseFloat(value) : 0;\n      if (!isNaN(parsedValue)) {\n        onUpdate({ ...data, [name]: parsedValue });\n      }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx","line":151,"column":11,"message":"Using array index as key instead of unique identifier","description":"Using array index as key instead of unique identifier This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use the unique 'id' property instead of array index for React key","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        key={shareholder.id}","description":"Use the unique 'id' property instead of array index for React key","content":"        key={shareholder.id}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":26,"column":28,"message":"Potential runtime error: accessing ownershipPct without null check","description":"Potential runtime error: accessing ownershipPct without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check before calling toFixed on ownershipPct","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  let ownershipPct: string | undefined = shareholder.ownershipPct ? shareholder.ownershipPct.toFixed(2) + \"%\" : \"0.00%\"","description":"Add null check before calling toFixed on ownershipPct","content":"  let ownershipPct: string | undefined = shareholder.ownershipPct ? shareholder.ownershipPct.toFixed(2) + \"%\" : \"0.00%\""}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":120,"column":32,"message":"Potential runtime error: accessing ownershipPct without null check","description":"Potential runtime error: accessing ownershipPct without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check before calling toFixed on ownershipPct","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            let ownershipPct: string | undefined = shareholder.ownershipPct ? shareholder.ownershipPct.toFixed(2) + \"%\" : \"0.00%\";","description":"Add null check before calling toFixed on ownershipPct","content":"            let ownershipPct: string | undefined = shareholder.ownershipPct ? shareholder.ownershipPct.toFixed(2) + \"%\" : \"0.00%\";"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":46,"column":46,"message":"Redundant null check: investment is already checked for null but then using || 0 fallback","description":"Redundant null check: investment is already checked for null but then using || 0 fallback This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant || 0 since investment is already null-checked","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            <div className=\"text-gray-900 dark:text-white\">${formatNumberWithCommas(investment)}</div>","description":"Remove redundant || 0 since investment is already null-checked","content":"            <div className=\"text-gray-900 dark:text-white\">${formatNumberWithCommas(investment)}</div>"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":52,"column":46,"message":"Redundant null check: pps is already checked for null but then using || 0 fallback","description":"Redundant null check: pps is already checked for null but then using || 0 fallback This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant || 0 since pps is already null-checked","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            <div className=\"text-gray-900 dark:text-white\">${formatNumberWithCommas(pps)}</div>","description":"Remove redundant || 0 since pps is already null-checked","content":"            <div className=\"text-gray-900 dark:text-white\">${formatNumberWithCommas(pps)}</div>"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":135,"column":64,"message":"Redundant null check: investment is already checked for null but then using || 0 fallback","description":"Redundant null check: investment is already checked for null but then using || 0 fallback This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant || 0 since investment is already null-checked","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                  {investment !== null ? `$${formatNumberWithCommas(investment)}` : \"-\"}","description":"Remove redundant || 0 since investment is already null-checked","content":"                  {investment !== null ? `$${formatNumberWithCommas(investment)}` : \"-\"}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":138,"column":59,"message":"Redundant null check: pps is already checked for null but then using || 0 fallback","description":"Redundant null check: pps is already checked for null but then using || 0 fallback This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant || 0 since pps is already null-checked","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                  {pps !== null ? `$${formatNumberWithCommas(pps)}` : \"-\"}","description":"Remove redundant || 0 since pps is already null-checked","content":"                  {pps !== null ? `$${formatNumberWithCommas(pps)}` : \"-\"}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts","line":9,"column":17,"message":"Direct access to window object without checking if it exists (SSR/Node.js compatibility issue)","description":"Direct access to window object without checking if it exists (SSR/Node.js compatibility issue) This will likely cause errors during execution.","suggestion":"Check if window exists before accessing it or use a safe wrapper function","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const url = typeof window !== 'undefined' \n      ? window.location.protocol + \"//\" + window.location.host + window.location.pathname\n      : '';","description":"Check if window exists before accessing it or use a safe wrapper function","content":"    const url = typeof window !== 'undefined' \n      ? window.location.protocol + \"//\" + window.location.host + window.location.pathname\n      : '';"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts-error-1","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts","line":10,"column":21,"message":"No error handling for compressState function which may throw exceptions","description":"No error handling for compressState function which may throw exceptions This will likely cause errors during execution.","suggestion":"Wrap compressState call in try-catch block or add error handling","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const getShareUrl = createSelector(\n  (state: IConversionStateData) => state,\n  ( state ): string => {\n    try {\n      const url = typeof window !== 'undefined' \n        ? window.location.protocol + \"//\" + window.location.host + window.location.pathname\n        : '';\n      return url + \"#\" + compressState(getSerializedSelector(state));\n    } catch (error) {\n      console.error('Error generating share URL:', error);\n      return typeof window !== 'undefined' \n        ? window.location.protocol + \"//\" + window.location.host + window.location.pathname\n        : '';\n    }\n  })","description":"Wrap compressState call in try-catch block or add error handling","content":"export const getShareUrl = createSelector(\n  (state: IConversionStateData) => state,\n  ( state ): string => {\n    try {\n      const url = typeof window !== 'undefined' \n        ? window.location.protocol + \"//\" + window.location.host + window.location.pathname\n        : '';\n      return url + \"#\" + compressState(getSerializedSelector(state));\n    } catch (error) {\n      console.error('Error generating share URL:', error);\n      return typeof window !== 'undefined' \n        ? window.location.protocol + \"//\" + window.location.host + window.location.pathname\n        : '';\n    }\n  })"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts","line":9,"column":5,"message":"Function may return invalid URL when window is undefined","description":"Function may return invalid URL when window is undefined This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Handle the case when window is undefined by returning a default value or throwing an appropriate error","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts","line":12,"column":31,"message":"Division by zero vulnerability when totalShares is 0","description":"Division by zero vulnerability when totalShares is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to check if totalShares is greater than 0 before division","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"      const ownershipPct = pricedConversion.totalShares > 0 ? (shares / pricedConversion.totalShares * 100) : 0;","description":"Add validation to check if totalShares is greater than 0 before division","content":"      const ownershipPct = pricedConversion.totalShares > 0 ? (shares / pricedConversion.totalShares * 100) : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts","line":11,"column":21,"message":"Potential runtime error when pricedConversion.pps is 0 or negative","description":"Potential runtime error when pricedConversion.pps is 0 or negative This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure pps is a positive number before division","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"      const shares = pricedConversion.pps > 0 ? Math.floor(row.investment / pricedConversion.pps) : 0;","description":"Add validation to ensure pps is a positive number before division","content":"      const shares = pricedConversion.pps > 0 ? Math.floor(row.investment / pricedConversion.pps) : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts-error-handling-2","type":"error-handling","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts","line":9,"column":25,"message":"Throwing error in selector can cause application crash and poor user experience","description":"Throwing error in selector can cause application crash and poor user experience This will likely cause errors during execution.","suggestion":"Return default value or handle gracefully instead of throwing error","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    if (!pricedConversion) return [];","description":"Return default value or handle gracefully instead of throwing error","content":"    if (!pricedConversion) return [];"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SerializeSelector.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SerializeSelector.ts","line":6,"column":3,"message":"Selector creates unnecessary re-renders by returning a new object on every call instead of returning the original state when no transformation is needed","description":"Selector creates unnecessary re-renders by returning a new object on every call instead of returning the original state when no transformation is needed This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Since no transformation is being performed, return the state directly or remove the selector entirely","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const getSerializedSelector = createSelector(\n  (state: IConversionStateData) => state,\n  (state): IConversionStateData => state\n);","description":"Since no transformation is being performed, return the state directly or remove the selector entirely","content":"export const getSerializedSelector = createSelector(\n  (state: IConversionStateData) => state,\n  (state): IConversionStateData => state\n);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts","line":22,"column":15,"message":"Array index access without bounds checking - safeCapTable[idx] may be undefined if arrays have different lengths","description":"Array index access without bounds checking - safeCapTable[idx] may be undefined if arrays have different lengths This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or use optional chaining to safely access array elements","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        cap: safeCapTable[idx]?.cap ?? row.cap,","description":"Add bounds checking or use optional chaining to safely access array elements","content":"        cap: safeCapTable[idx]?.cap ?? row.cap,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts-bug-1","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts","line":25,"column":24,"message":"Array index access without bounds checking - safeCapTable[idx] may be undefined if arrays have different lengths","description":"Array index access without bounds checking - safeCapTable[idx] may be undefined if arrays have different lengths This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or use optional chaining to safely access array elements","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        ownershipPct: safeCapTable[idx]?.ownershipPct,","description":"Add bounds checking or use optional chaining to safely access array elements","content":"        ownershipPct: safeCapTable[idx]?.ownershipPct,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts-bug-2","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts","line":26,"column":26,"message":"Array index access without bounds checking - safeCapTable[idx] may be undefined if arrays have different lengths","description":"Array index access without bounds checking - safeCapTable[idx] may be undefined if arrays have different lengths This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or use optional chaining to safely access array elements","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        ownershipError: safeCapTable[idx]?.ownershipError,","description":"Add bounds checking or use optional chaining to safely access array elements","content":"        ownershipError: safeCapTable[idx]?.ownershipError,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":57,"column":7,"message":"Function can return undefined but selector expects a value","description":"Function can return undefined but selector expects a value This will likely cause errors during execution.","suggestion":"Add explicit return statement or handle undefined case","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"if (pricedRounds === 0) {\n      return undefined;\n    }","description":"Add explicit return statement or handle undefined case","content":"if (pricedRounds === 0) {\n      return undefined;\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-error-1","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":119,"column":9,"message":"Potential null reference when accessing pricedConversion properties","description":"Potential null reference when accessing pricedConversion properties This will likely cause errors during execution.","suggestion":"Add null check before accessing pricedConversion properties","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"if (!pricedConversion) {\n        throw new Error(\"Can't use this selector on unpriced round\");\n      }","description":"Add null check before accessing pricedConversion properties","content":"if (!pricedConversion) {\n        throw new Error(\"Can't use this selector on unpriced round\");\n      }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":140,"column":52,"message":"Division by zero potential when initialSeriesInvestment is 0","description":"Division by zero potential when initialSeriesInvestment is 0 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add check for zero division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const seriesInvestmentChanges = rowData.map((row) => {\n        if (row.type === CapTableRowType.Series) {\n          return initialSeriesInvestment === 0 ? 0 : investmentChange * (row.investment / initialSeriesInvestment);\n        }\n        return 0;\n      });","description":"Add check for zero division","content":"const seriesInvestmentChanges = rowData.map((row) => {\n        if (row.type === CapTableRowType.Series) {\n          return initialSeriesInvestment === 0 ? 0 : investmentChange * (row.investment / initialSeriesInvestment);\n        }\n        return 0;\n      });"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-error-3","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":169,"column":47,"message":"Non-null assertion on potentially undefined value","description":"Non-null assertion on potentially undefined value This will likely cause errors during execution.","suggestion":"Handle undefined case properly instead of using non-null assertion","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"trialPricedConversion = getPricedConversion(currentState);\n      if (!trialPricedConversion) {\n        throw new Error(\"Failed to calculate priced conversion\");\n      }","description":"Handle undefined case properly instead of using non-null assertion","content":"trialPricedConversion = getPricedConversion(currentState);\n      if (!trialPricedConversion) {\n        throw new Error(\"Failed to calculate priced conversion\");\n      }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":194,"column":25,"message":"Array index access without bounds checking","description":"Array index access without bounds checking This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Check array bounds before accessing elements","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"previousCapTableRows.map((row, idx) => {\n        if (idx < capTableRows.length) {\n          ownershipChanges.push((capTableRows[idx].ownershipPct ?? 0) - (row.ownershipPct ?? 0));\n        }\n      })","description":"Check array bounds before accessing elements","content":"previousCapTableRows.map((row, idx) => {\n        if (idx < capTableRows.length) {\n          ownershipChanges.push((capTableRows[idx].ownershipPct ?? 0) - (row.ownershipPct ?? 0));\n        }\n      })"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-error-5","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":240,"column":9,"message":"Exhaustiveness check missing - switch statement doesn't handle all cases","description":"Exhaustiveness check missing - switch statement doesn't handle all cases This will likely cause errors during execution.","suggestion":"Handle all possible row types or add default case","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":17,"column":24,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.name","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          name: row.name || \"\",","description":"Add null check or provide default value for row.name","content":"          name: row.name || \"\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":29,"column":18,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.name","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          name: row.name || \"\",","description":"Add null check or provide default value for row.name","content":"          name: row.name || \"\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":30,"column":31,"message":"Inconsistent type checking logic that could lead to unexpected behavior","description":"Inconsistent type checking logic that could lead to unexpected behavior This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Simplify the conversion type logic to avoid redundant conditions","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        const conversionType = row.conversionType === \"mfn\" || row.conversionType === \"post\" ? \"post\" : \"pre\";","description":"Simplify the conversion type logic to avoid redundant conditions","content":"        const conversionType = row.conversionType === \"mfn\" || row.conversionType === \"post\" ? \"post\" : \"pre\";"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":31,"column":23,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.cap","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          cap: row.cap || 0,","description":"Add null check or provide default value for row.cap","content":"          cap: row.cap || 0,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":32,"column":28,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.discount","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          discount: row.discount || 0,","description":"Add null check or provide default value for row.discount","content":"          discount: row.discount || 0,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":44,"column":17,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.id","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            id: row.id || \"\",","description":"Add null check or provide default value for row.id","content":"            id: row.id || \"\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-6","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":45,"column":19,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.name","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            name: row.name || \"\",","description":"Add null check or provide default value for row.name","content":"            name: row.name || \"\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-7","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":48,"column":32,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.ownershipPct","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            ownershipPct: (row.ownershipPct || 0) * 100,","description":"Add null check or provide default value for row.ownershipPct","content":"            ownershipPct: (row.ownershipPct || 0) * 100,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-8","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":54,"column":15,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.id","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          id: row.id || \"\",","description":"Add null check or provide default value for row.id","content":"          id: row.id || \"\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-9","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":55,"column":17,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.name","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          name: row.name || \"\",","description":"Add null check or provide default value for row.name","content":"          name: row.name || \"\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-10","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":58,"column":16,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.pps","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          pps: row.pps || 0,","description":"Add null check or provide default value for row.pps","content":"          pps: row.pps || 0,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-11","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":62,"column":30,"message":"Potential null/undefined access on optional property without null check","description":"Potential null/undefined access on optional property without null check This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value for row.ownershipPct","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          ownershipPct: (row.ownershipPct || 0) * 100,","description":"Add null check or provide default value for row.ownershipPct","content":"          ownershipPct: (row.ownershipPct || 0) * 100,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ErrorSelector.ts-error-0","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ErrorSelector.ts","line":12,"column":53,"message":"Potential runtime error: accessing 'ownershipError' property without null/undefined check","description":"Potential runtime error: accessing 'ownershipError' property without null/undefined check This will likely cause errors during execution.","suggestion":"Add null/undefined check for ownershipError property before accessing its type","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const hasSafeError = safeInvestors.some((row) => row.ownershipError?.type === \"error\");","description":"Add null/undefined check for ownershipError property before accessing its type","content":"    const hasSafeError = safeInvestors.some((row) => row.ownershipError?.type === \"error\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ErrorSelector.ts-error-1","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ErrorSelector.ts","line":10,"column":3,"message":"Missing error handling for potential null/undefined safeInvestors parameter","description":"Missing error handling for potential null/undefined safeInvestors parameter This will likely cause errors during execution.","suggestion":"Add null/undefined check for safeInvestors parameter to prevent runtime errors","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  (safeInvestors): ErrorSelectorState => {\n    if (!safeInvestors || !Array.isArray(safeInvestors)) {\n      return {\n        commonStockError: false,\n        safeError: false,\n        seriesError: false,\n      };\n    }\n\n    const hasSafeError = safeInvestors.some((row) => row.ownershipError?.type === \"error\");\n\n    // For future use\n    return {\n      commonStockError: false,\n      safeError: hasSafeError,\n      seriesError: false,\n    }\n\n  },","description":"Add null/undefined check for safeInvestors parameter to prevent runtime errors","content":"  (safeInvestors): ErrorSelectorState => {\n    if (!safeInvestors || !Array.isArray(safeInvestors)) {\n      return {\n        commonStockError: false,\n        safeError: false,\n        seriesError: false,\n      };\n    }\n\n    const hasSafeError = safeInvestors.some((row) => row.ownershipError?.type === \"error\");\n\n    // For future use\n    return {\n      commonStockError: false,\n      safeError: hasSafeError,\n      seriesError: false,\n    }\n\n  },"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts","line":25,"column":5,"message":"Missing 'id' property in object literal - TypeScript will likely report this as an error","description":"Missing 'id' property in object literal - TypeScript will likely report this as an error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add an 'id' property to the object literal, using a consistent identifier like 'unusedOptionsPool'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    commonStock.push({\n      id: \"unusedOptionsPool\",\n      name: \"Unused Options Pool\",\n      shares: unusedOptions,\n      type: CapTableRowType.Common,\n      commonType: CommonRowType.UnusedOptions,\n    })","description":"Add an 'id' property to the object literal, using a consistent identifier like 'unusedOptionsPool'","content":"    commonStock.push({\n      id: \"unusedOptionsPool\",\n      name: \"Unused Options Pool\",\n      shares: unusedOptions,\n      type: CapTableRowType.Common,\n      commonType: CommonRowType.UnusedOptions,\n    })"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts","line":34,"column":33,"message":"Inconsistent string literal comparison - using string literal 'unusedOptions' instead of enum value","description":"Inconsistent string literal comparison - using string literal 'unusedOptions' instead of enum value This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use the enum value CommonRowType.UnusedOptions for consistency","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      if (row.commonType === CommonRowType.UnusedOptions) {","description":"Use the enum value CommonRowType.UnusedOptions for consistency","content":"      if (row.commonType === CommonRowType.UnusedOptions) {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts","line":38,"column":9,"message":"Potential null/undefined access without proper null checking","description":"Potential null/undefined access without proper null checking This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add proper null checking for row properties before accessing them","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      return {\n        id: id || \"\",\n        name: row.name || \"\",\n        shares: row.shares || 0,\n        ownershipPct: row.ownershipPct || 0,\n        type: row.type,\n        commonType: row.commonType,\n      }","description":"Add proper null checking for row properties before accessing them","content":"      return {\n        id: id || \"\",\n        name: row.name || \"\",\n        shares: row.shares || 0,\n        ownershipPct: row.ownershipPct || 0,\n        type: row.type,\n        commonType: row.commonType,\n      }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":12,"column":19,"message":"No error handling for decompressState function call - could throw exceptions","description":"No error handling for decompressState function call - could throw exceptions This code works but could be improved for better maintainability.","suggestion":"Wrap decompressState call in try-catch block or add error handling","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    let state;\n    try {\n      state = decompressState(v1State);\n    } catch (error) {\n      throw new Error(`Failed to decompress state: ${error.message}`);\n    }","description":"Wrap decompressState call in try-catch block or add error handling","content":"    let state;\n    try {\n      state = decompressState(v1State);\n    } catch (error) {\n      throw new Error(`Failed to decompress state: ${error.message}`);\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":17,"column":19,"message":"No error handling for createConversionStore function call - could throw exceptions","description":"No error handling for createConversionStore function call - could throw exceptions This code works but could be improved for better maintainability.","suggestion":"Add error handling for store creation","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    let store;\n    try {\n      store = createConversionStore(state);\n    } catch (error) {\n      throw new Error(`Failed to create conversion store: ${error.message}`);\n    }","description":"Add error handling for store creation","content":"    let store;\n    try {\n      store = createConversionStore(state);\n    } catch (error) {\n      throw new Error(`Failed to create conversion store: ${error.message}`);\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":21,"column":5,"message":"No null/undefined checks for selector results - could cause runtime errors","description":"No null/undefined checks for selector results - could cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for selector results before accessing properties","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(preRoundSelector.rows?.[0]?.ownershipPct?.toFixed(2)).toEqual(\"32.92\")","description":"Add null/undefined checks for selector results before accessing properties","content":"    expect(preRoundSelector.rows?.[0]?.ownershipPct?.toFixed(2)).toEqual(\"32.92\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":22,"column":5,"message":"No null/undefined checks for selector results - could cause runtime errors","description":"No null/undefined checks for selector results - could cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for selector results before accessing properties","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(preRoundSelector.rows?.[1]?.ownershipPct?.toFixed(2)).toEqual(\"32.92\")","description":"Add null/undefined checks for selector results before accessing properties","content":"    expect(preRoundSelector.rows?.[1]?.ownershipPct?.toFixed(2)).toEqual(\"32.92\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":24,"column":5,"message":"No null/undefined checks for selector results - could cause runtime errors","description":"No null/undefined checks for selector results - could cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for selector results before accessing properties","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps?.[0]?.ownershipPct?.toFixed(2)).toEqual(\"7.00\")","description":"Add null/undefined checks for selector results before accessing properties","content":"    expect(safeProps?.[0]?.ownershipPct?.toFixed(2)).toEqual(\"7.00\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":25,"column":5,"message":"No null/undefined checks for selector results - could cause runtime errors","description":"No null/undefined checks for selector results - could cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for selector results before accessing properties","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps?.[0]?.cap?.toFixed(0)).toEqual(\"1785714\")","description":"Add null/undefined checks for selector results before accessing properties","content":"    expect(safeProps?.[0]?.cap?.toFixed(0)).toEqual(\"1785714\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-6","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":26,"column":5,"message":"No null/undefined checks for selector results - could cause runtime errors","description":"No null/undefined checks for selector results - could cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for selector results before accessing properties","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps?.[0]?.conversionType).toEqual(\"post\")","description":"Add null/undefined checks for selector results before accessing properties","content":"    expect(safeProps?.[0]?.conversionType).toEqual(\"post\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-7","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":27,"column":5,"message":"No null/undefined checks for selector results - could cause runtime errors","description":"No null/undefined checks for selector results - could cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for selector results before accessing properties","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps?.[1]?.ownershipPct?.toFixed(2)).toEqual(\"3.75\")","description":"Add null/undefined checks for selector results before accessing properties","content":"    expect(safeProps?.[1]?.ownershipPct?.toFixed(2)).toEqual(\"3.75\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-8","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":28,"column":5,"message":"No null/undefined checks for selector results - could cause runtime errors","description":"No null/undefined checks for selector results - could cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for selector results before accessing properties","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps?.[1]?.cap).toEqual(10_000_000)","description":"Add null/undefined checks for selector results before accessing properties","content":"    expect(safeProps?.[1]?.cap).toEqual(10_000_000)"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-9","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":29,"column":5,"message":"No null/undefined checks for selector results - could cause runtime errors","description":"No null/undefined checks for selector results - could cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for selector results before accessing properties","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps?.[1]?.conversionType).toEqual(\"mfn\")","description":"Add null/undefined checks for selector results before accessing properties","content":"    expect(safeProps?.[1]?.conversionType).toEqual(\"mfn\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-10","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":35,"column":5,"message":"No null/undefined checks for selector results - could cause runtime errors","description":"No null/undefined checks for selector results - could cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for selector results before accessing properties","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(pricedRoundSelector.rows?.[0]?.ownershipPct?.toFixed(2)).toEqual(\"27.86\")","description":"Add null/undefined checks for selector results before accessing properties","content":"    expect(pricedRoundSelector.rows?.[0]?.ownershipPct?.toFixed(2)).toEqual(\"27.86\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts-error-0","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts","line":12,"column":5,"message":"Test assumes specific array length without verifying initial state, making it brittle to fixture changes","description":"Test assumes specific array length without verifying initial state, making it brittle to fixture changes This will likely cause errors during execution.","suggestion":"Store initial length and verify the increment instead of hardcoding expected final length","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const initialLength = store.getState().rowData.length;\n    onAddRow(CapTableRowType.Safe);\n    expect(store.getState().rowData.length).toEqual(initialLength + 1);","description":"Store initial length and verify the increment instead of hardcoding expected final length","content":"    const initialLength = store.getState().rowData.length;\n    onAddRow(CapTableRowType.Safe);\n    expect(store.getState().rowData.length).toEqual(initialLength + 1);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts-error-1","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts","line":9,"column":5,"message":"No error handling for potential failures in store creation or onAddRow operation","description":"No error handling for potential failures in store creation or onAddRow operation This will likely cause errors during execution.","suggestion":"Add error handling and validation to ensure store operations succeed","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const store = createConversionStore(fixtureData as IConversionStateData);\n    expect(store).toBeDefined();\n    expect(store.getState().rowData).toBeDefined();\n    \n    const { onAddRow } = store.getState();\n    expect(onAddRow).toBeDefined();\n    \n    const initialLength = store.getState().rowData.length;\n    onAddRow(CapTableRowType.Safe);\n    expect(store.getState().rowData.length).toEqual(initialLength + 1);","description":"Add error handling and validation to ensure store operations succeed","content":"    const store = createConversionStore(fixtureData as IConversionStateData);\n    expect(store).toBeDefined();\n    expect(store.getState().rowData).toBeDefined();\n    \n    const { onAddRow } = store.getState();\n    expect(onAddRow).toBeDefined();\n    \n    const initialLength = store.getState().rowData.length;\n    onAddRow(CapTableRowType.Safe);\n    expect(store.getState().rowData.length).toEqual(initialLength + 1);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts","line":11,"column":12,"message":"Potential runtime error if safeNotes array is empty or ownershipPct is undefined","description":"Potential runtime error if safeNotes array is empty or ownershipPct is undefined This code works but could be improved for better maintainability.","suggestion":"Add null checks or array length validation before accessing array elements and properties","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts","line":17,"column":12,"message":"Potential runtime error if safeNotes array has fewer than 2 elements or ownershipPct is undefined","description":"Potential runtime error if safeNotes array has fewer than 2 elements or ownershipPct is undefined This code works but could be improved for better maintainability.","suggestion":"Add array length validation and null checks before accessing array elements and properties","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts","line":18,"column":12,"message":"Potential runtime error if safeNotes array has fewer than 2 elements or disabledFields is undefined","description":"Potential runtime error if safeNotes array has fewer than 2 elements or disabledFields is undefined This code works but could be improved for better maintainability.","suggestion":"Add array length validation and null checks before accessing array elements and properties","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":15,"column":5,"message":"Missing null/undefined check - selector result may be undefined or null","description":"Missing null/undefined check - selector result may be undefined or null This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null/undefined checks before accessing properties of resultSelector","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const resultSelector = getPricedRoundCapTableSelector({\n      ...store.getState(),\n      preMoneyChange: 0,\n      investmentChange: 0,\n    });\n    expect(resultSelector).toBeDefined();\n    expect(resultSelector.rows).toBeDefined();\n    const investors = resultSelector.rows.filter((row) => row.type === CapTableRowType.Safe || row.type === CapTableRowType.Series)","description":"Add null/undefined checks before accessing properties of resultSelector","content":"    const resultSelector = getPricedRoundCapTableSelector({\n      ...store.getState(),\n      preMoneyChange: 0,\n      investmentChange: 0,\n    });\n    expect(resultSelector).toBeDefined();\n    expect(resultSelector.rows).toBeDefined();\n    const investors = resultSelector.rows.filter((row) => row.type === CapTableRowType.Safe || row.type === CapTableRowType.Series)"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":15,"column":46,"message":"Potential runtime error - no null check on rows array before filtering","description":"Potential runtime error - no null check on rows array before filtering This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check for rows array before calling filter method","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const investors = resultSelector.rows?.filter((row) => row.type === CapTableRowType.Safe || row.type === CapTableRowType.Series) || []","description":"Add null check for rows array before calling filter method","content":"    const investors = resultSelector.rows?.filter((row) => row.type === CapTableRowType.Safe || row.type === CapTableRowType.Series) || []"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":16,"column":67,"message":"Potential runtime error - no null check on investment property during reduce operation","description":"Potential runtime error - no null check on investment property during reduce operation This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check for investment property to prevent NaN results","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const totalInvestment = investors.reduce((sum, current) => sum + (current.investment || 0), 0);","description":"Add null check for investment property to prevent NaN results","content":"    const totalInvestment = investors.reduce((sum, current) => sum + (current.investment || 0), 0);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":17,"column":12,"message":"Missing null/undefined check for totalRow property","description":"Missing null/undefined check for totalRow property This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check for totalRow before accessing its properties","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(resultSelector.totalRow).toBeDefined();\n    expect(resultSelector.totalRow.investment).toEqual(totalInvestment);","description":"Add null check for totalRow before accessing its properties","content":"    expect(resultSelector.totalRow).toBeDefined();\n    expect(resultSelector.totalRow.investment).toEqual(totalInvestment);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":26,"column":12,"message":"Missing null/undefined check for totalRow property","description":"Missing null/undefined check for totalRow property This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check for totalRow before accessing its properties","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(resultSelector.totalRow).toBeDefined();\n    expect(resultSelector.totalRow.shares).toEqual(13_027_681);","description":"Add null check for totalRow before accessing its properties","content":"    expect(resultSelector.totalRow).toBeDefined();\n    expect(resultSelector.totalRow.shares).toEqual(13_027_681);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":37,"column":12,"message":"Missing null/undefined check for totalRow property","description":"Missing null/undefined check for totalRow property This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check for totalRow before accessing its properties","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(resultSelector.totalRow).toBeDefined();\n    expect(resultSelector.totalRow.ownershipPct).toEqual(1);","description":"Add null check for totalRow before accessing its properties","content":"    expect(resultSelector.totalRow).toBeDefined();\n    expect(resultSelector.totalRow.ownershipPct).toEqual(1);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts-error-0","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts","line":12,"column":34,"message":"Potential runtime error: accessing ownershipPct property without null/undefined check","description":"Potential runtime error: accessing ownershipPct property without null/undefined check This will likely cause errors during execution.","suggestion":"Add null/undefined check before accessing ownershipPct property or use optional chaining","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"31.35\")","description":"Add null/undefined check before accessing ownershipPct property or use optional chaining","content":"    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"31.35\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts-error-1","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts","line":12,"column":12,"message":"Potential runtime error: accessing array index without bounds check","description":"Potential runtime error: accessing array index without bounds check This will likely cause errors during execution.","suggestion":"Add array bounds check before accessing array elements","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(preRoundSelector.rows.length).toBeGreaterThan(0);\n    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"31.35\")","description":"Add array bounds check before accessing array elements","content":"    expect(preRoundSelector.rows.length).toBeGreaterThan(0);\n    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"31.35\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json","line":19,"column":13,"message":"Floating point precision issue in cap value - may cause calculation errors","description":"Floating point precision issue in cap value - may cause calculation errors This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Round to appropriate decimal places or use integer representation in cents","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      \"cap\": 1785714.29,","description":"Round to appropriate decimal places or use integer representation in cents","content":"      \"cap\": 1785714.29,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json","line":70,"column":5,"message":"Inconsistent data structure - 'series' type objects missing required fields like 'discount', 'cap', 'conversionType'","description":"Inconsistent data structure - 'series' type objects missing required fields like 'discount', 'cap', 'conversionType' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add missing fields to maintain consistent data structure or create separate schemas for different types","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    {\n      \"id\": \"8\",\n      \"type\": \"series\",\n      \"name\": \"Sapphire Ventures\",\n      \"investment\": 3000000,\n      \"discount\": 0,\n      \"cap\": 0,\n      \"conversionType\": \"equity\"\n    },","description":"Add missing fields to maintain consistent data structure or create separate schemas for different types","content":"    {\n      \"id\": \"8\",\n      \"type\": \"series\",\n      \"name\": \"Sapphire Ventures\",\n      \"investment\": 3000000,\n      \"discount\": 0,\n      \"cap\": 0,\n      \"conversionType\": \"equity\"\n    },"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json","line":75,"column":5,"message":"Inconsistent data structure - 'series' type objects missing required fields like 'discount', 'cap', 'conversionType'","description":"Inconsistent data structure - 'series' type objects missing required fields like 'discount', 'cap', 'conversionType' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add missing fields to maintain consistent data structure or create separate schemas for different types","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    {\n      \"id\": \"9\",\n      \"type\": \"series\",\n      \"name\": \"Insight Partners\",\n      \"investment\": 1000000,\n      \"discount\": 0,\n      \"cap\": 0,\n      \"conversionType\": \"equity\"\n    }","description":"Add missing fields to maintain consistent data structure or create separate schemas for different types","content":"    {\n      \"id\": \"9\",\n      \"type\": \"series\",\n      \"name\": \"Insight Partners\",\n      \"investment\": 1000000,\n      \"discount\": 0,\n      \"cap\": 0,\n      \"conversionType\": \"equity\"\n    }"}}],"options":{"path":".","issueTypes":["bug","error","exception","error-handling"],"minSeverity":"warning","generateFixes":true}},{"id":"1752601343727","timestamp":"2025-07-15T17:42:23.727Z","title":"Scan of .","projectPath":".","issueCount":366,"issues":[{"id":"/home/mdp/src/1984/startup-finance/vite.config.ts-convention-0","type":"convention","severity":"warning","file":"/home/mdp/src/1984/startup-finance/vite.config.ts","line":10,"column":7,"message":"Inconsistent quote style in alias definitions","description":"Inconsistent quote style in alias definitions This code works but could be improved for better maintainability.","suggestion":"Use consistent quote style (double quotes) for all alias keys","rule":"convention","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      \"@library\": \"/src/library\",","description":"Use consistent quote style (double quotes) for all alias keys","content":"      \"@library\": \"/src/library\","}},{"id":"/home/mdp/src/1984/startup-finance/vite.config.ts-convention-1","type":"convention","severity":"warning","file":"/home/mdp/src/1984/startup-finance/vite.config.ts","line":10,"column":18,"message":"Inconsistent path resolution style in alias definitions","description":"Inconsistent path resolution style in alias definitions This code works but could be improved for better maintainability.","suggestion":"Use path.resolve() for consistent path resolution across different operating systems","rule":"convention","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      \"@library\": path.resolve(__dirname, \"./src/library\"),","description":"Use path.resolve() for consistent path resolution across different operating systems","content":"      \"@library\": path.resolve(__dirname, \"./src/library\"),"}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.test.json-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/tsconfig.test.json","line":10,"column":5,"message":"Invalid TypeScript compiler option 'resolveJsonModule' - should be 'resolveJsonModules'","description":"Invalid TypeScript compiler option 'resolveJsonModule' - should be 'resolveJsonModules' This will likely cause errors during execution.","suggestion":"Change 'resolveJsonModule' to 'resolveJsonModules'","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    \"resolveJsonModules\": true,","description":"Change 'resolveJsonModule' to 'resolveJsonModules'","content":"    \"resolveJsonModules\": true,"}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.test.json-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/tsconfig.test.json","line":22,"column":38,"message":"Trailing comma missing after last object property for consistency","description":"Trailing comma missing after last object property for consistency This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma after the last property in paths object","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      \"@library/*\": [\"./src/library/*\"],","description":"Add trailing comma after the last property in paths object","content":"      \"@library/*\": [\"./src/library/*\"],"}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.node.json-performance-0","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/tsconfig.node.json","line":3,"column":5,"message":"TypeScript target 'ES2022' is inconsistent with lib 'ES2023' which may cause compatibility issues","description":"TypeScript target 'ES2022' is inconsistent with lib 'ES2023' which may cause compatibility issues This implementation could impact application performance.","suggestion":"Align target and lib versions - either use ES2022 for both or ES2023 for both","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"    \"target\": \"ES2023\",\n    \"lib\": [\"ES2023\"],","description":"Align target and lib versions - either use ES2022 for both or ES2023 for both","content":"    \"target\": \"ES2023\",\n    \"lib\": [\"ES2023\"],"}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.json-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/tsconfig.json","line":1,"column":1,"message":"TypeScript configuration should include explicit composite mode for project references","description":"TypeScript configuration should include explicit composite mode for project references This violates code style conventions and may reduce readability.","suggestion":"Add 'composite: true' to compilerOptions when using project references","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"{\n  \"files\": [],\n  \"references\": [\n    { \"path\": \"./tsconfig.app.json\" },\n    { \"path\": \"./tsconfig.node.json\" }\n  ],\n  \"compilerOptions\": {\n    \"composite\": true,\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@/*\": [\"./src/app/*\"]\n    }\n  }\n}","description":"Add 'composite: true' to compilerOptions when using project references","content":"{\n  \"files\": [],\n  \"references\": [\n    { \"path\": \"./tsconfig.app.json\" },\n    { \"path\": \"./tsconfig.node.json\" }\n  ],\n  \"compilerOptions\": {\n    \"composite\": true,\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"@/*\": [\"./src/app/*\"]\n    }\n  }\n}"}},{"id":"/home/mdp/src/1984/startup-finance/tsconfig.app.json-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/tsconfig.app.json","line":24,"column":6,"message":"Trailing comma after last property in JSON object","description":"Trailing comma after last property in JSON object This violates code style conventions and may reduce readability.","suggestion":"Remove the trailing comma after the paths property","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    }\n  },","description":"Remove the trailing comma after the paths property","content":"    }\n  },"}},{"id":"/home/mdp/src/1984/startup-finance/tailwind.config.js-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/tailwind.config.js","line":57,"column":3,"message":"Invalid plugins configuration - plugins should be an array, not an object","description":"Invalid plugins configuration - plugins should be an array, not an object This will likely cause errors during execution.","suggestion":"Change plugins to an array and require the tailwindcss-animate plugin correctly","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  plugins: [require(\"tailwindcss-animate\")],","description":"Change plugins to an array and require the tailwindcss-animate plugin correctly","content":"  plugins: [require(\"tailwindcss-animate\")],"}},{"id":"/home/mdp/src/1984/startup-finance/package.json-security-0","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/package.json","line":13,"column":5,"message":"Using pre-release/alpha version of @google/clasp package which may contain security vulnerabilities","description":"Using pre-release/alpha version of @google/clasp package which may contain security vulnerabilities This could potentially expose your application to security vulnerabilities.","suggestion":"Use a stable release version of @google/clasp instead of alpha version","rule":"security","category":"Security","fix":{"type":"replace","oldCode":"","newCode":"    \"@google/clasp\": \"^2.4.2\",","description":"Use a stable release version of @google/clasp instead of alpha version","content":"    \"@google/clasp\": \"^2.4.2\","}},{"id":"/home/mdp/src/1984/startup-finance/package.json-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/package.json","line":14,"column":5,"message":"Development dependencies incorrectly placed in dependencies section","description":"Development dependencies incorrectly placed in dependencies section This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Move Jest-related packages and TypeScript types to devDependencies","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  \"dependencies\": {\n    \"@google/clasp\": \"^2.4.2\",\n    \"@radix-ui/react-select\": \"^2.1.6\",\n    \"@radix-ui/react-slot\": \"^1.1.2\",\n    \"@tailwindcss/vite\": \"^4.0.14\",\n    \"class-variance-authority\": \"^0.7.1\",\n    \"clsx\": \"^2.1.1\",\n    \"lucide-react\": \"^0.479.0\",\n    \"lz-string\": \"^1.5.0\",\n    \"react\": \"^19.0.0\",\n    \"react-currency-input-field\": \"^3.10.0\",\n    \"react-dom\": \"^19.0.0\",\n    \"react-icons\": \"^5.5.0\",\n    \"react-tooltip\": \"^5.28.0\",\n    \"reselect\": \"^5.1.1\",\n    \"shadcn\": \"2.4.0-canary.14\",\n    \"tailwind-merge\": \"^3.0.2\",\n    \"tailwindcss\": \"^4.0.14\",\n    \"tailwindcss-animate\": \"^1.0.7\",\n    \"zustand\": \"^5.0.3\"\n  },\n  \"devDependencies\": {\n    \"@eslint/js\": \"^9.21.0\",\n    \"@jest/globals\": \"^29.7.0\",\n    \"@types/google-apps-script\": \"^1.0.97\",\n    \"@types/node\": \"^22.13.10\",\n    \"@types/react\": \"^19.0.10\",\n    \"@types/react-dom\": \"^19.0.4\",\n    \"@vitejs/plugin-react\": \"^4.3.4\",\n    \"eslint\": \"^9.21.0\",\n    \"eslint-plugin-react-hooks\": \"^5.1.0\",\n    \"eslint-plugin-react-refresh\": \"^0.4.19\",\n    \"globals\": \"^15.15.0\",\n    \"jest\": \"^29.7.0\",\n    \"jest-environment-jsdom\": \"^29.7.0\",\n    \"ts-jest\": \"^29.2.6\",\n    \"typescript\": \"~5.7.2\",\n    \"typescript-eslint\": \"^8.24.1\",\n    \"vite\": \"^6.2.0\"\n  }","description":"Move Jest-related packages and TypeScript types to devDependencies","content":"  \"dependencies\": {\n    \"@google/clasp\": \"^2.4.2\",\n    \"@radix-ui/react-select\": \"^2.1.6\",\n    \"@radix-ui/react-slot\": \"^1.1.2\",\n    \"@tailwindcss/vite\": \"^4.0.14\",\n    \"class-variance-authority\": \"^0.7.1\",\n    \"clsx\": \"^2.1.1\",\n    \"lucide-react\": \"^0.479.0\",\n    \"lz-string\": \"^1.5.0\",\n    \"react\": \"^19.0.0\",\n    \"react-currency-input-field\": \"^3.10.0\",\n    \"react-dom\": \"^19.0.0\",\n    \"react-icons\": \"^5.5.0\",\n    \"react-tooltip\": \"^5.28.0\",\n    \"reselect\": \"^5.1.1\",\n    \"shadcn\": \"2.4.0-canary.14\",\n    \"tailwind-merge\": \"^3.0.2\",\n    \"tailwindcss\": \"^4.0.14\",\n    \"tailwindcss-animate\": \"^1.0.7\",\n    \"zustand\": \"^5.0.3\"\n  },\n  \"devDependencies\": {\n    \"@eslint/js\": \"^9.21.0\",\n    \"@jest/globals\": \"^29.7.0\",\n    \"@types/google-apps-script\": \"^1.0.97\",\n    \"@types/node\": \"^22.13.10\",\n    \"@types/react\": \"^19.0.10\",\n    \"@types/react-dom\": \"^19.0.4\",\n    \"@vitejs/plugin-react\": \"^4.3.4\",\n    \"eslint\": \"^9.21.0\",\n    \"eslint-plugin-react-hooks\": \"^5.1.0\",\n    \"eslint-plugin-react-refresh\": \"^0.4.19\",\n    \"globals\": \"^15.15.0\",\n    \"jest\": \"^29.7.0\",\n    \"jest-environment-jsdom\": \"^29.7.0\",\n    \"ts-jest\": \"^29.2.6\",\n    \"typescript\": \"~5.7.2\",\n    \"typescript-eslint\": \"^8.24.1\",\n    \"vite\": \"^6.2.0\"\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/package.json-security-2","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/package.json","line":26,"column":5,"message":"Using canary version of shadcn package which may contain unstable code","description":"Using canary version of shadcn package which may contain unstable code This could potentially expose your application to security vulnerabilities.","suggestion":"Use a stable release version of shadcn","rule":"security","category":"Security","fix":{"type":"replace","oldCode":"","newCode":"    \"shadcn\": \"^2.3.0\",","description":"Use a stable release version of shadcn","content":"    \"shadcn\": \"^2.3.0\","}},{"id":"/home/mdp/src/1984/startup-finance/package.json-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/package.json","line":8,"column":20,"message":"Potential file system operation issues in build:hugo script due to missing error handling","description":"Potential file system operation issues in build:hugo script due to missing error handling This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add error handling for mkdir and cp operations","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    \"build:hugo\": \"pnpm build && mkdir -p ../static/startup-finance/assets && cp dist/assets/* ../static/startup-finance/assets/. 2>/dev/null || true && cp dist/index.html ../layouts/docs/cap-table-layout.html\",","description":"Add error handling for mkdir and cp operations","content":"    \"build:hugo\": \"pnpm build && mkdir -p ../static/startup-finance/assets && cp dist/assets/* ../static/startup-finance/assets/. 2>/dev/null || true && cp dist/index.html ../layouts/docs/cap-table-layout.html\","}},{"id":"/home/mdp/src/1984/startup-finance/index.html-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/index.html","line":7,"column":5,"message":"Invalid rel attribute value 'icon shortcut' - should be 'shortcut icon' or just 'icon'","description":"Invalid rel attribute value 'icon shortcut' - should be 'shortcut icon' or just 'icon' This violates code style conventions and may reduce readability.","suggestion":"Use 'shortcut icon' or just 'icon' as the rel attribute value","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    <link rel=\"shortcut icon\" href=\"https://1984.vc/favicon.ico\" sizes=\"32x32\" />","description":"Use 'shortcut icon' or just 'icon' as the rel attribute value","content":"    <link rel=\"shortcut icon\" href=\"https://1984.vc/favicon.ico\" sizes=\"32x32\" />"}},{"id":"/home/mdp/src/1984/startup-finance/index.html-performance-1","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/index.html","line":7,"column":5,"message":"Missing preload or DNS prefetch for external domain resources","description":"Missing preload or DNS prefetch for external domain resources This implementation could impact application performance.","suggestion":"Add DNS prefetch for external domain to improve loading performance","rule":"performance","category":"Performance Issues","fix":{"type":"insert","oldCode":"","newCode":"    <link rel=\"dns-prefetch\" href=\"https://1984.vc\" />","description":"Add DNS prefetch for external domain to improve loading performance","content":"    <link rel=\"dns-prefetch\" href=\"https://1984.vc\" />"}},{"id":"/home/mdp/src/1984/startup-finance/index.html-security-2","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/index.html","line":3,"column":3,"message":"Missing Content Security Policy (CSP) header","description":"Missing Content Security Policy (CSP) header This could potentially expose your application to security vulnerabilities.","suggestion":"Add Content Security Policy meta tag to prevent XSS attacks","rule":"security","category":"Security","fix":{"type":"insert","oldCode":"","newCode":"    <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self';\" />","description":"Add Content Security Policy meta tag to prevent XSS attacks","content":"    <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; font-src 'self' data:; connect-src 'self';\" />"}},{"id":"/home/mdp/src/1984/startup-finance/eslint.config.js-convention-0","type":"convention","severity":"warning","file":"/home/mdp/src/1984/startup-finance/eslint.config.js","line":1,"column":1,"message":"Missing file extension in import statement","description":"Missing file extension in import statement This code works but could be improved for better maintainability.","suggestion":"Consider adding explicit file extensions for better module resolution","rule":"convention","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/eslint.config.js-performance-1","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/eslint.config.js","line":9,"column":30,"message":"Using spread operator on potentially large configuration array","description":"Using spread operator on potentially large configuration array This implementation could impact application performance.","suggestion":"Consider using concat() method for better performance with large arrays","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"    extends: [js.configs.recommended].concat(tseslint.configs.recommended),","description":"Consider using concat() method for better performance with large arrays","content":"    extends: [js.configs.recommended].concat(tseslint.configs.recommended),"}},{"id":"/home/mdp/src/1984/startup-finance/eslint.config.js-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/eslint.config.js","line":23,"column":6,"message":"Trailing comma missing in object literal","description":"Trailing comma missing in object literal This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistent formatting","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      ],\n    },","description":"Add trailing comma for consistent formatting","content":"      ],\n    },"}},{"id":"/home/mdp/src/1984/startup-finance/components.json-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/components.json","line":7,"column":11,"message":"CSS path should use standard 'src/app/globals.css' instead of 'src/app/index.css' for Next.js projects","description":"CSS path should use standard 'src/app/globals.css' instead of 'src/app/index.css' for Next.js projects This violates code style conventions and may reduce readability.","suggestion":"Use 'src/app/globals.css' which is the standard CSS file name for Next.js App Router","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"\"css\": \"src/app/globals.css\",","description":"Use 'src/app/globals.css' which is the standard CSS file name for Next.js App Router","content":"\"css\": \"src/app/globals.css\","}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":2,"column":37,"message":"Inconsistent quote style - mix of double and single quotes","description":"Inconsistent quote style - mix of double and single quotes This violates code style conventions and may reduce readability.","suggestion":"Use consistent quote style throughout the file","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"const TsconfigPathsPlugin = require(\"tsconfig-paths-webpack-plugin\");","description":"Use consistent quote style throughout the file","content":"const TsconfigPathsPlugin = require(\"tsconfig-paths-webpack-plugin\");"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":16,"column":16,"message":"Inconsistent quote style - mix of double and single quotes","description":"Inconsistent quote style - mix of double and single quotes This violates code style conventions and may reduce readability.","suggestion":"Use consistent quote style throughout the file","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    extensions: [\".js\"], // Add more as needed","description":"Use consistent quote style throughout the file","content":"    extensions: [\".js\"], // Add more as needed"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":18,"column":7,"message":"Inconsistent quote style - mix of double and single quotes","description":"Inconsistent quote style - mix of double and single quotes This violates code style conventions and may reduce readability.","suggestion":"Use consistent quote style throughout the file","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      \"@library\": path.resolve(__dirname, \"build/src/library\") // Map alias to compiled path","description":"Use consistent quote style throughout the file","content":"      \"@library\": path.resolve(__dirname, \"build/src/library\") // Map alias to compiled path"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":18,"column":49,"message":"Inconsistent quote style - mix of double and single quotes","description":"Inconsistent quote style - mix of double and single quotes This violates code style conventions and may reduce readability.","suggestion":"Use consistent quote style throughout the file","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      \"@library\": path.resolve(__dirname, \"build/src/library\") // Map alias to compiled path","description":"Use consistent quote style throughout the file","content":"      \"@library\": path.resolve(__dirname, \"build/src/library\") // Map alias to compiled path"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/webpack.config.js","line":17,"column":41,"message":"Unnecessary empty object with trailing space","description":"Unnecessary empty object with trailing space This violates code style conventions and may reduce readability.","suggestion":"Remove trailing space in empty object","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    plugins: [new TsconfigPathsPlugin({})],","description":"Remove trailing space in empty object","content":"    plugins: [new TsconfigPathsPlugin({})],"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json","line":16,"column":43,"message":"Trailing comma in paths object","description":"Trailing comma in paths object This violates code style conventions and may reduce readability.","suggestion":"Remove trailing comma after the last property in the paths object","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      \"@library/*\": [\"../src/library/*\"]","description":"Remove trailing comma after the last property in the paths object","content":"      \"@library/*\": [\"../src/library/*\"]"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json","line":23,"column":3,"message":"Trailing comma in JSON object","description":"Trailing comma in JSON object This violates code style conventions and may reduce readability.","suggestion":"Remove trailing comma after the last property in the main configuration object","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  ]","description":"Remove trailing comma after the last property in the main configuration object","content":"  ]"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/tsconfig.json","line":4,"column":5,"message":"Module resolution 'Bundler' may not be compatible with Google Apps Script runtime","description":"Module resolution 'Bundler' may not be compatible with Google Apps Script runtime This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider using 'Node' module resolution for better compatibility with Google Apps Script","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    \"moduleResolution\": \"Node\",","description":"Consider using 'Node' module resolution for better compatibility with Google Apps Script","content":"    \"moduleResolution\": \"Node\","}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml-security-0","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml","line":198,"column":3,"message":"Deprecated package 'google-p12-pem' in dependency tree","description":"Deprecated package 'google-p12-pem' in dependency tree This could potentially expose your application to security vulnerabilities.","suggestion":"Update to a maintained alternative for P12 to PEM conversion or use google-auth-library directly","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml-vulnerability-1","type":"vulnerability","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml","line":718,"column":3,"message":"Potential security vulnerability in older TypeScript version","description":"Potential security vulnerability in older TypeScript version This code works but could be improved for better maintainability.","suggestion":"Update TypeScript to version 5.7.2 which is already available in the lockfile","rule":"vulnerability","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml-performance-2","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml","line":1,"column":1,"message":"Multiple versions of the same package in dependency tree","description":"Multiple versions of the same package in dependency tree This implementation could impact application performance.","suggestion":"Consider using npm dedupe or yarn dedupe to optimize package resolution and reduce bundle size","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml-security-3","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/pnpm-lock.yaml","line":382,"column":3,"message":"Transitive dependency on 'node-fetch' which has known security issues in older versions","description":"Transitive dependency on 'node-fetch' which has known security issues in older versions This could potentially expose your application to security vulnerabilities.","suggestion":"Ensure node-fetch is updated to latest version or consider using built-in fetch API","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json-security-0","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json","line":10,"column":13,"message":"License field uses deprecated short form 'GPL' instead of full SPDX identifier","description":"License field uses deprecated short form 'GPL' instead of full SPDX identifier This could potentially expose your application to security vulnerabilities.","suggestion":"Use full SPDX license identifier like 'GPL-3.0-or-later' for better compatibility","rule":"security","category":"Security","fix":{"type":"replace","oldCode":"","newCode":"\"GPL-3.0-or-later\"","description":"Use full SPDX license identifier like 'GPL-3.0-or-later' for better compatibility","content":"\"GPL-3.0-or-later\""}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json-vulnerability-1","type":"vulnerability","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json","line":12,"column":5,"message":"Production dependency 'tsconfig-paths-webpack-plugin' should be in devDependencies for a build tool","description":"Production dependency 'tsconfig-paths-webpack-plugin' should be in devDependencies for a build tool This code works but could be improved for better maintainability.","suggestion":"Move build-time dependencies to devDependencies to reduce production bundle size","rule":"vulnerability","category":"Security","fix":{"type":"replace","oldCode":"","newCode":"  \"dependencies\": {},\n  \"devDependencies\": {\n    \"@google/clasp\": \"^2.4.2\",\n    \"@types/google-apps-script\": \"^1.0.83\",\n    \"@typescript-eslint/eslint-plugin\": \"^8.4.0\",\n    \"@typescript-eslint/parser\": \"^8.4.0\",\n    \"eslint\": \"^9.9.1\",\n    \"eslint-config-prettier\": \"^9.1.0\",\n    \"eslint-plugin-googleappsscript\": \"^1.0.5\",\n    \"gas-webpack-plugin\": \"^2.6.0\",\n    \"prettier\": \"^3.3.3\",\n    \"tsconfig-paths-webpack-plugin\": \"^4.1.0\",\n    \"typescript\": \"^5.5.4\",\n    \"webpack\": \"^5.94.0\",\n    \"webpack-cli\": \"^5.1.4\"\n  }","description":"Move build-time dependencies to devDependencies to reduce production bundle size","content":"  \"dependencies\": {},\n  \"devDependencies\": {\n    \"@google/clasp\": \"^2.4.2\",\n    \"@types/google-apps-script\": \"^1.0.83\",\n    \"@typescript-eslint/eslint-plugin\": \"^8.4.0\",\n    \"@typescript-eslint/parser\": \"^8.4.0\",\n    \"eslint\": \"^9.9.1\",\n    \"eslint-config-prettier\": \"^9.1.0\",\n    \"eslint-plugin-googleappsscript\": \"^1.0.5\",\n    \"gas-webpack-plugin\": \"^2.6.0\",\n    \"prettier\": \"^3.3.3\",\n    \"tsconfig-paths-webpack-plugin\": \"^4.1.0\",\n    \"typescript\": \"^5.5.4\",\n    \"webpack\": \"^5.94.0\",\n    \"webpack-cli\": \"^5.1.4\"\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/package.json","line":8,"column":12,"message":"ESLint script lacks file patterns and may not work as expected","description":"ESLint script lacks file patterns and may not work as expected This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Specify file patterns for ESLint to analyze, e.g., 'eslint src/**/*.ts'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"\"eslint src/**/*.ts\"","description":"Specify file patterns for ESLint to analyze, e.g., 'eslint src/**/*.ts'","content":"\"eslint src/**/*.ts\""}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/appsscript.json-error-0","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/appsscript.json","line":3,"column":21,"message":"Deprecated runtime version V8 should be updated to V8 or newer","description":"Deprecated runtime version V8 should be updated to V8 or newer This will likely cause errors during execution.","suggestion":"Update runtimeVersion to 'V8' or consider migrating to a newer runtime if available","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/appsscript.json-error-1","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/appsscript.json","line":2,"column":23,"message":"Deprecated exceptionLogging value 'STACKDRIVER' should be updated to 'CLOUD_LOGGING'","description":"Deprecated exceptionLogging value 'STACKDRIVER' should be updated to 'CLOUD_LOGGING' This will likely cause errors during execution.","suggestion":"Replace 'STACKDRIVER' with 'CLOUD_LOGGING' as Stackdriver has been rebranded to Google Cloud Logging","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"{\n  \"exceptionLogging\": \"CLOUD_LOGGING\",\n  \"runtimeVersion\": \"V8\"\n}","description":"Replace 'STACKDRIVER' with 'CLOUD_LOGGING' as Stackdriver has been rebranded to Google Cloud Logging","content":"{\n  \"exceptionLogging\": \"CLOUD_LOGGING\",\n  \"runtimeVersion\": \"V8\"\n}"}},{"id":"/home/mdp/src/1984/startup-finance/dist/index.html-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/index.html","line":6,"column":26,"message":"Invalid attribute value 'icon shortcut' - should be 'shortcut icon'","description":"Invalid attribute value 'icon shortcut' - should be 'shortcut icon' This violates code style conventions and may reduce readability.","suggestion":"Change 'icon shortcut' to 'shortcut icon' to follow HTML standards","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    <link rel=\"shortcut icon\" href=\"https://1984.vc/favicon.ico\" sizes=\"32x32\" />","description":"Change 'icon shortcut' to 'shortcut icon' to follow HTML standards","content":"    <link rel=\"shortcut icon\" href=\"https://1984.vc/favicon.ico\" sizes=\"32x32\" />"}},{"id":"/home/mdp/src/1984/startup-finance/dist/index.html-security-1","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/index.html","line":25,"column":5,"message":"Missing integrity attribute for external CSS resource","description":"Missing integrity attribute for external CSS resource This could potentially expose your application to security vulnerabilities.","suggestion":"Add integrity attribute with hash to prevent tampering of external CSS resources","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/dist/index.html-security-2","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/index.html","line":24,"column":5,"message":"Missing integrity attribute for external JavaScript resource","description":"Missing integrity attribute for external JavaScript resource This could potentially expose your application to security vulnerabilities.","suggestion":"Add integrity attribute with hash to prevent tampering of external JavaScript resources","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/dist/index.html-performance-3","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/index.html","line":24,"column":5,"message":"Consider adding preload hints for critical CSS and JS resources","description":"Consider adding preload hints for critical CSS and JS resources This implementation could impact application performance.","suggestion":"Add <link rel=\"preload\"> tags for critical CSS and JS files to improve loading performance","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":29,"column":4,"message":"Redundant nullish coalescing operator - reduce function cannot return null or undefined","description":"Redundant nullish coalescing operator - reduce function cannot return null or undefined This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the unnecessary '?? 0' as the reduce function will always return a number","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    }, 0)\n  );","description":"Remove the unnecessary '?? 0' as the reduce function will always return a number","content":"    }, 0)\n  );"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":38,"column":28,"message":"Missing semicolon after return statement","description":"Missing semicolon after return statement This violates code style conventions and may reduce readability.","suggestion":"Add semicolon for consistency with other statements","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"       return { ...safe, cap };","description":"Add semicolon for consistency with other statements","content":"       return { ...safe, cap };"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":40,"column":19,"message":"Missing semicolon after return statement","description":"Missing semicolon after return statement This violates code style conventions and may reduce readability.","suggestion":"Add semicolon for consistency with other statements","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    return {...safe};","description":"Add semicolon for consistency with other statements","content":"    return {...safe};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":42,"column":3,"message":"Missing semicolon after return statement","description":"Missing semicolon after return statement This violates code style conventions and may reduce readability.","suggestion":"Add semicolon for consistency with other statements","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  });","description":"Add semicolon for consistency with other statements","content":"  });"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":53,"column":27,"message":"Division by zero is possible when discountPPS is 0","description":"Division by zero is possible when discountPPS is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure discountPPS is not zero before division","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":69,"column":17,"message":"Division by zero is possible when shares is 0","description":"Division by zero is possible when shares is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure shares is not zero before division","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-style-6","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":75,"column":3,"message":"Variable declaration should be const instead of let when not reassigned","description":"Variable declaration should be const instead of let when not reassigned This violates code style conventions and may reduce readability.","suggestion":"Use const for variables that are not reassigned","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const ownershipError: CapTableOwnershipError | undefined = undefined;","description":"Use const for variables that are not reassigned","content":"  const ownershipError: CapTableOwnershipError | undefined = undefined;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-style-7","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":81,"column":8,"message":"Missing semicolon after assignment","description":"Missing semicolon after assignment This violates code style conventions and may reduce readability.","suggestion":"Add semicolon for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      };","description":"Add semicolon for consistency","content":"      };"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-style-8","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":83,"column":5,"message":"Missing semicolon after block statement","description":"Missing semicolon after block statement This violates code style conventions and may reduce readability.","suggestion":"Add semicolon for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    }","description":"Add semicolon for consistency","content":"    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-style-9","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":84,"column":3,"message":"Missing semicolon after function call","description":"Missing semicolon after function call This violates code style conventions and may reduce readability.","suggestion":"Add semicolon for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  });","description":"Add semicolon for consistency","content":"  });"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts-style-10","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/safe-calcs.ts","line":85,"column":25,"message":"Missing semicolon after return statement","description":"Missing semicolon after return statement This violates code style conventions and may reduce readability.","suggestion":"Add semicolon for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  return ownershipError;","description":"Add semicolon for consistency","content":"  return ownershipError;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-performance-0","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":55,"column":43,"message":"Unnecessary map operation that only returns the input value","description":"Unnecessary map operation that only returns the input value This implementation could impact application performance.","suggestion":"Remove the unnecessary map operation and use the array directly","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"  const seriesInvestment = sumArray(seriesInvestments);","description":"Remove the unnecessary map operation and use the array directly","content":"  const seriesInvestment = sumArray(seriesInvestments);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":59,"column":9,"message":"No error handling for potential division by zero when calculating pps","description":"No error handling for potential division by zero when calculating pps This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure totalShares is not zero before division","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  if (totalShares === 0) {\n    throw new Error('Total shares cannot be zero when calculating price per share');\n  }\n  const pps = roundPPSToPlaces((preMoneyValuation + seriesInvestment) / totalShares, roundingStrategy.roundPPSPlaces);","description":"Add validation to ensure totalShares is not zero before division","content":"  if (totalShares === 0) {\n    throw new Error('Total shares cannot be zero when calculating price per share');\n  }\n  const pps = roundPPSToPlaces((preMoneyValuation + seriesInvestment) / totalShares, roundingStrategy.roundPPSPlaces);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":149,"column":17,"message":"No error handling for potential division by zero when calculating SAFE conversion","description":"No error handling for potential division by zero when calculating SAFE conversion This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure pps is not zero before division","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    if (pps === 0) {\n      throw new Error('Price per share cannot be zero when calculating SAFE conversion');\n    }\n    ppss[idx] = roundPPSToPlaces(safeConvert(safe, preMoneyShares, postMoneyShares, pps), roundingStrategy.roundPPSPlaces);","description":"Add validation to ensure pps is not zero before division","content":"    if (pps === 0) {\n      throw new Error('Price per share cannot be zero when calculating SAFE conversion');\n    }\n    ppss[idx] = roundPPSToPlaces(safeConvert(safe, preMoneyShares, postMoneyShares, pps), roundingStrategy.roundPPSPlaces);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":109,"column":3,"message":"Infinite loop potential - convergence loop has fixed iteration limit but no convergence validation","description":"Infinite loop potential - convergence loop has fixed iteration limit but no convergence validation This code works but could be improved for better maintainability.","suggestion":"Add validation to check if convergence was actually achieved","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  let converged = false;\n  // Walk the total shares up until we find a stable value where\n  // the total shares converges\n  for (let i = 0; i < 100; i++) {\n    totalShares = attemptFit(\n      preMoneyValuation,\n      commonShares,\n      unusedOptions,\n      targetOptionsPct,\n      safes,\n      seriesInvestments,\n      totalShares,\n      roundingStrategy\n    );\n\n    if (totalShares === lastTotalShares) {\n      converged = true;\n      break;\n    }\n    lastTotalShares = totalShares;\n  }\n\n  if (!converged) {\n    throw new Error('Failed to converge on stable total shares after 100 iterations');\n  }","description":"Add validation to check if convergence was actually achieved","content":"  let converged = false;\n  // Walk the total shares up until we find a stable value where\n  // the total shares converges\n  for (let i = 0; i < 100; i++) {\n    totalShares = attemptFit(\n      preMoneyValuation,\n      commonShares,\n      unusedOptions,\n      targetOptionsPct,\n      safes,\n      seriesInvestments,\n      totalShares,\n      roundingStrategy\n    );\n\n    if (totalShares === lastTotalShares) {\n      converged = true;\n      break;\n    }\n    lastTotalShares = totalShares;\n  }\n\n  if (!converged) {\n    throw new Error('Failed to converge on stable total shares after 100 iterations');\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts-performance-4","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/conversion-solver.ts","line":148,"column":22,"message":"Array.from() is unnecessary when iterating over array entries","description":"Array.from() is unnecessary when iterating over array entries This implementation could impact application performance.","suggestion":"Use safes.entries() directly instead of Array.from(safes.entries())","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"  for (const [idx, safe] of safes.entries()) {","description":"Use safes.entries() directly instead of Array.from(safes.entries())","content":"  for (const [idx, safe] of safes.entries()) {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/vite-env.d.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/vite-env.d.ts","line":3,"column":1,"message":"File ends with unnecessary empty line","description":"File ends with unnecessary empty line This violates code style conventions and may reduce readability.","suggestion":"Remove the trailing empty line","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"/// <reference types=\"vite/client\" />","description":"Remove the trailing empty line","content":"/// <reference types=\"vite/client\" />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/main.tsx-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/main.tsx","line":5,"column":12,"message":"Potential null reference error - DOM element with id 'root' might not exist","description":"Potential null reference error - DOM element with id 'root' might not exist This code works but could be improved for better maintainability.","suggestion":"Add null check before creating root or handle the case where element doesn't exist","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"const rootElement = document.getElementById('root');\nif (!rootElement) {\n  throw new Error('Root element not found');\n}\ncreateRoot(rootElement).render(","description":"Add null check before creating root or handle the case where element doesn't exist","content":"const rootElement = document.getElementById('root');\nif (!rootElement) {\n  throw new Error('Root element not found');\n}\ncreateRoot(rootElement).render("}},{"id":"/home/mdp/src/1984/startup-finance/src/app/main.tsx-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/main.tsx","line":4,"column":27,"message":"Unnecessary .tsx extension in import statement","description":"Unnecessary .tsx extension in import statement This violates code style conventions and may reduce readability.","suggestion":"Remove .tsx extension from import as it's not needed in TypeScript/React projects","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"import Page from './cap-table/page'","description":"Remove .tsx extension from import as it's not needed in TypeScript/React projects","content":"import Page from './cap-table/page'"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-convention-0","type":"convention","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":3,"column":1,"message":"Non-standard CSS at-rule '@plugin' - should use standard CSS import or PostCSS configuration","description":"Non-standard CSS at-rule '@plugin' - should use standard CSS import or PostCSS configuration This code works but could be improved for better maintainability.","suggestion":"Move plugin configuration to PostCSS config file or use standard CSS import","rule":"convention","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-convention-1","type":"convention","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":5,"column":1,"message":"Non-standard CSS at-rule '@custom-variant' - not part of standard CSS specification","description":"Non-standard CSS at-rule '@custom-variant' - not part of standard CSS specification This code works but could be improved for better maintainability.","suggestion":"Use standard CSS selectors or move to PostCSS configuration","rule":"convention","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":51,"column":3,"message":"Inconsistent color format - mixing hex and oklch color formats","description":"Inconsistent color format - mixing hex and oklch color formats This violates code style conventions and may reduce readability.","suggestion":"Use consistent color format throughout the file (prefer oklch for modern browser support)","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  --background: oklch(0.067 0 0);","description":"Use consistent color format throughout the file (prefer oklch for modern browser support)","content":"  --background: oklch(0.067 0 0);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-convention-3","type":"convention","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":89,"column":1,"message":"Non-standard CSS at-rule '@theme' - not part of standard CSS specification","description":"Non-standard CSS at-rule '@theme' - not part of standard CSS specification This code works but could be improved for better maintainability.","suggestion":"Use standard CSS custom properties or move to build tool configuration","rule":"convention","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":137,"column":3,"message":"Inconsistent color format - mixing hex and oklch color formats in theme variables","description":"Inconsistent color format - mixing hex and oklch color formats in theme variables This violates code style conventions and may reduce readability.","suggestion":"Convert hex colors to oklch format for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  --color-nt84blue: oklch(0.456 0.204 258.338);\n  --color-nt84bluedarker: oklch(0.357 0.219 254.891);\n  --color-nt84lightblue: oklch(0.852 0.058 258.338);\n  --color-nt84lighterblue: oklch(0.952 0.023 258.338);\n  --color-nt84orange: oklch(0.668 0.192 31.567);\n  --color-nt84orangedarker: oklch(0.548 0.173 31.567);","description":"Convert hex colors to oklch format for consistency","content":"  --color-nt84blue: oklch(0.456 0.204 258.338);\n  --color-nt84bluedarker: oklch(0.357 0.219 254.891);\n  --color-nt84lightblue: oklch(0.852 0.058 258.338);\n  --color-nt84lighterblue: oklch(0.952 0.023 258.338);\n  --color-nt84orange: oklch(0.668 0.192 31.567);\n  --color-nt84orangedarker: oklch(0.548 0.173 31.567);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/index.css-performance-5","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/index.css","line":146,"column":3,"message":"Universal selector (*) with complex properties may impact performance","description":"Universal selector (*) with complex properties may impact performance This implementation could impact application performance.","suggestion":"Consider applying border and outline styles to specific elements instead of all elements","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-error-0","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":78,"column":77,"message":"Extra closing brace in error message string","description":"Extra closing brace in error message string This will likely cause errors during execution.","suggestion":"Remove the extra closing brace","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for premoney, expected number, got ${preMoney}`,","description":"Remove the extra closing brace","content":"        `SAFE_CONVERSION: Invalid input for premoney, expected number, got ${preMoney}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-error-1","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":83,"column":85,"message":"Extra closing brace in error message string","description":"Extra closing brace in error message string This will likely cause errors during execution.","suggestion":"Remove the extra closing brace","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for commonShares, expected number, got ${commonShares}`,","description":"Remove the extra closing brace","content":"        `SAFE_CONVERSION: Invalid input for commonShares, expected number, got ${commonShares}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-error-2","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":88,"column":85,"message":"Extra closing brace in error message string","description":"Extra closing brace in error message string This will likely cause errors during execution.","suggestion":"Remove the extra closing brace","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for unusedOptions, expected number, got ${unusedOptions}`,","description":"Remove the extra closing brace","content":"        `SAFE_CONVERSION: Invalid input for unusedOptions, expected number, got ${unusedOptions}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-error-3","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":93,"column":89,"message":"Extra closing brace in error message string","description":"Extra closing brace in error message string This will likely cause errors during execution.","suggestion":"Remove the extra closing brace","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for targetOptionsPct, expected number, got ${targetOptionsPct}`,","description":"Remove the extra closing brace","content":"        `SAFE_CONVERSION: Invalid input for targetOptionsPct, expected number, got ${targetOptionsPct}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-error-4","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":99,"column":78,"message":"Wrong variable name in error message - should be 'roundPPSPlaces' not 'seriesInvestmentRanges'","description":"Wrong variable name in error message - should be 'roundPPSPlaces' not 'seriesInvestmentRanges' This will likely cause errors during execution.","suggestion":"Use the correct variable name in the error message","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        `SAFE_CONVERSION: Invalid input for roundPPSPlaces, expected a number, got ${roundPPSPlaces}`,","description":"Use the correct variable name in the error message","content":"        `SAFE_CONVERSION: Invalid input for roundPPSPlaces, expected a number, got ${roundPPSPlaces}`,"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":76,"column":5,"message":"Input validation is performed after type conversion instead of before","description":"Input validation is performed after type conversion instead of before This code works but could be improved for better maintainability.","suggestion":"Convert string inputs to numbers using toNumber() function for consistent validation","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    const preMoneyNum = toNumber(preMoney);\n    const commonSharesNum = toNumber(commonShares);\n    const unusedOptionsNum = toNumber(unusedOptions);\n    const targetOptionsPctNum = toNumber(targetOptionsPct);","description":"Convert string inputs to numbers using toNumber() function for consistent validation","content":"    const preMoneyNum = toNumber(preMoney);\n    const commonSharesNum = toNumber(commonShares);\n    const unusedOptionsNum = toNumber(unusedOptions);\n    const targetOptionsPctNum = toNumber(targetOptionsPct);"}},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-security-6","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":174,"column":1,"message":"Global object modification could lead to security issues","description":"Global object modification could lead to security issues This could potentially expose your application to security vulnerabilities.","suggestion":"Consider using a more secure method to expose functions to Google Apps Script","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts-performance-7","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/google-apps-script/src/index.ts","line":115,"column":25,"message":"Unnecessary type conversion using Number() on values that are already numbers","description":"Unnecessary type conversion using Number() on values that are already numbers This implementation could impact application performance.","suggestion":"Remove unnecessary Number() calls since fit properties are already numbers","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"      [\"PreMoney\", fit.preMoneyShares],\n      [\"PostMoney\", fit.postMoneyShares],\n      [\"TotalShares\", fit.totalShares],\n      [\"PPS\", fit.pps],","description":"Remove unnecessary Number() calls since fit properties are already numbers","content":"      [\"PreMoney\", fit.preMoneyShares],\n      [\"PostMoney\", fit.postMoneyShares],\n      [\"TotalShares\", fit.totalShares],\n      [\"PPS\", fit.pps],"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-performance-0","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":2890,"message":"Extremely large rounded-full value may cause rendering performance issues","description":"Extremely large rounded-full value may cause rendering performance issues This implementation could impact application performance.","suggestion":"Use a more reasonable border-radius value like 50% or 9999px instead of 3.40282e38px","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":".rounded-full{border-radius:50%}","description":"Use a more reasonable border-radius value like 50% or 9999px instead of 3.40282e38px","content":".rounded-full{border-radius:50%}"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":1140,"message":"Missing space in --text-base--line-height value","description":"Missing space in --text-base--line-height value This violates code style conventions and may reduce readability.","suggestion":"Add consistent spacing around the value","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"--text-base--line-height:1.5;","description":"Add consistent spacing around the value","content":"--text-base--line-height:1.5;"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":1280,"message":"Missing space in --text-3xl--line-height value","description":"Missing space in --text-3xl--line-height value This violates code style conventions and may reduce readability.","suggestion":"Add consistent spacing around the value","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"--text-3xl--line-height:1.2;","description":"Add consistent spacing around the value","content":"--text-3xl--line-height:1.2;"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":4500,"message":"Missing space in --tw-translate-x value","description":"Missing space in --tw-translate-x value This violates code style conventions and may reduce readability.","suggestion":"Add consistent spacing around the value","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"--tw-translate-x:-50%;","description":"Add consistent spacing around the value","content":"--tw-translate-x:-50%;"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":4580,"message":"Missing space in --tw-translate-y value","description":"Missing space in --tw-translate-y value This violates code style conventions and may reduce readability.","suggestion":"Add consistent spacing around the value","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"--tw-translate-y:-50%;","description":"Add consistent spacing around the value","content":"--tw-translate-y:-50%;"}},{"id":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css-performance-5","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/dist/assets/index-Dr3-wBCE.css","line":1,"column":3880,"message":"Missing space in max-height property may cause parsing issues","description":"Missing space in max-height property may cause parsing issues This implementation could impact application performance.","suggestion":"Add proper spacing around the property value","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":".max-h-\\[var\\(--radix-select-content-available-height\\)\\]{max-height:var(--radix-select-content-available-height)}","description":"Add proper spacing around the property value","content":".max-h-\\[var\\(--radix-select-content-available-height\\)\\]{max-height:var(--radix-select-content-available-height)}"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":15,"column":12,"message":"Missing semicolon at end of statement","description":"Missing semicolon at end of statement This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the return statement","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  return num;","description":"Add semicolon at the end of the return statement","content":"  return num;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":2,"column":3,"message":"Mutually exclusive boolean flags in RoundingStrategy type could lead to ambiguous behavior","description":"Mutually exclusive boolean flags in RoundingStrategy type could lead to ambiguous behavior This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Consider using a union type or enum instead of multiple boolean flags to prevent conflicting configurations","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":9,"column":47,"message":"No validation for NaN, Infinity, or null/undefined inputs in numeric functions","description":"No validation for NaN, Infinity, or null/undefined inputs in numeric functions This code works but could be improved for better maintainability.","suggestion":"Add input validation to handle edge cases like NaN, Infinity, or invalid numbers","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":19,"column":49,"message":"No validation for NaN, Infinity, or null/undefined inputs in numeric functions","description":"No validation for NaN, Infinity, or null/undefined inputs in numeric functions This code works but could be improved for better maintainability.","suggestion":"Add input validation to handle edge cases like NaN, Infinity, or invalid numbers","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/rounding.ts","line":27,"column":41,"message":"No validation for NaN, Infinity, or null/undefined inputs in numeric functions","description":"No validation for NaN, Infinity, or null/undefined inputs in numeric functions This code works but could be improved for better maintainability.","suggestion":"Add input validation to handle edge cases like NaN, Infinity, or invalid numbers","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":8,"column":14,"message":"parseInt on empty string returns NaN, which could cause runtime errors","description":"parseInt on empty string returns NaN, which could cause runtime errors This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to handle empty strings and NaN results","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    const result = cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);\n    return isNaN(result) ? 0 : result;","description":"Add validation to handle empty strings and NaN results","content":"const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    const result = cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);\n    return isNaN(result) ? 0 : result;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":7,"column":12,"message":"Multiple decimal points in string will result in incorrect parsing","description":"Multiple decimal points in string will result in incorrect parsing This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Validate that there's only one decimal point in the cleaned value","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    // Handle multiple decimal points\n    const decimalCount = (cleanedValue.match(/\\./g) || []).length;\n    if (decimalCount > 1) {\n      const parts = cleanedValue.split('.');\n      const reconstructed = parts[0] + '.' + parts.slice(1).join('');\n      return parseFloat(reconstructed) || 0;\n    }\n    const result = cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);\n    return isNaN(result) ? 0 : result;","description":"Validate that there's only one decimal point in the cleaned value","content":"const cleanedValue = value.replace(/[^-\\d.]/g, \"\");\n    if (cleanedValue === \"\" || cleanedValue === \"-\") {\n      return 0;\n    }\n    // Handle multiple decimal points\n    const decimalCount = (cleanedValue.match(/\\./g) || []).length;\n    if (decimalCount > 1) {\n      const parts = cleanedValue.split('.');\n      const reconstructed = parts[0] + '.' + parts.slice(1).join('');\n      return parseFloat(reconstructed) || 0;\n    }\n    const result = cleanedValue.includes(\".\")\n      ? parseFloat(cleanedValue)\n      : parseInt(cleanedValue, 10);\n    return isNaN(result) ? 0 : result;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":16,"column":5,"message":"Calling toLocaleString on potentially NaN value will throw runtime error","description":"Calling toLocaleString on potentially NaN value will throw runtime error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure value is a valid number before calling toLocaleString","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"$0.00\";\n  }\n  const maximumFractionDigits = value < 1000 ? 2 : 0\n  return value.toLocaleString(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    maximumFractionDigits,\n  });","description":"Add validation to ensure value is a valid number before calling toLocaleString","content":"if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"$0.00\";\n  }\n  const maximumFractionDigits = value < 1000 ? 2 : 0\n  return value.toLocaleString(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    maximumFractionDigits,\n  });"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":27,"column":10,"message":"Calling toLocaleString on potentially NaN value will throw runtime error","description":"Calling toLocaleString on potentially NaN value will throw runtime error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure value is a valid number before calling toLocaleString","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"0\";\n  }\n  return value.toLocaleString(\"en-US\", {\n    style: \"decimal\",\n  });","description":"Add validation to ensure value is a valid number before calling toLocaleString","content":"if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  if (isNaN(value)) {\n    return \"0\";\n  }\n  return value.toLocaleString(\"en-US\", {\n    style: \"decimal\",\n  });"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":37,"column":5,"message":"Mathematical operations on NaN will produce unexpected results","description":"Mathematical operations on NaN will produce unexpected results This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure value is a valid number before performing mathematical operations","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  \n  if (isNaN(value)) {\n    return \"$0\";\n  }\n\n  if (value >= 1_000_000) {\n    return \"$\" + (value / 1_000_000).toFixed(1) + \"M\";\n  } else if (value >= 1_000) {\n    return \"$\" + (value / 1_000).toFixed(1) + \"K\";\n  } else {\n    return \"$\" + value.toString();\n  }","description":"Add validation to ensure value is a valid number before performing mathematical operations","content":"if (typeof value === \"string\") {\n    value = stringToNumber(value);\n  }\n  \n  if (isNaN(value)) {\n    return \"$0\";\n  }\n\n  if (value >= 1_000_000) {\n    return \"$\" + (value / 1_000_000).toFixed(1) + \"M\";\n  } else if (value >= 1_000) {\n    return \"$\" + (value / 1_000).toFixed(1) + \"K\";\n  } else {\n    return \"$\" + value.toString();\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts-style-5","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/utils/numberFormatting.ts","line":16,"column":57,"message":"Missing semicolon","description":"Missing semicolon This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at end of statement","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const maximumFractionDigits = value < 1000 ? 2 : 0;","description":"Add semicolon at end of statement","content":"  const maximumFractionDigits = value < 1000 ? 2 : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":47,"column":19,"message":"Missing semicolon after property declaration","description":"Missing semicolon after property declaration This violates code style conventions and may reduce readability.","suggestion":"Add semicolon for consistency with other property declarations","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  reason?: string;","description":"Add semicolon for consistency with other property declarations","content":"  reason?: string;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":19,"column":3,"message":"Type inconsistency: BaseStake allows optional shares but CommonStockholder requires shares","description":"Type inconsistency: BaseStake allows optional shares but CommonStockholder requires shares This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Make shares required in BaseStake or handle the optional case in CommonStockholder","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":18,"column":3,"message":"Type inconsistency: BaseStake allows optional name but CommonStockholder requires name","description":"Type inconsistency: BaseStake allows optional name but CommonStockholder requires name This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Make name required in BaseStake or handle the optional case in CommonStockholder","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":52,"column":3,"message":"Inconsistent property requirement: ownershipPct is optional in base but required in some derived types","description":"Inconsistent property requirement: ownershipPct is optional in base but required in some derived types This violates code style conventions and may reduce readability.","suggestion":"Consider making ownershipPct consistently optional or required across all types","rule":"style","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/types.ts","line":81,"column":3,"message":"Inconsistent property requirement: shares is optional in SafeCapTableRow but required in other row types","description":"Inconsistent property requirement: shares is optional in SafeCapTableRow but required in other row types This violates code style conventions and may reduce readability.","suggestion":"Consider making shares consistently optional or required across similar types","rule":"style","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":24,"column":17,"message":"Potential array index out of bounds error when accessing pricedConversion.ppss[idx]","description":"Potential array index out of bounds error when accessing pricedConversion.ppss[idx] This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add proper bounds checking or ensure the ppss array length matches safeNotes length","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":16,"column":23,"message":"Division by zero potential when calculating ownershipPct if totalShares is 0","description":"Division by zero potential when calculating ownershipPct if totalShares is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure totalShares is greater than 0 before division","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":26,"column":25,"message":"Division by zero potential when calculating ownershipPct if totalShares is 0","description":"Division by zero potential when calculating ownershipPct if totalShares is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure totalShares is greater than 0 before division","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":39,"column":18,"message":"Division by zero potential when calculating ownershipPct if totalShares is 0","description":"Division by zero potential when calculating ownershipPct if totalShares is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure totalShares is greater than 0 before division","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":47,"column":18,"message":"Division by zero potential when calculating ownershipPct if totalShares is 0","description":"Division by zero potential when calculating ownershipPct if totalShares is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure totalShares is greater than 0 before division","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":25,"column":19,"message":"Division by zero potential when calculating shares if pps is 0","description":"Division by zero potential when calculating shares if pps is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure pps is greater than 0 before division","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-error-handling-6","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":36,"column":19,"message":"Division by zero potential when calculating shares if pps is 0","description":"Division by zero potential when calculating shares if pps is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure pricedConversion.pps is greater than 0 before division","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-style-7","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":20,"column":5,"message":"Missing semicolon after object literal","description":"Missing semicolon after object literal This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the object literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    };\n  })","description":"Add semicolon at the end of the object literal","content":"    };\n  })"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-style-8","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":33,"column":5,"message":"Missing semicolon after object literal","description":"Missing semicolon after object literal This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the object literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    };\n  })","description":"Add semicolon at the end of the object literal","content":"    };\n  })"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-style-9","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":42,"column":5,"message":"Missing semicolon after object literal","description":"Missing semicolon after object literal This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the object literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    };\n  })","description":"Add semicolon at the end of the object literal","content":"    };\n  })"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-style-10","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":49,"column":3,"message":"Missing semicolon after object literal","description":"Missing semicolon after object literal This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the object literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  };","description":"Add semicolon at the end of the object literal","content":"  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-style-11","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":62,"column":5,"message":"Missing semicolon after object literal","description":"Missing semicolon after object literal This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the object literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    },\n    error: undefined\n  };","description":"Add semicolon at the end of the object literal","content":"    },\n    error: undefined\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts-bug-12","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/priced-round.ts","line":64,"column":5,"message":"The error field is defined in the return type but always set to undefined, making it effectively unused","description":"The error field is defined in the return type but always set to undefined, making it effectively unused This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Either implement proper error handling logic or remove the error field from the return type","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":77,"column":33,"message":"Potential division by zero when postSharePct equals 1","description":"Potential division by zero when postSharePct equals 1 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure postSharePct is less than 1 before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  if (postSharePct >= 1) {\n    return buildErrorPreRoundCapTable(safeNotes, [...commonShareholders])\n  }\n  const postShareCapitilization = roundShares((preMoneyShares + preMoneySafeShares) / ( 1 - postSharePct), roundingStrategy)","description":"Add validation to ensure postSharePct is less than 1 before division","content":"  if (postSharePct >= 1) {\n    return buildErrorPreRoundCapTable(safeNotes, [...commonShareholders])\n  }\n  const postShareCapitilization = roundShares((preMoneyShares + preMoneySafeShares) / ( 1 - postSharePct), roundingStrategy)"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-naming-1","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":77,"column":7,"message":"Misspelled variable name 'postShareCapitilization' should be 'postShareCapitalization'","description":"Misspelled variable name 'postShareCapitilization' should be 'postShareCapitalization' This code works but could be improved for better maintainability.","suggestion":"Correct the spelling to 'postShareCapitalization'","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const postShareCapitalization = roundShares((preMoneyShares + preMoneySafeShares) / ( 1 - postSharePct), roundingStrategy)","description":"Correct the spelling to 'postShareCapitalization'","content":"  const postShareCapitalization = roundShares((preMoneyShares + preMoneySafeShares) / ( 1 - postSharePct), roundingStrategy)"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-naming-2","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":82,"column":32,"message":"Misspelled variable name 'postShareCapitilization' should be 'postShareCapitalization'","description":"Misspelled variable name 'postShareCapitilization' should be 'postShareCapitalization' This code works but could be improved for better maintainability.","suggestion":"Correct the spelling to 'postShareCapitalization'","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      const pct = safe.shares / postShareCapitalization","description":"Correct the spelling to 'postShareCapitalization'","content":"      const pct = safe.shares / postShareCapitalization"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-naming-3","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":95,"column":58,"message":"Misspelled variable name 'postShareCapitilization' should be 'postShareCapitalization'","description":"Misspelled variable name 'postShareCapitilization' should be 'postShareCapitalization' This code works but could be improved for better maintainability.","suggestion":"Correct the spelling to 'postShareCapitalization'","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"        shares: roundShares((safe.ownershipPct ?? 0) * postShareCapitalization, roundingStrategy)","description":"Correct the spelling to 'postShareCapitalization'","content":"        shares: roundShares((safe.ownershipPct ?? 0) * postShareCapitalization, roundingStrategy)"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-naming-4","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":130,"column":38,"message":"Misspelled variable name 'postShareCapitilization' should be 'postShareCapitalization'","description":"Misspelled variable name 'postShareCapitilization' should be 'postShareCapitalization' This code works but could be improved for better maintainability.","suggestion":"Correct the spelling to 'postShareCapitalization'","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      ownershipPct: stockholder.shares / postShareCapitalization,","description":"Correct the spelling to 'postShareCapitalization'","content":"      ownershipPct: stockholder.shares / postShareCapitalization,"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-performance-5","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":22,"column":66,"message":"Unnecessary array spread operation when passing to buildErrorPreRoundCapTable","description":"Unnecessary array spread operation when passing to buildErrorPreRoundCapTable This implementation could impact application performance.","suggestion":"Remove unnecessary spread operator","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"    return buildErrorPreRoundCapTable(safeNotes, commonShareholders)","description":"Remove unnecessary spread operator","content":"    return buildErrorPreRoundCapTable(safeNotes, commonShareholders)"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-performance-6","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":28,"column":63,"message":"Unnecessary array spread operation when passing to buildTBDPreRoundCapTable","description":"Unnecessary array spread operation when passing to buildTBDPreRoundCapTable This implementation could impact application performance.","suggestion":"Remove unnecessary spread operator","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"    return buildTBDPreRoundCapTable(safeNotes, commonShareholders)","description":"Remove unnecessary spread operator","content":"    return buildTBDPreRoundCapTable(safeNotes, commonShareholders)"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-performance-7","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":42,"column":27,"message":"Unnecessary array spread operation when creating copy of safeNotes","description":"Unnecessary array spread operation when creating copy of safeNotes This implementation could impact application performance.","suggestion":"Remove unnecessary spread operator","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"  const totalInvestment = safeNotes.reduce((acc, investor) => acc + investor.investment, 0);","description":"Remove unnecessary spread operator","content":"  const totalInvestment = safeNotes.reduce((acc, investor) => acc + investor.investment, 0);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-performance-8","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":158,"column":27,"message":"Unnecessary array spread operation when creating copy of safeNotes","description":"Unnecessary array spread operation when creating copy of safeNotes This implementation could impact application performance.","suggestion":"Remove unnecessary spread operator","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"  const totalInvestment = safeNotes.reduce((acc, investor) => acc + investor.investment, 0);","description":"Remove unnecessary spread operator","content":"  const totalInvestment = safeNotes.reduce((acc, investor) => acc + investor.investment, 0);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts-style-9","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/pre-round.ts","line":77,"column":97,"message":"Extra space before closing parenthesis","description":"Extra space before closing parenthesis This violates code style conventions and may reduce readability.","suggestion":"Remove extra space","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const postShareCapitalization = roundShares((preMoneyShares + preMoneySafeShares) / (1 - postSharePct), roundingStrategy)","description":"Remove extra space","content":"  const postShareCapitalization = roundShares((preMoneyShares + preMoneySafeShares) / (1 - postSharePct), roundingStrategy)"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/index.ts-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/index.ts","line":11,"column":25,"message":"Division by zero vulnerability when totalCommonShares is 0","description":"Division by zero vulnerability when totalCommonShares is 0 This code works but could be improved for better maintainability.","suggestion":"Add validation to handle empty stockholders array or zero total shares","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const buildExistingShareholderCapTable = (commonStockholders: CommonStockholder[]): CommonCapTableRow[] => {\n  const totalCommonShares = commonStockholders.reduce((acc, stockholder) => acc + stockholder.shares, 0);\n  \n  if (totalCommonShares === 0) {\n    return commonStockholders.map((stockholder) => ({\n      id: stockholder.id,\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct: 0,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }));\n  }\n  \n  return commonStockholders.map((stockholder) => {\n    return {\n      id: stockholder.id,\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct: stockholder.shares / totalCommonShares,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }\n  })\n}","description":"Add validation to handle empty stockholders array or zero total shares","content":"export const buildExistingShareholderCapTable = (commonStockholders: CommonStockholder[]): CommonCapTableRow[] => {\n  const totalCommonShares = commonStockholders.reduce((acc, stockholder) => acc + stockholder.shares, 0);\n  \n  if (totalCommonShares === 0) {\n    return commonStockholders.map((stockholder) => ({\n      id: stockholder.id,\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct: 0,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }));\n  }\n  \n  return commonStockholders.map((stockholder) => {\n    return {\n      id: stockholder.id,\n      name: stockholder.name,\n      shares: stockholder.shares,\n      ownershipPct: stockholder.shares / totalCommonShares,\n      type: CapTableRowType.Common,\n      commonType: stockholder.commonType,\n    }\n  })\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/index.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/index.ts","line":18,"column":5,"message":"Inconsistent return statement style - missing semicolon","description":"Inconsistent return statement style - missing semicolon This violates code style conventions and may reduce readability.","suggestion":"Add semicolon for consistency with other statements","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  })\n};","description":"Add semicolon for consistency with other statements","content":"  })\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":4,"column":67,"message":"Variable name shadowing: 'common' parameter shadows the imported 'common' array in reduce callback","description":"Variable name shadowing: 'common' parameter shadows the imported 'common' array in reduce callback This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Rename the reduce callback parameter to avoid shadowing","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const totalShares = common.reduce((acc, stockholder) => acc + stockholder.shares, 0)","description":"Rename the reduce callback parameter to avoid shadowing","content":"  const totalShares = common.reduce((acc, stockholder) => acc + stockholder.shares, 0)"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":40,"column":67,"message":"Variable name shadowing: 'common' parameter shadows the imported 'common' array in reduce callback","description":"Variable name shadowing: 'common' parameter shadows the imported 'common' array in reduce callback This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Rename the reduce callback parameter to avoid shadowing","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const totalShares = common.reduce((acc, stockholder) => acc + stockholder.shares, 0)","description":"Rename the reduce callback parameter to avoid shadowing","content":"  const totalShares = common.reduce((acc, stockholder) => acc + stockholder.shares, 0)"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":46,"column":5,"message":"Missing validation for division by zero when safe.cap is 0","description":"Missing validation for division by zero when safe.cap is 0 This code works but could be improved for better maintainability.","suggestion":"Add proper validation for when safe.cap is 0 to prevent logical errors","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":41,"column":25,"message":"Inconsistent error object structure: 'reason' property missing in error type ownership error","description":"Inconsistent error object structure: 'reason' property missing in error type ownership error This violates code style conventions and may reduce readability.","suggestion":"Add a default reason property to maintain consistent error structure","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const ownershipError: CapTableOwnershipError = {\n    type: \"error\",\n    reason: \"Cap table calculation error\",\n  }","description":"Add a default reason property to maintain consistent error structure","content":"  const ownershipError: CapTableOwnershipError = {\n    type: \"error\",\n    reason: \"Cap table calculation error\",\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts-performance-4","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/cap-table/error.ts","line":46,"column":32,"message":"Redundant object spread operation for simple object assignment","description":"Redundant object spread operation for simple object assignment This implementation could impact application performance.","suggestion":"Create new object directly instead of spreading for simple cases","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"    const safeOwnershipError: CapTableOwnershipError = {\n      type: \"error\",\n      reason: \"Cap table calculation error\",\n    }","description":"Create new object directly instead of spreading for simple cases","content":"    const safeOwnershipError: CapTableOwnershipError = {\n      type: \"error\",\n      reason: \"Cap table calculation error\",\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":19,"column":11,"message":"Typo in variable name 'exptectedTotalShares' should be 'expectedTotalShares'","description":"Typo in variable name 'exptectedTotalShares' should be 'expectedTotalShares' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Fix the typo by changing 'exptectedTotalShares' to 'expectedTotalShares'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    const expectedTotalShares = 20_606_916;","description":"Fix the typo by changing 'exptectedTotalShares' to 'expectedTotalShares'","content":"    const expectedTotalShares = 20_606_916;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":36,"column":48,"message":"Variable reference uses incorrect name 'exptectedTotalShares' instead of 'expectedTotalShares'","description":"Variable reference uses incorrect name 'exptectedTotalShares' instead of 'expectedTotalShares' This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use the correct variable name 'expectedTotalShares'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    expect(Math.round(totalShares)).toEqual(expectedTotalShares);","description":"Use the correct variable name 'expectedTotalShares'","content":"    expect(Math.round(totalShares)).toEqual(expectedTotalShares);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":26,"column":17,"message":"Unsafe array access without proper bounds checking","description":"Unsafe array access without proper bounds checking This code works but could be improved for better maintainability.","suggestion":"Add proper bounds checking or use optional chaining consistently","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":27,"column":22,"message":"Unsafe array access without proper bounds checking","description":"Unsafe array access without proper bounds checking This code works but could be improved for better maintainability.","suggestion":"Add proper bounds checking or use optional chaining consistently","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":47,"column":11,"message":"Inconsistent variable naming - 'seriesInvestments' in first test vs 'seriesInvestment' in second test","description":"Inconsistent variable naming - 'seriesInvestments' in first test vs 'seriesInvestment' in second test This violates code style conventions and may reduce readability.","suggestion":"Use consistent naming conventions across tests","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    const seriesInvestments = \"foo\";","description":"Use consistent naming conventions across tests","content":"    const seriesInvestments = \"foo\";"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts-style-5","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/index.test.ts","line":55,"column":7,"message":"Parameter name should match the variable name used in the first test for consistency","description":"Parameter name should match the variable name used in the first test for consistency This violates code style conventions and may reduce readability.","suggestion":"Use consistent parameter naming","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      seriesInvestments,","description":"Use consistent parameter naming","content":"      seriesInvestments,"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-naming-0","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":24,"column":11,"message":"Typo in variable name 'exptectedTotalOptions' should be 'expectedTotalOptions'","description":"Typo in variable name 'exptectedTotalOptions' should be 'expectedTotalOptions' This code works but could be improved for better maintainability.","suggestion":"Fix typo in variable name","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    const expectedTotalOptions = 0;","description":"Fix typo in variable name","content":"    const expectedTotalOptions = 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-naming-1","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":39,"column":32,"message":"Typo in variable name 'exptectedTotalOptions' should be 'expectedTotalOptions'","description":"Typo in variable name 'exptectedTotalOptions' should be 'expectedTotalOptions' This code works but could be improved for better maintainability.","suggestion":"Fix typo in variable name","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(fit.totalOptions).toEqual(expectedTotalOptions);","description":"Fix typo in variable name","content":"    expect(fit.totalOptions).toEqual(expectedTotalOptions);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-naming-2","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":90,"column":11,"message":"Typo in variable name 'exptectedTotalOptions' should be 'expectedTotalOptions'","description":"Typo in variable name 'exptectedTotalOptions' should be 'expectedTotalOptions' This code works but could be improved for better maintainability.","suggestion":"Fix typo in variable name","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    const expectedTotalOptions = 2_104_076;","description":"Fix typo in variable name","content":"    const expectedTotalOptions = 2_104_076;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-naming-3","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":99,"column":37,"message":"Typo in variable name 'exptectedTotalOptions' should be 'expectedTotalOptions'","description":"Typo in variable name 'exptectedTotalOptions' should be 'expectedTotalOptions' This code works but could be improved for better maintainability.","suggestion":"Fix typo in variable name","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(Math.round(fit.totalOptions)).toEqual(expectedTotalOptions);","description":"Fix typo in variable name","content":"    expect(Math.round(fit.totalOptions)).toEqual(expectedTotalOptions);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":201,"column":30,"message":"Missing semicolon at end of statement","description":"Missing semicolon at end of statement This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at end of statement","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    const common = 15_201_645;","description":"Add semicolon at end of statement","content":"    const common = 15_201_645;"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-style-5","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":9,"column":25,"message":"Inconsistent object structure usage - using object with name/amount properties in one test but just number in others","description":"Inconsistent object structure usage - using object with name/amount properties in one test but just number in others This violates code style conventions and may reduce readability.","suggestion":"Use consistent data structure for unusedOptions across all tests","rule":"style","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts-style-6","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/conversion-solver.ts","line":280,"column":25,"message":"Inconsistent object structure usage - using object with name/amount properties in one test but just number in others","description":"Inconsistent object structure usage - using object with name/amount properties in one test but just number in others This violates code style conventions and may reduce readability.","suggestion":"Use consistent data structure for unusedOptions across all tests","rule":"style","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts-security-0","type":"security","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts","line":5,"column":11,"message":"Math.random() is not cryptographically secure and should not be used for UUID generation","description":"Math.random() is not cryptographically secure and should not be used for UUID generation This could potentially expose your application to security vulnerabilities.","suggestion":"Use crypto.randomUUID() or a proper UUID library like 'uuid' package","rule":"security","category":"Security","fix":{"type":"replace","oldCode":"","newCode":"import { randomUUID } from 'crypto';\n\nexport const generateUUID = (): string => {\n  return randomUUID();\n};","description":"Use crypto.randomUUID() or a proper UUID library like 'uuid' package","content":"import { randomUUID } from 'crypto';\n\nexport const generateUUID = (): string => {\n  return randomUUID();\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts","line":5,"column":45,"message":"substr() method is deprecated, use substring() or slice() instead","description":"substr() method is deprecated, use substring() or slice() instead This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Replace substr() with substring() or slice()","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    uuid += Math.random().toString(36).substring(2, 13);","description":"Replace substr() with substring() or slice()","content":"    uuid += Math.random().toString(36).substring(2, 13);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts-performance-2","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts","line":4,"column":3,"message":"Inefficient string concatenation in loop may cause performance issues","description":"Inefficient string concatenation in loop may cause performance issues This implementation could impact application performance.","suggestion":"Use an array to collect parts and join at the end, or use a more efficient UUID generation method","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts-naming-3","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/uuid.ts","line":2,"column":14,"message":"Function name 'generateUUID' is misleading as it doesn't generate a proper UUID but a random string","description":"Function name 'generateUUID' is misleading as it doesn't generate a proper UUID but a random string This code works but could be improved for better maintainability.","suggestion":"Rename to 'generateRandomString' or implement proper UUID generation","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"export const generateRandomString = (len: number): string => {","description":"Rename to 'generateRandomString' or implement proper UUID generation","content":"export const generateRandomString = (len: number): string => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-error-handling-0","type":"error-handling","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":44,"column":18,"message":"No error handling for atob() which can throw DOMException for invalid base64","description":"No error handling for atob() which can throw DOMException for invalid base64 This will likely cause errors during execution.","suggestion":"Wrap atob() in try-catch block to handle invalid base64 input","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"const decodeVersionMagicCode = (\n  b64: string,\n): [version: number, b64: string] => {\n  try {\n    const version = new Uint8Array(atob(b64.slice(0, 2)).split('').map((char) => char.charCodeAt(0)))[0];\n    const b64str = decodeURLSafeBase64(b64.slice(2));\n    return [version, b64str];\n  } catch (error) {\n    throw new Error(`Invalid base64 encoding: ${error}`);\n  }\n};","description":"Wrap atob() in try-catch block to handle invalid base64 input","content":"const decodeVersionMagicCode = (\n  b64: string,\n): [version: number, b64: string] => {\n  try {\n    const version = new Uint8Array(atob(b64.slice(0, 2)).split('').map((char) => char.charCodeAt(0)))[0];\n    const b64str = decodeURLSafeBase64(b64.slice(2));\n    return [version, b64str];\n  } catch (error) {\n    throw new Error(`Invalid base64 encoding: ${error}`);\n  }\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-error-handling-1","type":"error-handling","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":54,"column":21,"message":"No error handling for decompressFromBase64() which can return null for invalid input","description":"No error handling for decompressFromBase64() which can return null for invalid input This will likely cause errors during execution.","suggestion":"Check if decompressFromBase64 returns null and handle the error case","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const decompressState = (str: string): IConversionStateData => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [_version, b64str] = decodeVersionMagicCode(str);\n  // for now, do nothing with the version\n\n  const stateBuffer = decompressFromBase64(b64str);\n  if (!stateBuffer) {\n    throw new Error('Failed to decompress state data');\n  }\n  const stateObj = JSON.parse(stateBuffer.toString());\n  // Ensure that our old state data is still compatible\n  return migrateState(stateObj as IConversionStateData);\n};","description":"Check if decompressFromBase64 returns null and handle the error case","content":"export const decompressState = (str: string): IConversionStateData => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [_version, b64str] = decodeVersionMagicCode(str);\n  // for now, do nothing with the version\n\n  const stateBuffer = decompressFromBase64(b64str);\n  if (!stateBuffer) {\n    throw new Error('Failed to decompress state data');\n  }\n  const stateObj = JSON.parse(stateBuffer.toString());\n  // Ensure that our old state data is still compatible\n  return migrateState(stateObj as IConversionStateData);\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-error-handling-2","type":"error-handling","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":55,"column":18,"message":"No error handling for JSON.parse() which can throw SyntaxError for invalid JSON","description":"No error handling for JSON.parse() which can throw SyntaxError for invalid JSON This will likely cause errors during execution.","suggestion":"Wrap JSON.parse() in try-catch block to handle invalid JSON","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const decompressState = (str: string): IConversionStateData => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [_version, b64str] = decodeVersionMagicCode(str);\n  // for now, do nothing with the version\n\n  const stateBuffer = decompressFromBase64(b64str);\n  if (!stateBuffer) {\n    throw new Error('Failed to decompress state data');\n  }\n  try {\n    const stateObj = JSON.parse(stateBuffer.toString());\n    // Ensure that our old state data is still compatible\n    return migrateState(stateObj as IConversionStateData);\n  } catch (error) {\n    throw new Error(`Invalid JSON in state data: ${error}`);\n  }\n};","description":"Wrap JSON.parse() in try-catch block to handle invalid JSON","content":"export const decompressState = (str: string): IConversionStateData => {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [_version, b64str] = decodeVersionMagicCode(str);\n  // for now, do nothing with the version\n\n  const stateBuffer = decompressFromBase64(b64str);\n  if (!stateBuffer) {\n    throw new Error('Failed to decompress state data');\n  }\n  try {\n    const stateObj = JSON.parse(stateBuffer.toString());\n    // Ensure that our old state data is still compatible\n    return migrateState(stateObj as IConversionStateData);\n  } catch (error) {\n    throw new Error(`Invalid JSON in state data: ${error}`);\n  }\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-bug-3","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":38,"column":37,"message":"Incorrect character replacement in decodeURLSafeBase64 - using '-' instead of '.' for decoding","description":"Incorrect character replacement in decodeURLSafeBase64 - using '-' instead of '.' for decoding This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the incorrect replacement of '-' with '+' since encoding only uses '.' for '+'","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const decodeURLSafeBase64 = (str: string): string => {\n  return str.replace(/_/g, \"/\").replace(/\\./g, \"+\");\n};","description":"Remove the incorrect replacement of '-' with '+' since encoding only uses '.' for '+'","content":"const decodeURLSafeBase64 = (str: string): string => {\n  return str.replace(/_/g, \"/\").replace(/\\./g, \"+\");\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":29,"column":15,"message":"Missing semicolon after return statement","description":"Missing semicolon after return statement This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add semicolon for consistency with other return statements","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    return row;","description":"Add semicolon for consistency with other return statements","content":"    return row;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-performance-5","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":34,"column":10,"message":"Inefficient string operations with multiple chained replace() calls","description":"Inefficient string operations with multiple chained replace() calls This implementation could impact application performance.","suggestion":"Use a single replace with a function for better performance","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"const encodeURLSafeBase64 = (str: string): string => {\n  // Replace characters that are not URL safe\n  // Use `.` for `+` because it doesn't wrap in a text editor\n  return str.replace(/[/+=]/g, (match) => {\n    switch (match) {\n      case '/': return '_';\n      case '+': return '.';\n      case '=': return '';\n      default: return match;\n    }\n  });\n};","description":"Use a single replace with a function for better performance","content":"const encodeURLSafeBase64 = (str: string): string => {\n  // Replace characters that are not URL safe\n  // Use `.` for `+` because it doesn't wrap in a text editor\n  return str.replace(/[/+=]/g, (match) => {\n    switch (match) {\n      case '/': return '_';\n      case '+': return '.';\n      case '=': return '';\n      default: return match;\n    }\n  });\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts-security-6","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/stateCompression.ts","line":55,"column":43,"message":"Type assertion bypasses type checking which could lead to runtime errors","description":"Type assertion bypasses type checking which could lead to runtime errors This could potentially expose your application to security vulnerabilities.","suggestion":"Use proper type validation instead of type assertion","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts","line":5,"column":12,"message":"Incorrect usage of document.execCommand('copy') - it requires text to be selected first and doesn't accept text parameter","description":"Incorrect usage of document.execCommand('copy') - it requires text to be selected first and doesn't accept text parameter This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use proper fallback implementation that creates a textarea element, selects text, and then executes copy command","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export async function copyTextToClipboard(text: string) {\n  if (\"clipboard\" in navigator) {\n    return await navigator.clipboard.writeText(text);\n  } else {\n    const textArea = document.createElement('textarea');\n    textArea.value = text;\n    textArea.style.position = 'fixed';\n    textArea.style.opacity = '0';\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n    const result = document.execCommand('copy');\n    document.body.removeChild(textArea);\n    return result;\n  }\n}","description":"Use proper fallback implementation that creates a textarea element, selects text, and then executes copy command","content":"export async function copyTextToClipboard(text: string) {\n  if (\"clipboard\" in navigator) {\n    return await navigator.clipboard.writeText(text);\n  } else {\n    const textArea = document.createElement('textarea');\n    textArea.value = text;\n    textArea.style.position = 'fixed';\n    textArea.style.opacity = '0';\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n    const result = document.execCommand('copy');\n    document.body.removeChild(textArea);\n    return result;\n  }\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts","line":1,"column":1,"message":"Missing error handling for clipboard operations that can fail","description":"Missing error handling for clipboard operations that can fail This code works but could be improved for better maintainability.","suggestion":"Add try-catch blocks to handle potential errors from clipboard operations","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export async function copyTextToClipboard(text: string): Promise<boolean> {\n  try {\n    if (\"clipboard\" in navigator) {\n      await navigator.clipboard.writeText(text);\n      return true;\n    } else {\n      const textArea = document.createElement('textarea');\n      textArea.value = text;\n      textArea.style.position = 'fixed';\n      textArea.style.opacity = '0';\n      document.body.appendChild(textArea);\n      textArea.focus();\n      textArea.select();\n      const result = document.execCommand('copy');\n      document.body.removeChild(textArea);\n      return result;\n    }\n  } catch (error) {\n    console.error('Failed to copy text to clipboard:', error);\n    return false;\n  }\n}","description":"Add try-catch blocks to handle potential errors from clipboard operations","content":"export async function copyTextToClipboard(text: string): Promise<boolean> {\n  try {\n    if (\"clipboard\" in navigator) {\n      await navigator.clipboard.writeText(text);\n      return true;\n    } else {\n      const textArea = document.createElement('textarea');\n      textArea.value = text;\n      textArea.style.position = 'fixed';\n      textArea.style.opacity = '0';\n      document.body.appendChild(textArea);\n      textArea.focus();\n      textArea.select();\n      const result = document.execCommand('copy');\n      document.body.removeChild(textArea);\n      return result;\n    }\n  } catch (error) {\n    console.error('Failed to copy text to clipboard:', error);\n    return false;\n  }\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/utils/clipboard.ts","line":1,"column":1,"message":"Missing return type annotation for async function","description":"Missing return type annotation for async function This violates code style conventions and may reduce readability.","suggestion":"Add explicit return type annotation Promise<boolean> or Promise<void>","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"export async function copyTextToClipboard(text: string): Promise<boolean>","description":"Add explicit return type annotation Promise<boolean> or Promise<void>","content":"export async function copyTextToClipboard(text: string): Promise<boolean>"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/lib/utils.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/lib/utils.ts","line":4,"column":1,"message":"Function should have explicit return type annotation","description":"Function should have explicit return type annotation This violates code style conventions and may reduce readability.","suggestion":"Add explicit return type annotation for better type safety and documentation","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"export function cn(...inputs: ClassValue[]): string {","description":"Add explicit return type annotation for better type safety and documentation","content":"export function cn(...inputs: ClassValue[]): string {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/lib/utils.ts-convention-1","type":"convention","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/lib/utils.ts","line":4,"column":16,"message":"Function name 'cn' is not descriptive and violates naming conventions","description":"Function name 'cn' is not descriptive and violates naming conventions This code works but could be improved for better maintainability.","suggestion":"Use a more descriptive function name like 'classNames' or 'combineClasses'","rule":"convention","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"export function classNames(...inputs: ClassValue[]): string {","description":"Use a more descriptive function name like 'classNames' or 'combineClasses'","content":"export function classNames(...inputs: ClassValue[]): string {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":17,"column":42,"message":"Accessing window object in React component during SSR can cause hydration errors","description":"Accessing window object in React component during SSR can cause hydration errors This will likely cause errors during execution.","suggestion":"Check if window is available before accessing it or use useEffect","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const urlHashRef = useRef<string>(\n    typeof window !== 'undefined' ? window.location.hash : ''\n  );","description":"Check if window is available before accessing it or use useEffect","content":"  const urlHashRef = useRef<string>(\n    typeof window !== 'undefined' ? window.location.hash : ''\n  );"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-1","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":73,"column":26,"message":"Accessing localStorage in component initialization can cause SSR hydration errors","description":"Accessing localStorage in component initialization can cause SSR hydration errors This will likely cause errors during execution.","suggestion":"Move localStorage access inside useEffect or add typeof window check","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-2","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":78,"column":27,"message":"Accessing window.matchMedia during component initialization can cause SSR errors","description":"Accessing window.matchMedia during component initialization can cause SSR errors This will likely cause errors during execution.","suggestion":"Add typeof window check before accessing window.matchMedia","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-error-3","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":79,"column":7,"message":"Direct DOM manipulation in React component can cause hydration mismatches","description":"Direct DOM manipulation in React component can cause hydration mismatches This will likely cause errors during execution.","suggestion":"Use React state and className conditionally instead of direct DOM manipulation","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-performance-4","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":20,"column":3,"message":"Using refs for store initialization may cause unnecessary re-renders","description":"Using refs for store initialization may cause unnecessary re-renders This implementation could impact application performance.","suggestion":"Consider using useMemo or useState with lazy initialization","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"  const [store] = useState(() => createConversionStore(initialState({ ...getRandomData() })));\n  const state = useStore(store);","description":"Consider using useMemo or useState with lazy initialization","content":"  const [store] = useState(() => createConversionStore(initialState({ ...getRandomData() })));\n  const state = useStore(store);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":44,"column":3,"message":"Missing dependency array in useEffect may cause stale closures","description":"Missing dependency array in useEffect may cause stale closures This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add proper dependencies to useEffect dependency array","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  }, []);","description":"Add proper dependencies to useEffect dependency array","content":"  }, []);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-performance-6","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":55,"column":3,"message":"useEffect with state dependency may cause excessive re-renders and hash updates","description":"useEffect with state dependency may cause excessive re-renders and hash updates This implementation could impact application performance.","suggestion":"Consider debouncing or throttling the hash updates","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-memory-leak-7","type":"memory-leak","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":95,"column":15,"message":"Event listener cleanup properly implemented but localStorage access needs safety check","description":"Event listener cleanup properly implemented but localStorage access needs safety check This code works but could be improved for better maintainability.","suggestion":"Add typeof window check before localStorage access","rule":"memory-leak","category":"Memory Leaks & Resources","fix":{"type":"replace","oldCode":"","newCode":"      if (typeof window !== 'undefined' && !localStorage.getItem('color-theme')) {","description":"Add typeof window check before localStorage access","content":"      if (typeof window !== 'undefined' && !localStorage.getItem('color-theme')) {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx-style-8","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/page.tsx","line":30,"column":17,"message":"Inconsistent spacing in function declaration","description":"Inconsistent spacing in function declaration This violates code style conventions and may reduce readability.","suggestion":"Add consistent spacing around function parameters","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const loadById = (id: string) => {","description":"Add consistent spacing around function parameters","content":"  const loadById = (id: string) => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":40,"column":10,"message":"usePrevious hook returns stale value on first render","description":"usePrevious hook returns stale value on first render This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Return previous value instead of current value to avoid stale references","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}","description":"Return previous value instead of current value to avoid stale references","content":"function usePrevious<T>(value: T) {\n  const ref = useRef<T>();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-performance-1","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":58,"column":7,"message":"Expensive calculation in render without memoization","description":"Expensive calculation in render without memoization This implementation could impact application performance.","suggestion":"Use useMemo to memoize expensive calculations","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"const totalSeriesInvesment = useMemo(() => (\n    rowData.filter((row) => row.type === \"series\") as SeriesState[]\n  )\n    .map((row) => row.investment)\n    .reduce((acc, val) => acc + val, 0), [rowData]);","description":"Use useMemo to memoize expensive calculations","content":"const totalSeriesInvesment = useMemo(() => (\n    rowData.filter((row) => row.type === \"series\") as SeriesState[]\n  )\n    .map((row) => row.investment)\n    .reduce((acc, val) => acc + val, 0), [rowData]);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-naming-2","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":58,"column":9,"message":"Typo in variable name 'totalSeriesInvesment'","description":"Typo in variable name 'totalSeriesInvesment' This code works but could be improved for better maintainability.","suggestion":"Fix typo: 'totalSeriesInvesment' should be 'totalSeriesInvestment'","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"totalSeriesInvestment","description":"Fix typo: 'totalSeriesInvesment' should be 'totalSeriesInvestment'","content":"totalSeriesInvestment"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-naming-3","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":65,"column":35,"message":"Typo in variable name 'totalSeriesInvesment'","description":"Typo in variable name 'totalSeriesInvesment' This code works but could be improved for better maintainability.","suggestion":"Fix typo: 'totalSeriesInvesment' should be 'totalSeriesInvestment'","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"totalSeriesInvestment","description":"Fix typo: 'totalSeriesInvesment' should be 'totalSeriesInvestment'","content":"totalSeriesInvestment"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-naming-4","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":80,"column":40,"message":"Typo in variable name 'totalSeriesInvesment'","description":"Typo in variable name 'totalSeriesInvesment' This code works but could be improved for better maintainability.","suggestion":"Fix typo: 'totalSeriesInvesment' should be 'totalSeriesInvestment'","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"totalSeriesInvestment","description":"Fix typo: 'totalSeriesInvesment' should be 'totalSeriesInvestment'","content":"totalSeriesInvestment"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-naming-5","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":85,"column":55,"message":"Typo in variable name 'totalSeriesInvesment'","description":"Typo in variable name 'totalSeriesInvesment' This code works but could be improved for better maintainability.","suggestion":"Fix typo: 'totalSeriesInvesment' should be 'totalSeriesInvestment'","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"totalSeriesInvestment","description":"Fix typo: 'totalSeriesInvesment' should be 'totalSeriesInvestment'","content":"totalSeriesInvestment"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-bug-6","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":67,"column":9,"message":"Unused state variables that may indicate dead code","description":"Unused state variables that may indicate dead code This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove unused state variables or implement their functionality","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-style-7","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":96,"column":9,"message":"Inconsistent spacing in JSX attributes","description":"Inconsistent spacing in JSX attributes This violates code style conventions and may reduce readability.","suggestion":"Use consistent spacing around JSX attributes","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"        <Share url={getShareUrl(conversionState)} />","description":"Use consistent spacing around JSX attributes","content":"        <Share url={getShareUrl(conversionState)} />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-style-8","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":99,"column":11,"message":"Inconsistent spacing in JSX attributes","description":"Inconsistent spacing in JSX attributes This violates code style conventions and may reduce readability.","suggestion":"Use consistent spacing around JSX attributes","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"          <Finder currentId={currentStateId} loadById={loadById} />","description":"Use consistent spacing around JSX attributes","content":"          <Finder currentId={currentStateId} loadById={loadById} />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-style-9","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":109,"column":51,"message":"HTML entity should use standard format","description":"HTML entity should use standard format This violates code style conventions and may reduce readability.","suggestion":"Use standard HTML entity format","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"1) Existing Cap Table","description":"Use standard HTML entity format","content":"1) Existing Cap Table"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-style-10","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":127,"column":51,"message":"HTML entity should use standard format","description":"HTML entity should use standard format This violates code style conventions and may reduce readability.","suggestion":"Use standard HTML entity format","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"2) SAFE Investors","description":"Use standard HTML entity format","content":"2) SAFE Investors"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx-style-11","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/Worksheet.tsx","line":192,"column":46,"message":"HTML entity should use standard format","description":"HTML entity should use standard format This violates code style conventions and may reduce readability.","suggestion":"Use standard HTML entity format","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"3) New Round","description":"Use standard HTML entity format","content":"3) New Round"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts","line":9,"column":88,"message":"Missing semicolon at end of statement","description":"Missing semicolon at end of statement This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the statement","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const pctTotal = roundToPlaces(rows.reduce((acc, row) => acc + (row.ownershipPct ?? 0), 0), 5);","description":"Add semicolon at the end of the statement","content":"  const pctTotal = roundToPlaces(rows.reduce((acc, row) => acc + (row.ownershipPct ?? 0), 0), 5);"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts","line":4,"column":43,"message":"Function lacks input validation for null/undefined parameters","description":"Function lacks input validation for null/undefined parameters This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks for rows and total parameters","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const crossCheckCapTableResults = (rows: CapTableRow[], total: TotalCapTableRow) => {\n  if (!rows || !total) {\n    throw new Error('rows and total parameters are required');\n  }\n  if (!Array.isArray(rows)) {\n    throw new Error('rows must be an array');\n  }","description":"Add null/undefined checks for rows and total parameters","content":"export const crossCheckCapTableResults = (rows: CapTableRow[], total: TotalCapTableRow) => {\n  if (!rows || !total) {\n    throw new Error('rows and total parameters are required');\n  }\n  if (!Array.isArray(rows)) {\n    throw new Error('rows must be an array');\n  }"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/utils.ts","line":15,"column":1,"message":"Missing semicolon at end of function","description":"Missing semicolon at end of function This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the function","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  expect(totalShares).toEqual(total.shares);\n};","description":"Add semicolon at the end of the function","content":"  expect(totalShares).toEqual(total.shares);\n};"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts","line":8,"column":3,"message":"Duplicate data in commonFixture array - both first and second elements have identical name 'Founder 1' and shares 4,500,000","description":"Duplicate data in commonFixture array - both first and second elements have identical name 'Founder 1' and shares 4,500,000 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change the second founder's name to 'Founder 2' or verify if this duplication is intentional","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  {\n    shares: 4_500_000,\n    name: \"Founder 2\",\n    type: CapTableRowType.Common,\n    commonType: CommonRowType.Shareholder,\n  },","description":"Change the second founder's name to 'Founder 2' or verify if this duplication is intentional","content":"  {\n    shares: 4_500_000,\n    name: \"Founder 2\",\n    type: CapTableRowType.Common,\n    commonType: CommonRowType.Shareholder,\n  },"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts","line":29,"column":2,"message":"Missing semicolon after array declaration","description":"Missing semicolon after array declaration This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the array declaration","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"]","description":"Add semicolon at the end of the array declaration","content":"]"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts","line":46,"column":2,"message":"Missing semicolon after array declaration","description":"Missing semicolon after array declaration This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the array declaration","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"]","description":"Add semicolon at the end of the array declaration","content":"]"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/priced-round.test.ts","line":60,"column":2,"message":"Missing semicolon after array declaration","description":"Missing semicolon after array declaration This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the array declaration","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"]","description":"Add semicolon at the end of the array declaration","content":"]"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":13,"column":3,"message":"Duplicate founder entry with identical name 'Founder 1' - this appears to be a copy-paste error","description":"Duplicate founder entry with identical name 'Founder 1' - this appears to be a copy-paste error This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Change the name to 'Founder 2' or verify if this duplication is intentional","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  {\n    shares: 4_500_000,\n    name: \"Founder 2\",\n    type: CapTableRowType.Common,\n    commonType: CommonRowType.Shareholder,\n  },","description":"Change the name to 'Founder 2' or verify if this duplication is intentional","content":"  {\n    shares: 4_500_000,\n    name: \"Founder 2\",\n    type: CapTableRowType.Common,\n    commonType: CommonRowType.Shareholder,\n  },"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":27,"column":2,"message":"Missing semicolon after array declaration","description":"Missing semicolon after array declaration This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the array declaration","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"]","description":"Add semicolon at the end of the array declaration","content":"]"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":43,"column":2,"message":"Missing semicolon after array declaration","description":"Missing semicolon after array declaration This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the array declaration","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"]","description":"Add semicolon at the end of the array declaration","content":"]"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":57,"column":2,"message":"Missing semicolon after array declaration","description":"Missing semicolon after array declaration This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the array declaration","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"]","description":"Add semicolon at the end of the array declaration","content":"]"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":91,"column":6,"message":"Missing semicolon after array declaration","description":"Missing semicolon after array declaration This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the array modification","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    )","description":"Add semicolon at the end of the array modification","content":"    )"}},{"id":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts-style-5","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/library/__tests__/cap-table/pre-round.test.ts","line":128,"column":2,"message":"Missing semicolon after array declaration","description":"Missing semicolon after array declaration This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the array declaration","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"]","description":"Add semicolon at the end of the array declaration","content":"]"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx","line":67,"column":178,"message":"Invalid CSS class syntax - parentheses instead of brackets in max-height property","description":"Invalid CSS class syntax - parentheses instead of brackets in max-height property This violates code style conventions and may reduce readability.","suggestion":"Replace 'max-h-(--radix-select-content-available-height)' with 'max-h-[var(--radix-select-content-available-height)]'","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"\"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-[var(--radix-select-content-available-height)] min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",","description":"Replace 'max-h-(--radix-select-content-available-height)' with 'max-h-[var(--radix-select-content-available-height)]'","content":"\"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-[var(--radix-select-content-available-height)] min-w-[8rem] overflow-x-hidden overflow-y-auto rounded-md border shadow-md\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx","line":111,"column":400,"message":"Invalid CSS selector syntax with malformed pseudo-selector","description":"Invalid CSS selector syntax with malformed pseudo-selector This violates code style conventions and may reduce readability.","suggestion":"Remove or fix the invalid '*:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2' selector","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"\"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",","description":"Remove or fix the invalid '*:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2' selector","content":"\"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/select.tsx","line":111,"column":204,"message":"Non-standard CSS property 'outline-hidden' should be 'outline-none'","description":"Non-standard CSS property 'outline-hidden' should be 'outline-none' This violates code style conventions and may reduce readability.","suggestion":"Replace 'outline-hidden' with 'outline-none'","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"\"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",","description":"Replace 'outline-hidden' with 'outline-none'","content":"\"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/input.tsx-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/input.tsx","line":5,"column":1,"message":"Missing React.forwardRef for input component - this is a common pattern for reusable input components to allow parent components to access the DOM element","description":"Missing React.forwardRef for input component - this is a common pattern for reusable input components to allow parent components to access the DOM element This violates code style conventions and may reduce readability.","suggestion":"Wrap the component with React.forwardRef to allow ref forwarding","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nInput.displayName = \"Input\"","description":"Wrap the component with React.forwardRef to allow ref forwarding","content":"const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(({ className, type, ...props }, ref) => {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nInput.displayName = \"Input\""}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/input.tsx-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/input.tsx","line":10,"column":9,"message":"Long className string should be broken into multiple lines for better readability","description":"Long className string should be broken into multiple lines for better readability This violates code style conventions and may reduce readability.","suggestion":"Break the long className string into multiple lines","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground\",\n        \"dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs\",\n        \"transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium\",\n        \"disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",","description":"Break the long className string into multiple lines","content":"        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground\",\n        \"dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs\",\n        \"transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium\",\n        \"disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/card.tsx-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/card.tsx","line":23,"column":3,"message":"CardTitle should use semantic HTML heading element instead of div for better accessibility","description":"CardTitle should use semantic HTML heading element instead of div for better accessibility This violates code style conventions and may reduce readability.","suggestion":"Use h1, h2, h3, etc. or accept a semantic 'as' prop to render appropriate heading element","rule":"style","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/card.tsx-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/card.tsx","line":33,"column":3,"message":"CardDescription should use semantic HTML paragraph element instead of div for better accessibility","description":"CardDescription should use semantic HTML paragraph element instead of div for better accessibility This violates code style conventions and may reduce readability.","suggestion":"Use <p> element instead of <div> for better semantic meaning","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"const CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))","description":"Use <p> element instead of <div> for better semantic meaning","content":"const CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/button.tsx-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/button.tsx","line":34,"column":1,"message":"Missing display name for component, which is useful for debugging and React DevTools","description":"Missing display name for component, which is useful for debugging and React DevTools This violates code style conventions and may reduce readability.","suggestion":"Add displayName property to the Button component","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"function Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nButton.displayName = \"Button\"","description":"Add displayName property to the Button component","content":"function Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nButton.displayName = \"Button\""}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/button.tsx-security-1","type":"security","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/button.tsx","line":45,"column":7,"message":"Props are spread without validation, potentially allowing injection of unwanted attributes","description":"Props are spread without validation, potentially allowing injection of unwanted attributes This could potentially expose your application to security vulnerabilities.","suggestion":"Consider validating or filtering props before spreading, especially for security-sensitive attributes","rule":"security","category":"Security"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/ui/button.tsx-performance-2","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/ui/button.tsx","line":34,"column":1,"message":"Component is not memoized, may cause unnecessary re-renders","description":"Component is not memoized, may cause unnecessary re-renders This implementation could impact application performance.","suggestion":"Consider wrapping the component with React.memo for better performance if it receives stable props","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"const Button = React.memo(function Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n})\n\nButton.displayName = \"Button\"","description":"Consider wrapping the component with React.memo for better performance if it receives stable props","content":"const Button = React.memo(function Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n})\n\nButton.displayName = \"Button\""}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx-naming-0","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx","line":6,"column":16,"message":"Redundant parameter destructuring - 'children: children' should be simplified to 'children'","description":"Redundant parameter destructuring - 'children: children' should be simplified to 'children' This code works but could be improved for better maintainability.","suggestion":"Remove redundant renaming in parameter destructuring","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"} = ({ content, children }) => {","description":"Remove redundant renaming in parameter destructuring","content":"} = ({ content, children }) => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx-performance-1","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx","line":7,"column":14,"message":"useRef with crypto.randomUUID() will generate new UUID on every render, should use useMemo or useState for stable ID","description":"useRef with crypto.randomUUID() will generate new UUID on every render, should use useMemo or useState for stable ID This implementation could impact application performance.","suggestion":"Use useMemo to generate ID only once, or use useState with lazy initialization","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"import React, { useRef, useMemo } from \"react\";\nimport { Tooltip } from \"react-tooltip\";\n\nconst TooltipComponent: React.FC<{\n  content: string;\n  children: React.ReactNode;\n}> = ({ content, children }) => {\n  const id = useMemo(() => `tooltip-${crypto.randomUUID()}`, []);","description":"Use useMemo to generate ID only once, or use useState with lazy initialization","content":"import React, { useRef, useMemo } from \"react\";\nimport { Tooltip } from \"react-tooltip\";\n\nconst TooltipComponent: React.FC<{\n  content: string;\n  children: React.ReactNode;\n}> = ({ content, children }) => {\n  const id = useMemo(() => `tooltip-${crypto.randomUUID()}`, []);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx","line":9,"column":5,"message":"Redundant wrapper span element - outer span with 'inline' class is unnecessary","description":"Redundant wrapper span element - outer span with 'inline' class is unnecessary This violates code style conventions and may reduce readability.","suggestion":"Remove the outer span wrapper as it serves no functional purpose","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  return (\n    <>\n      <span\n        className=\"inline\"\n        data-tooltip-id={id}\n      >\n        {children}\n      </span>\n      <Tooltip id={id} place=\"top\" clickable>\n        <div className=\"max-w-72\">\n          {content}\n        </div>\n      </Tooltip>\n    </>\n  );","description":"Remove the outer span wrapper as it serves no functional purpose","content":"  return (\n    <>\n      <span\n        className=\"inline\"\n        data-tooltip-id={id}\n      >\n        {children}\n      </span>\n      <Tooltip id={id} place=\"top\" clickable>\n        <div className=\"max-w-72\">\n          {content}\n        </div>\n      </Tooltip>\n    </>\n  );"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx-performance-3","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Tooltip.tsx","line":12,"column":28,"message":"Accessing useRef.current in render - should use the memoized value directly","description":"Accessing useRef.current in render - should use the memoized value directly This implementation could impact application performance.","suggestion":"Use the memoized ID value directly instead of ref.current","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx","line":6,"column":3,"message":"Unused prop 'clickable' in component interface","description":"Unused prop 'clickable' in component interface This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove the unused 'clickable' prop from the interface or implement its functionality","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const QuestionMarkTooltipComponent: React.FC<{\n  content?: string;\n  children?: React.ReactNode;\n}> = ({ content, children }) => {","description":"Remove the unused 'clickable' prop from the interface or implement its functionality","content":"const QuestionMarkTooltipComponent: React.FC<{\n  content?: string;\n  children?: React.ReactNode;\n}> = ({ content, children }) => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx-performance-1","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx","line":9,"column":14,"message":"useRef with crypto.randomUUID() generates new ID on every render","description":"useRef with crypto.randomUUID() generates new ID on every render This implementation could impact application performance.","suggestion":"Use useState with lazy initialization or useMemo to generate the ID only once","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"import React, { useRef, useMemo } from \"react\";\n\n// ... rest of imports\n\nconst QuestionMarkTooltipComponent: React.FC<{\n  content?: string;\n  children?: React.ReactNode;\n}> = ({ content, children }) => {\n  const id = useMemo(() => `tooltip-${crypto.randomUUID()}`, []);","description":"Use useState with lazy initialization or useMemo to generate the ID only once","content":"import React, { useRef, useMemo } from \"react\";\n\n// ... rest of imports\n\nconst QuestionMarkTooltipComponent: React.FC<{\n  content?: string;\n  children?: React.ReactNode;\n}> = ({ content, children }) => {\n  const id = useMemo(() => `tooltip-${crypto.randomUUID()}`, []);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx","line":17,"column":9,"message":"Invalid HTML attribute 'width' used on SVG icon component","description":"Invalid HTML attribute 'width' used on SVG icon component This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use 'size' prop instead of 'width' for react-icons components","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        <FaRegQuestionCircle size={20} />","description":"Use 'size' prop instead of 'width' for react-icons components","content":"        <FaRegQuestionCircle size={20} />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/QuestionMarkTooltip.tsx","line":19,"column":7,"message":"Hardcoded 'clickable' attribute on Tooltip component ignores the clickable prop","description":"Hardcoded 'clickable' attribute on Tooltip component ignores the clickable prop This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use the clickable prop to conditionally set the clickable attribute","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Icons.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Icons.tsx","line":5,"column":7,"message":"React Icons components don't accept width and height props. Use size prop or CSS styling instead","description":"React Icons components don't accept width and height props. Use size prop or CSS styling instead This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use the size prop or apply CSS styling to control icon dimensions","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      <FaRegQuestionCircle size={20} className=\"inline\" />","description":"Use the size prop or apply CSS styling to control icon dimensions","content":"      <FaRegQuestionCircle size={20} className=\"inline\" />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Icons.tsx-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/tooltip/Icons.tsx","line":4,"column":5,"message":"Redundant wrapper span with same CSS class as child element","description":"Redundant wrapper span with same CSS class as child element This violates code style conventions and may reduce readability.","suggestion":"Remove redundant wrapper span since both parent and child have 'inline' class","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    <FaRegQuestionCircle size={20} className=\"inline\" />","description":"Remove redundant wrapper span since both parent and child have 'inline' class","content":"    <FaRegQuestionCircle size={20} className=\"inline\" />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts","line":41,"column":7,"message":"Redundant nested try-catch blocks with identical error handling","description":"Redundant nested try-catch blocks with identical error handling This code works but could be improved for better maintainability.","suggestion":"Remove the redundant outer try-catch block since both catch blocks handle the error identically","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    try {\n      const items = JSON.parse(recentSerialized) as LocalStorageConversionStateData[];\n      recents = items.sort((a, b) => b.updatedAt - a.updatedAt);\n    } catch (e) {\n      // If we have an error parsing, we should remove the item in order to start fresh\n      console.error(\"Error parsing states from local storage\", e);\n      localStorage.removeItem(RECENT_STATES_KEY);\n    }","description":"Remove the redundant outer try-catch block since both catch blocks handle the error identically","content":"    try {\n      const items = JSON.parse(recentSerialized) as LocalStorageConversionStateData[];\n      recents = items.sort((a, b) => b.updatedAt - a.updatedAt);\n    } catch (e) {\n      // If we have an error parsing, we should remove the item in order to start fresh\n      console.error(\"Error parsing states from local storage\", e);\n      localStorage.removeItem(RECENT_STATES_KEY);\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts","line":19,"column":31,"message":"localStorage detection may not work correctly in all environments","description":"localStorage detection may not work correctly in all environments This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use a more robust localStorage detection that handles SecurityError exceptions","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const hasLocalStorage = (() => {\n  try {\n    return typeof window !== \"undefined\" && window.localStorage !== undefined;\n  } catch (e) {\n    return false;\n  }\n})();","description":"Use a more robust localStorage detection that handles SecurityError exceptions","content":"const hasLocalStorage = (() => {\n  try {\n    return typeof window !== \"undefined\" && window.localStorage !== undefined;\n  } catch (e) {\n    return false;\n  }\n})();"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts","line":21,"column":3,"message":"localStorage.setItem can throw SecurityError but is not wrapped in try-catch","description":"localStorage.setItem can throw SecurityError but is not wrapped in try-catch This code works but could be improved for better maintainability.","suggestion":"Wrap localStorage operations in try-catch to handle SecurityError","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"export const localStorageWorks = (() => {\n  if (!hasLocalStorage) return false;\n  try {\n    window.localStorage.setItem(\"safariTest\", \"1\");\n    return window.localStorage.getItem(\"safariTest\") === \"1\";\n  } catch (e) {\n    return false;\n  }\n})()","description":"Wrap localStorage operations in try-catch to handle SecurityError","content":"export const localStorageWorks = (() => {\n  if (!hasLocalStorage) return false;\n  try {\n    window.localStorage.setItem(\"safariTest\", \"1\");\n    return window.localStorage.getItem(\"safariTest\") === \"1\";\n  } catch (e) {\n    return false;\n  }\n})()"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts-performance-3","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/localstorage.ts","line":91,"column":26,"message":"Unnecessary sorting operation in getRecentState function","description":"Unnecessary sorting operation in getRecentState function This implementation could impact application performance.","suggestion":"Use reduce or Math.max to find the most recent item instead of sorting the entire array","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"export const getRecentState = (): IConversionStateData | undefined => {\n  const recents = getRecentStates();\n  if (recents.length > 0) {\n    const mostRecent = recents.reduce((latest, current) => \n      current.updatedAt > latest.updatedAt ? current : latest\n    );\n    return mostRecent.conversionState;\n  }\n  return undefined;\n}","description":"Use reduce or Math.max to find the most recent item instead of sorting the entire array","content":"export const getRecentState = (): IConversionStateData | undefined => {\n  const recents = getRecentStates();\n  if (recents.length > 0) {\n    const mostRecent = recents.reduce((latest, current) => \n      current.updatedAt > latest.updatedAt ? current : latest\n    );\n    return mostRecent.conversionState;\n  }\n  return undefined;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":6,"column":36,"message":"Math.random() - 0.5 is not a proper shuffle algorithm and can produce biased results","description":"Math.random() - 0.5 is not a proper shuffle algorithm and can produce biased results This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use Fisher-Yates shuffle algorithm for proper randomization","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const randomSeries = () => {\n  const shuffled = [...seriesAInvestors];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}","description":"Use Fisher-Yates shuffle algorithm for proper randomization","content":"export const randomSeries = () => {\n  const shuffled = [...seriesAInvestors];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":10,"column":34,"message":"Math.random() - 0.5 is not a proper shuffle algorithm and can produce biased results","description":"Math.random() - 0.5 is not a proper shuffle algorithm and can produce biased results This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use Fisher-Yates shuffle algorithm for proper randomization","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const randomSeed = () => {\n  const shuffled = [...earlyStageInvestors];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}","description":"Use Fisher-Yates shuffle algorithm for proper randomization","content":"export const randomSeed = () => {\n  const shuffled = [...earlyStageInvestors];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":14,"column":28,"message":"Math.random() - 0.5 is not a proper shuffle algorithm and can produce biased results","description":"Math.random() - 0.5 is not a proper shuffle algorithm and can produce biased results This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use Fisher-Yates shuffle algorithm for proper randomization","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export const randomFounders = () => {\n  const shuffled = [...founders];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}","description":"Use Fisher-Yates shuffle algorithm for proper randomization","content":"export const randomFounders = () => {\n  const shuffled = [...founders];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":24,"column":1,"message":"Mutable global state can cause unpredictable behavior in concurrent environments","description":"Mutable global state can cause unpredictable behavior in concurrent environments This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use a closure or class to encapsulate state, or pass an ID generator as a parameter","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const createIDGenerator = () => {\n  let idx = 0;\n  return (): string => {\n    return (idx++).toString();\n  };\n};\n\nexport const initialState = ({\n  randomFounders,\n  randomSeed,\n  randomSeries,\n}: ReturnType<typeof getRandomData>): IConversionStateData => {\n  const getID = createIDGenerator();","description":"Use a closure or class to encapsulate state, or pass an ID generator as a parameter","content":"const createIDGenerator = () => {\n  let idx = 0;\n  return (): string => {\n    return (idx++).toString();\n  };\n};\n\nexport const initialState = ({\n  randomFounders,\n  randomSeed,\n  randomSeries,\n}: ReturnType<typeof getRandomData>): IConversionStateData => {\n  const getID = createIDGenerator();"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":36,"column":12,"message":"Unnecessary template literal usage for simple string conversion","description":"Unnecessary template literal usage for simple string conversion This violates code style conventions and may reduce readability.","suggestion":"Use direct string conversion or remove template literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      name: randomFounders[0],","description":"Use direct string conversion or remove template literal","content":"      name: randomFounders[0],"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-style-5","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":42,"column":12,"message":"Unnecessary template literal usage for simple string conversion","description":"Unnecessary template literal usage for simple string conversion This violates code style conventions and may reduce readability.","suggestion":"Use direct string conversion or remove template literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      name: randomFounders[1],","description":"Use direct string conversion or remove template literal","content":"      name: randomFounders[1],"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-style-6","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":47,"column":12,"message":"Unnecessary template literal usage for simple string conversion","description":"Unnecessary template literal usage for simple string conversion This violates code style conventions and may reduce readability.","suggestion":"Use direct string literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      name: \"Issued Options\",","description":"Use direct string literal","content":"      name: \"Issued Options\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-style-7","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":78,"column":12,"message":"Unnecessary template literal usage for simple string conversion","description":"Unnecessary template literal usage for simple string conversion This violates code style conventions and may reduce readability.","suggestion":"Use direct string conversion or remove template literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      name: randomSeed[0],","description":"Use direct string conversion or remove template literal","content":"      name: randomSeed[0],"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-style-8","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":86,"column":12,"message":"Unnecessary template literal usage for simple string conversion","description":"Unnecessary template literal usage for simple string conversion This violates code style conventions and may reduce readability.","suggestion":"Use direct string conversion or remove template literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      name: randomSeed[1],","description":"Use direct string conversion or remove template literal","content":"      name: randomSeed[1],"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-style-9","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":94,"column":12,"message":"Unnecessary template literal usage for simple string conversion","description":"Unnecessary template literal usage for simple string conversion This violates code style conventions and may reduce readability.","suggestion":"Use direct string conversion or remove template literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      name: randomSeries[0],","description":"Use direct string conversion or remove template literal","content":"      name: randomSeries[0],"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-style-10","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":99,"column":12,"message":"Unnecessary template literal usage for simple string conversion","description":"Unnecessary template literal usage for simple string conversion This violates code style conventions and may reduce readability.","suggestion":"Use direct string conversion or remove template literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      name: randomSeries[1],","description":"Use direct string conversion or remove template literal","content":"      name: randomSeries[1],"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-11","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":36,"column":19,"message":"No bounds checking for array access - could throw runtime error if arrays are empty","description":"No bounds checking for array access - could throw runtime error if arrays are empty This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or provide fallback values","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-12","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":42,"column":19,"message":"No bounds checking for array access - could throw runtime error if arrays are empty","description":"No bounds checking for array access - could throw runtime error if arrays are empty This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or provide fallback values","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-13","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":78,"column":19,"message":"No bounds checking for array access - could throw runtime error if arrays are empty","description":"No bounds checking for array access - could throw runtime error if arrays are empty This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or provide fallback values","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-14","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":86,"column":19,"message":"No bounds checking for array access - could throw runtime error if arrays are empty","description":"No bounds checking for array access - could throw runtime error if arrays are empty This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or provide fallback values","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-15","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":94,"column":19,"message":"No bounds checking for array access - could throw runtime error if arrays are empty","description":"No bounds checking for array access - could throw runtime error if arrays are empty This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or provide fallback values","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts-bug-16","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/initialState.ts","line":99,"column":19,"message":"No bounds checking for array access - could throw runtime error if arrays are empty","description":"No bounds checking for array access - could throw runtime error if arrays are empty This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or provide fallback values","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":1,"column":1,"message":"Array should use readonly modifier for immutable data","description":"Array should use readonly modifier for immutable data This violates code style conventions and may reduce readability.","suggestion":"Add readonly modifier to prevent accidental mutations of this static data","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"export const earlyStageInvestors: readonly string[] = [","description":"Add readonly modifier to prevent accidental mutations of this static data","content":"export const earlyStageInvestors: readonly string[] = ["}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":28,"column":1,"message":"Array should use readonly modifier for immutable data","description":"Array should use readonly modifier for immutable data This violates code style conventions and may reduce readability.","suggestion":"Add readonly modifier to prevent accidental mutations of this static data","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"export const seriesAInvestors: readonly string[] = [","description":"Add readonly modifier to prevent accidental mutations of this static data","content":"export const seriesAInvestors: readonly string[] = ["}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":55,"column":1,"message":"Array should use readonly modifier for immutable data","description":"Array should use readonly modifier for immutable data This violates code style conventions and may reduce readability.","suggestion":"Add readonly modifier to prevent accidental mutations of this static data","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"export const founders: readonly string[] = [","description":"Add readonly modifier to prevent accidental mutations of this static data","content":"export const founders: readonly string[] = ["}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/data.ts","line":74,"column":19,"message":"Missing trailing comma in array","description":"Missing trailing comma in array This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency and better diffs","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  \"John Collison\",","description":"Add trailing comma for consistency and better diffs","content":"  \"John Collison\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":8,"column":1,"message":"Type mismatch: ExistingShareholderState is missing 'commonType' property that's added in onAddRow","description":"Type mismatch: ExistingShareholderState is missing 'commonType' property that's added in onAddRow This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add 'commonType' property to ExistingShareholderState type definition","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"export type ExistingShareholderState = Pick<\n  ExistingShareholderProps,\n  \"id\" | \"type\" | \"name\" | \"shares\"\n> & { commonType?: CommonRowType; };","description":"Add 'commonType' property to ExistingShareholderState type definition","content":"export type ExistingShareholderState = Pick<\n  ExistingShareholderProps,\n  \"id\" | \"type\" | \"name\" | \"shares\"\n> & { commonType?: CommonRowType; };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-naming-1","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":49,"column":3,"message":"Method name 'togglepriceRounds' should use camelCase convention","description":"Method name 'togglepriceRounds' should use camelCase convention This code works but could be improved for better maintainability.","suggestion":"Rename to 'togglePriceRounds' to follow camelCase convention","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  togglePriceRounds: () => void;","description":"Rename to 'togglePriceRounds' to follow camelCase convention","content":"  togglePriceRounds: () => void;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-naming-2","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":214,"column":9,"message":"Method name 'togglepriceRounds' should use camelCase convention","description":"Method name 'togglepriceRounds' should use camelCase convention This code works but could be improved for better maintainability.","suggestion":"Rename to 'togglePriceRounds' to follow camelCase convention","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"        togglePriceRounds: () => {","description":"Rename to 'togglePriceRounds' to follow camelCase convention","content":"        togglePriceRounds: () => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":54,"column":5,"message":"Potential runtime error: Array.reduce on empty array without initial value","description":"Potential runtime error: Array.reduce on empty array without initial value This code pattern may cause runtime errors or unexpected behavior.","suggestion":"The reduce operation already has an initial value (0), but the logic could be simplified","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"function getNextIdx(rowData: IRowState[]) {\n  // get the highest id from rowData[] and return an increment\n  const maxId = rowData\n    .map((row) => row.id.match(/^[0-9]+$/) ? parseInt(row.id) : 0)\n    .reduce((a, b) => Math.max(a, b), 0);\n  return (maxId + 1).toString();\n}","description":"The reduce operation already has an initial value (0), but the logic could be simplified","content":"function getNextIdx(rowData: IRowState[]) {\n  // get the highest id from rowData[] and return an increment\n  const maxId = rowData\n    .map((row) => row.id.match(/^[0-9]+$/) ? parseInt(row.id) : 0)\n    .reduce((a, b) => Math.max(a, b), 0);\n  return (maxId + 1).toString();\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-performance-4","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":62,"column":23,"message":"Inefficient array operations: multiple filter and map operations could be combined","description":"Inefficient array operations: multiple filter and map operations could be combined This implementation could impact application performance.","suggestion":"Consider combining filter and map operations or using a more efficient approach","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-performance-5","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":74,"column":23,"message":"Inefficient array operations: multiple filter and map operations could be combined","description":"Inefficient array operations: multiple filter and map operations could be combined This implementation could impact application performance.","suggestion":"Consider combining filter and map operations or using a more efficient approach","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-performance-6","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":87,"column":23,"message":"Inefficient array operations: multiple filter and map operations could be combined","description":"Inefficient array operations: multiple filter and map operations could be combined This implementation could impact application performance.","suggestion":"Consider combining filter and map operations or using a more efficient approach","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts-style-7","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/ConversionState.ts","line":214,"column":8,"message":"Inconsistent spacing around method definition","description":"Inconsistent spacing around method definition This violates code style conventions and may reduce readability.","suggestion":"Add consistent spacing around method definitions","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"        },\n\n        togglePriceRounds: () => {\n          set((state) => {\n            return {\n              ...state,\n              pricedRounds: state.pricedRounds === 0 ? 1 : 0,\n            }\n          });\n        },","description":"Add consistent spacing around method definitions","content":"        },\n\n        togglePriceRounds: () => {\n          set((state) => {\n            return {\n              ...state,\n              pricedRounds: state.pricedRounds === 0 ? 1 : 0,\n            }\n          });\n        },"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":10,"column":3,"message":"Using refs to track values that should be state or derived from props violates React patterns and may cause inconsistent renders","description":"Using refs to track values that should be state or derived from props violates React patterns and may cause inconsistent renders This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use useMemo or useEffect to track URL changes instead of refs","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const [previousUrl, setPreviousUrl] = useState(url);\n  const [isUpdated, setIsUpdated] = useState(false);\n\n  useEffect(() => {\n    if (previousUrl !== url) {\n      setPreviousUrl(url);\n      setIsUpdated(true);\n    }\n  }, [url, previousUrl]);","description":"Use useMemo or useEffect to track URL changes instead of refs","content":"  const [previousUrl, setPreviousUrl] = useState(url);\n  const [isUpdated, setIsUpdated] = useState(false);\n\n  useEffect(() => {\n    if (previousUrl !== url) {\n      setPreviousUrl(url);\n      setIsUpdated(true);\n    }\n  }, [url, previousUrl]);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":13,"column":3,"message":"Direct mutation of ref values during render phase can cause issues with React's rendering cycle","description":"Direct mutation of ref values during render phase can cause issues with React's rendering cycle This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Move ref updates to useEffect or use state instead","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":19,"column":5,"message":"Memory leak potential: setTimeout is not cleared if component unmounts before timeout completes","description":"Memory leak potential: setTimeout is not cleared if component unmounts before timeout completes This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Store timeout ID and clear it in useEffect cleanup","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  const onClickCopy = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = setTimeout(() => {\n      setCopied(false);\n    }, 2500);\n    copyTextToClipboard(url);\n    setCopied(true);\n    setIsUpdated(false);\n  };","description":"Store timeout ID and clear it in useEffect cleanup","content":"  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, []);\n\n  const onClickCopy = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n    timeoutRef.current = setTimeout(() => {\n      setCopied(false);\n    }, 2500);\n    copyTextToClipboard(url);\n    setCopied(true);\n    setIsUpdated(false);\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":32,"column":13,"message":"Hardcoded width and height values on SVG icons should use size prop instead","description":"Hardcoded width and height values on SVG icons should use size prop instead This violates code style conventions and may reduce readability.","suggestion":"Use size prop for react-icons components","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"            <FaBookmark className=\"inline ml-2\" size={20} />","description":"Use size prop for react-icons components","content":"            <FaBookmark className=\"inline ml-2\" size={20} />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":43,"column":11,"message":"Hardcoded width values on SVG icons should use size prop instead","description":"Hardcoded width values on SVG icons should use size prop instead This violates code style conventions and may reduce readability.","suggestion":"Use size prop for react-icons components","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"          <FaRegBookmark className=\"inline ml-2\" size={20} />","description":"Use size prop for react-icons components","content":"          <FaRegBookmark className=\"inline ml-2\" size={20} />"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":75,"column":19,"message":"Empty onChange handler prevents controlled input from being updated","description":"Empty onChange handler prevents controlled input from being updated This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Either make input readonly or provide proper onChange handler","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                  readOnly","description":"Either make input readonly or provide proper onChange handler","content":"                  readOnly"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx-performance-6","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Share.tsx","line":27,"column":3,"message":"Function component recreated on every render should be memoized","description":"Function component recreated on every render should be memoized This implementation could impact application performance.","suggestion":"Use useMemo to memoize the button text calculation","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"  const buttonText = useMemo(() => {\n    if (isUpdated) {\n      return (\n        <span>\n          Share\n          <span className=\"inline\">\n            <FaBookmark className=\"inline ml-2\" size={20} />\n          </span>\n        </span>\n      );\n    }\n    if (isCopied) {\n      return \"Copied!\";\n    }\n    return (\n      <span>\n        Share\n        <span className=\"inline\">\n          <FaRegBookmark className=\"inline ml-2\" size={20} />\n        </span>\n      </span>\n    );\n  }, [isUpdated, isCopied]);","description":"Use useMemo to memoize the button text calculation","content":"  const buttonText = useMemo(() => {\n    if (isUpdated) {\n      return (\n        <span>\n          Share\n          <span className=\"inline\">\n            <FaBookmark className=\"inline ml-2\" size={20} />\n          </span>\n        </span>\n      );\n    }\n    if (isCopied) {\n      return \"Copied!\";\n    }\n    return (\n      <span>\n        Share\n        <span className=\"inline\">\n          <FaRegBookmark className=\"inline ml-2\" size={20} />\n        </span>\n      </span>\n    );\n  }, [isUpdated, isCopied]);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx-error-0","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx","line":4,"column":10,"message":"Unused import 'RowsProps' from './PropTypes'","description":"Unused import 'RowsProps' from './PropTypes' This will likely cause errors during execution.","suggestion":"Remove the unused import","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"import { Button } from \"@/components/ui/button\";","description":"Remove the unused import","content":"import { Button } from \"@/components/ui/button\";"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx","line":33,"column":35,"message":"parseFloat can return NaN for invalid input, which may cause unexpected behavior","description":"parseFloat can return NaN for invalid input, which may cause unexpected behavior This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add validation to ensure parseFloat result is a valid number","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"const parsedValue = parseFloat(value ?? \"0\");\n      onUpdate({ ...data, [name]: isNaN(parsedValue) ? 0 : parsedValue });","description":"Add validation to ensure parseFloat result is a valid number","content":"const parsedValue = parseFloat(value ?? \"0\");\n      onUpdate({ ...data, [name]: isNaN(parsedValue) ? 0 : parsedValue });"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx-performance-2","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx","line":83,"column":11,"message":"Using array index as key in map function can cause performance issues and React warnings","description":"Using array index as key in map function can cause performance issues and React warnings This implementation could impact application performance.","suggestion":"Use a unique identifier from the data object as key instead of array index","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"key={note.id}","description":"Use a unique identifier from the data object as key instead of array index","content":"key={note.id}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx","line":73,"column":13,"message":"Potential runtime error if data.ownershipPct is undefined or null","description":"Potential runtime error if data.ownershipPct is undefined or null This code works but could be improved for better maintainability.","suggestion":"Add null/undefined check before calling toFixed()","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"{(data.ownershipPct ?? 0).toFixed(2)}%","description":"Add null/undefined check before calling toFixed()","content":"{(data.ownershipPct ?? 0).toFixed(2)}%"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx-naming-4","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SeriesInvestorList.tsx","line":82,"column":17,"message":"Variable 'note' is misleading - it represents a series investor, not a note","description":"Variable 'note' is misleading - it represents a series investor, not a note This code works but could be improved for better maintainability.","suggestion":"Rename variable to better reflect its purpose","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"{rows.map((investor, idx) => (\n        <SeriesInvestorRow\n          key={investor.id}\n          data={investor}","description":"Rename variable to better reflect its purpose","content":"{rows.map((investor, idx) => (\n        <SeriesInvestorRow\n          key={investor.id}\n          data={investor}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":63,"column":31,"message":"Potential null reference when accessing parseFloat on undefined value","description":"Potential null reference when accessing parseFloat on undefined value This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check or provide default value before parseFloat","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"onUpdate({ ...data, [name]: parseFloat(value || \"0\") });","description":"Add null check or provide default value before parseFloat","content":"onUpdate({ ...data, [name]: parseFloat(value || \"0\") });"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":87,"column":7,"message":"Inconsistent drag and drop event handling - onDragEnd should call onDrop but onDrop expects different parameters","description":"Inconsistent drag and drop event handling - onDragEnd should call onDrop but onDrop expects different parameters This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Separate drag end and drop handlers or make parameter handling consistent","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      onDragEnd={(e) => {\n        // Handle drag end cleanup\n      }}\n      onDrop={(e) => {\n        e.preventDefault();\n        const draggedId = e.dataTransfer.getData(\"text/plain\");\n        if (draggedId !== data.id) {\n          onDrop(e, draggedId);\n        }\n      }}","description":"Separate drag end and drop handlers or make parameter handling consistent","content":"      onDragEnd={(e) => {\n        // Handle drag end cleanup\n      }}\n      onDrop={(e) => {\n        e.preventDefault();\n        const draggedId = e.dataTransfer.getData(\"text/plain\");\n        if (draggedId !== data.id) {\n          onDrop(e, draggedId);\n        }\n      }}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-performance-2","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":244,"column":11,"message":"Using array index as key in map function can cause React rendering issues","description":"Using array index as key in map function can cause React rendering issues This implementation could impact application performance.","suggestion":"Use unique identifier like note.id instead of array index","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"        <SAFEInputRow\n          key={note.id}","description":"Use unique identifier like note.id instead of array index","content":"        <SAFEInputRow\n          key={note.id}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":67,"column":3,"message":"Inconsistent function declaration style - arrow function vs function expression","description":"Inconsistent function declaration style - arrow function vs function expression This violates code style conventions and may reduce readability.","suggestion":"Use consistent arrow function style throughout the component","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const conversionType = () => {\n    if (data.conversionType === \"yc7p\") return \"post\";\n    if (data.conversionType === \"ycmfn\") return \"mfn\";\n    return data.conversionType;\n  };","description":"Use consistent arrow function style throughout the component","content":"  const conversionType = () => {\n    if (data.conversionType === \"yc7p\") return \"post\";\n    if (data.conversionType === \"ycmfn\") return \"mfn\";\n    return data.conversionType;\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":78,"column":3,"message":"Missing preventDefault in onDragOver handler can cause default browser behavior","description":"Missing preventDefault in onDragOver handler can cause default browser behavior This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add preventDefault to ensure proper drag and drop behavior","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  const handleDragOver = (event: React.DragEvent<HTMLDivElement>): void => {\n    event.preventDefault();\n    onDragOver(event, data.id);\n  };","description":"Add preventDefault to ensure proper drag and drop behavior","content":"  const handleDragOver = (event: React.DragEvent<HTMLDivElement>): void => {\n    event.preventDefault();\n    onDragOver(event, data.id);\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":217,"column":3,"message":"No error handling for drag and drop operations","description":"No error handling for drag and drop operations This code works but could be improved for better maintainability.","suggestion":"Add try-catch block or validation for drag and drop operations","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"  const onDrop = () => {\n    try {\n      if (dragStartId && dragOverId && dragStartId !== dragOverId) {\n        onMoveRow?.(dragStartId, dragOverId);\n      }\n    } catch (error) {\n      console.error('Error during drag and drop:', error);\n    } finally {\n      setDragStartId(null);\n      setDragOverId(null);\n    }\n  };","description":"Add try-catch block or validation for drag and drop operations","content":"  const onDrop = () => {\n    try {\n      if (dragStartId && dragOverId && dragStartId !== dragOverId) {\n        onMoveRow?.(dragStartId, dragOverId);\n      }\n    } catch (error) {\n      console.error('Error during drag and drop:', error);\n    } finally {\n      setDragStartId(null);\n      setDragOverId(null);\n    }\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx-style-6","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/SafeNoteList.tsx","line":70,"column":5,"message":"Redundant else statement when previous if returns","description":"Redundant else statement when previous if returns This violates code style conventions and may reduce readability.","suggestion":"Remove else statement since previous conditions return","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const conversionType = () => {\n    if (data.conversionType === \"yc7p\") return \"post\";\n    if (data.conversionType === \"ycmfn\") return \"mfn\";\n    return data.conversionType;\n  };","description":"Remove else statement since previous conditions return","content":"  const conversionType = () => {\n    if (data.conversionType === \"yc7p\") return \"post\";\n    if (data.conversionType === \"ycmfn\") return \"mfn\";\n    return data.conversionType;\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts-naming-0","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts","line":5,"column":20,"message":"Interface parameter names should be more descriptive. 'dragStart' suggests an event but expects a string ID","description":"Interface parameter names should be more descriptive. 'dragStart' suggests an event but expects a string ID This code works but could be improved for better maintainability.","suggestion":"Rename 'dragStart' to 'draggedRowId' to better indicate it's a row identifier","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  onMoveRow?: (draggedRowId: string, dropIndex: string) => void;","description":"Rename 'dragStart' to 'draggedRowId' to better indicate it's a row identifier","content":"  onMoveRow?: (draggedRowId: string, dropIndex: string) => void;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts-naming-1","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts","line":5,"column":39,"message":"Interface parameter names should be more descriptive. 'dropIndex' suggests an index but expects a string","description":"Interface parameter names should be more descriptive. 'dropIndex' suggests an index but expects a string This code works but could be improved for better maintainability.","suggestion":"Rename 'dropIndex' to 'dropTargetId' if it's an ID, or change type to number if it's truly an index","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  onMoveRow?: (draggedRowId: string, dropTargetId: string) => void;","description":"Rename 'dropIndex' to 'dropTargetId' if it's an ID, or change type to number if it's truly an index","content":"  onMoveRow?: (draggedRowId: string, dropTargetId: string) => void;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts-convention-2","type":"convention","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PropTypes.ts","line":1,"column":27,"message":"Generic interface should have more descriptive constraint or documentation","description":"Generic interface should have more descriptive constraint or documentation This code works but could be improved for better maintainability.","suggestion":"Consider adding a constraint like 'T extends { id: string }' or add JSDoc comments to clarify T requirements","rule":"convention","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"export interface RowsProps<T extends { id: string }> {","description":"Consider adding a constraint like 'T extends { id: string }' or add JSDoc comments to clarify T requirements","content":"export interface RowsProps<T extends { id: string }> {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":259,"column":19,"message":"PostMoney card buttons are connected to preMoney increment/decrement functions instead of postMoney-specific handlers","description":"PostMoney card buttons are connected to preMoney increment/decrement functions instead of postMoney-specific handlers This code pattern may cause runtime errors or unexpected behavior.","suggestion":"PostMoney should likely be calculated from preMoney + investment rather than having its own increment/decrement controls, or should have dedicated handlers","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":270,"column":19,"message":"PostMoney card buttons are connected to preMoney increment/decrement functions instead of postMoney-specific handlers","description":"PostMoney card buttons are connected to preMoney increment/decrement functions instead of postMoney-specific handlers This code pattern may cause runtime errors or unexpected behavior.","suggestion":"PostMoney should likely be calculated from preMoney + investment rather than having its own increment/decrement controls, or should have dedicated handlers","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":291,"column":18,"message":"Inconsistent change calculation - using targetOptionsChange instead of currentTargetOptionsChange for display","description":"Inconsistent change calculation - using targetOptionsChange instead of currentTargetOptionsChange for display This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use currentTargetOptionsChange for consistency with other change calculations","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                {currentTargetOptionsChange !== 0\n                  ? ` (${currentTargetOptionsChange > 0 ? \"+\" : \"\"}${\n                      Math.round(currentTargetOptionsChange * 100)\n                    })`\n                  : \"\"}","description":"Use currentTargetOptionsChange for consistency with other change calculations","content":"                {currentTargetOptionsChange !== 0\n                  ? ` (${currentTargetOptionsChange > 0 ? \"+\" : \"\"}${\n                      Math.round(currentTargetOptionsChange * 100)\n                    })`\n                  : \"\"}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":94,"column":5,"message":"Unused variable 'changes.shares' - calculated but never used","description":"Unused variable 'changes.shares' - calculated but never used This violates code style conventions and may reduce readability.","suggestion":"Remove unused variable or implement its usage","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  const changes = {\n    postMoney: current.postMoney - previous.postMoney,\n    pps: current.pricedConversion.pps - previous.pricedConversion.pps,\n    additionalOptions:\n      current.pricedConversion.additionalOptions -\n      previous.pricedConversion.additionalOptions,\n    newSharesIssued:\n      current.pricedConversion.newSharesIssued -\n      previous.pricedConversion.newSharesIssued,\n    dilution: current.totalRoundDilution - previous.totalRoundDilution,\n  };","description":"Remove unused variable or implement its usage","content":"  const changes = {\n    postMoney: current.postMoney - previous.postMoney,\n    pps: current.pricedConversion.pps - previous.pricedConversion.pps,\n    additionalOptions:\n      current.pricedConversion.additionalOptions -\n      previous.pricedConversion.additionalOptions,\n    newSharesIssued:\n      current.pricedConversion.newSharesIssued -\n      previous.pricedConversion.newSharesIssued,\n    dilution: current.totalRoundDilution - previous.totalRoundDilution,\n  };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":11,"column":1,"message":"Unused type 'OwnershipPctNotes' - imported but never used","description":"Unused type 'OwnershipPctNotes' - imported but never used This violates code style conventions and may reduce readability.","suggestion":"Remove unused type definition","rule":"style","category":"Style & Formatting","fix":{"type":"delete","oldCode":"","newCode":"","description":"Remove unused type definition"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-performance-5","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":107,"column":1,"message":"Repetitive code for card rendering - 8 similar card components with slight variations","description":"Repetitive code for card rendering - 8 similar card components with slight variations This implementation could impact application performance.","suggestion":"Extract a reusable Card component to reduce code duplication and improve maintainability","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx-style-6","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PricedRound.tsx","line":226,"column":21,"message":"Inconsistent string formatting - mixing template literals and string concatenation","description":"Inconsistent string formatting - mixing template literals and string concatenation This violates code style conventions and may reduce readability.","suggestion":"Use consistent string formatting approach throughout the component","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"                {preMoneyChange !== 0\n                  ? ` (${preMoneyChange > 0 ? \"+\" : \"\"}$${formatNumberWithCommas(preMoneyChange)})`\n                  : \"\"}","description":"Use consistent string formatting approach throughout the component","content":"                {preMoneyChange !== 0\n                  ? ` (${preMoneyChange > 0 ? \"+\" : \"\"}$${formatNumberWithCommas(preMoneyChange)})`\n                  : \"\"}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx","line":9,"column":60,"message":"Missing space after comma in parameter list","description":"Missing space after comma in parameter list This violates code style conventions and may reduce readability.","suggestion":"Add space after comma for consistent formatting","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"const PercentNote: React.FC<PercentNoteProps> = ({ pct, note, error }) => {","description":"Add space after comma for consistent formatting","content":"const PercentNote: React.FC<PercentNoteProps> = ({ pct, note, error }) => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx","line":12,"column":11,"message":"Potential runtime error when pct is null or undefined","description":"Potential runtime error when pct is null or undefined This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null/undefined check before calling toFixed() method","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          { (pct ?? 0).toFixed(2) }%","description":"Add null/undefined check before calling toFixed() method","content":"          { (pct ?? 0).toFixed(2) }%"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx","line":36,"column":12,"message":"Potential runtime error when pct is null or undefined","description":"Potential runtime error when pct is null or undefined This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null/undefined check before calling toFixed() method","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    return (pct ?? 0).toFixed(2) + \"%\";","description":"Add null/undefined check before calling toFixed() method","content":"    return (pct ?? 0).toFixed(2) + \"%\";"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx-performance-3","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/PercentNote.tsx","line":10,"column":5,"message":"Repeated code blocks should be extracted into a helper function","description":"Repeated code blocks should be extracted into a helper function This implementation could impact application performance.","suggestion":"Extract common tooltip rendering logic into a helper function to reduce code duplication","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"const PercentNote: React.FC<PercentNoteProps> = ({ pct, note, error }) => {\n    const renderTooltipContent = (content: string) => (\n      <TooltipComponent content={note ?? \"\"}>\n        {content}\n        {note && <sup>*</sup>}\n      </TooltipComponent>\n    );\n\n    if (error === \"caveat\") {\n      return renderTooltipContent(`${(pct ?? 0).toFixed(2)}%`);\n    } else if (error === \"tbd\") {\n      return renderTooltipContent(\"TBD\");\n    } else if (error === \"error\") {\n      return renderTooltipContent(\"Error\");\n    }\n    return (pct ?? 0).toFixed(2) + \"%\";\n}","description":"Extract common tooltip rendering logic into a helper function to reduce code duplication","content":"const PercentNote: React.FC<PercentNoteProps> = ({ pct, note, error }) => {\n    const renderTooltipContent = (content: string) => (\n      <TooltipComponent content={note ?? \"\"}>\n        {content}\n        {note && <sup>*</sup>}\n      </TooltipComponent>\n    );\n\n    if (error === \"caveat\") {\n      return renderTooltipContent(`${(pct ?? 0).toFixed(2)}%`);\n    } else if (error === \"tbd\") {\n      return renderTooltipContent(\"TBD\");\n    } else if (error === \"error\") {\n      return renderTooltipContent(\"Error\");\n    }\n    return (pct ?? 0).toFixed(2) + \"%\";\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-security-0","type":"security","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":29,"column":5,"message":"Direct access to window object can cause issues in SSR environments and should be checked for existence","description":"Direct access to window object can cause issues in SSR environments and should be checked for existence This could potentially expose your application to security vulnerabilities.","suggestion":"Check if window exists before accessing it to prevent SSR issues","rule":"security","category":"Security","fix":{"type":"replace","oldCode":"","newCode":"  const url = typeof window !== 'undefined' ? \n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname : '';","description":"Check if window exists before accessing it to prevent SSR issues","content":"  const url = typeof window !== 'undefined' ? \n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname : '';"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-performance-1","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":34,"column":3,"message":"Function recentStates() is called on every render, should be memoized or moved to useMemo","description":"Function recentStates() is called on every render, should be memoized or moved to useMemo This implementation could impact application performance.","suggestion":"Use useMemo to memoize the recentStates calculation","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"  const recentStates = useMemo(() => {\n    return getRecentStates().map((state) => {\n      const hash = compressState(state.conversionState);\n      return {\n        id: state.id,\n        updatedAt: state.updatedAt,\n        createdAt: state.createdAt,\n        hash,\n        state: state.conversionState,\n        url: `${url}#I${compressState(state.conversionState)}`,\n      };\n    });\n  }, [url]);","description":"Use useMemo to memoize the recentStates calculation","content":"  const recentStates = useMemo(() => {\n    return getRecentStates().map((state) => {\n      const hash = compressState(state.conversionState);\n      return {\n        id: state.id,\n        updatedAt: state.updatedAt,\n        createdAt: state.createdAt,\n        hash,\n        state: state.conversionState,\n        url: `${url}#I${compressState(state.conversionState)}`,\n      };\n    });\n  }, [url]);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-error-2","type":"error","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":1,"column":1,"message":"Missing import for useMemo hook","description":"Missing import for useMemo hook This will likely cause errors during execution.","suggestion":"Import useMemo from react","rule":"error","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"import { useState, useMemo } from \"react\";","description":"Import useMemo from react","content":"import { useState, useMemo } from \"react\";"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":132,"column":21,"message":"Anchor tag used as button without href attribute and proper accessibility","description":"Anchor tag used as button without href attribute and proper accessibility This violates code style conventions and may reduce readability.","suggestion":"Use button element instead of anchor tag for clickable actions","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"                    <button\n                      onClick={() => {\n                        loadById(state.id);\n                        setShowModal(false);\n                      }}\n                      className={`text-blue-500 hover:underline dark:text-blue-200 border-none bg-transparent cursor-pointer text-left ${\n                        state.id === currentId\n                          ? \"bg-gray-100 dark:bg-gray-800\"\n                          : \"\"\n                      }`}\n                    >","description":"Use button element instead of anchor tag for clickable actions","content":"                    <button\n                      onClick={() => {\n                        loadById(state.id);\n                        setShowModal(false);\n                      }}\n                      className={`text-blue-500 hover:underline dark:text-blue-200 border-none bg-transparent cursor-pointer text-left ${\n                        state.id === currentId\n                          ? \"bg-gray-100 dark:bg-gray-800\"\n                          : \"\"\n                      }`}\n                    >"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":142,"column":26,"message":"Missing closing button tag","description":"Missing closing button tag This violates code style conventions and may reduce readability.","suggestion":"Change closing anchor tag to button tag","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"                    </button>","description":"Change closing anchor tag to button tag","content":"                    </button>"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-performance-5","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":131,"column":17,"message":"Function called inside render method on every render","description":"Function called inside render method on every render This implementation could impact application performance.","suggestion":"Use the memoized recentStates value instead of calling the function","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"                {recentStates.map((state) => (","description":"Use the memoized recentStates value instead of calling the function","content":"                {recentStates.map((state) => ("}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-style-6","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":65,"column":5,"message":"Typo in comment: 'reprsenting' should be 'representing'","description":"Typo in comment: 'reprsenting' should be 'representing' This violates code style conventions and may reduce readability.","suggestion":"Fix typo in comment","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    // Array representing one minute, hour, day, week, month, etc in seconds","description":"Fix typo in comment","content":"    // Array representing one minute, hour, day, week, month, etc in seconds"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx-style-7","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/Finder.tsx","line":111,"column":13,"message":"Modal backdrop click should close modal for better UX","description":"Modal backdrop click should close modal for better UX This violates code style conventions and may reduce readability.","suggestion":"Add onClick handler to backdrop div to close modal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"          <div className=\"fixed inset-0 transition-opacity\" onClick={() => setShowModal(false)}>\n            <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n          </div>","description":"Add onClick handler to backdrop div to close modal","content":"          <div className=\"fixed inset-0 transition-opacity\" onClick={() => setShowModal(false)}>\n            <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n          </div>"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx-naming-0","type":"naming","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx","line":116,"column":7,"message":"Typo in component name 'ExisingShareholderList' - should be 'ExistingShareholderList'","description":"Typo in component name 'ExisingShareholderList' - should be 'ExistingShareholderList' This will likely cause errors during execution.","suggestion":"Fix the typo in the component name","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"const ExistingShareholderList: React.FC<RowsProps<ExistingShareholderProps>> = ({","description":"Fix the typo in the component name","content":"const ExistingShareholderList: React.FC<RowsProps<ExistingShareholderProps>> = ({"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx-naming-1","type":"naming","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx","line":165,"column":15,"message":"Typo in export statement 'ExisingShareholderList' - should be 'ExistingShareholderList'","description":"Typo in export statement 'ExisingShareholderList' - should be 'ExistingShareholderList' This will likely cause errors during execution.","suggestion":"Fix the typo in the export statement","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"export default ExistingShareholderList;","description":"Fix the typo in the export statement","content":"export default ExistingShareholderList;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx-performance-2","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx","line":123,"column":5,"message":"Array.indexOf() is less efficient than Array.includes() for checking existence","description":"Array.indexOf() is less efficient than Array.includes() for checking existence This implementation could impact application performance.","suggestion":"Use Array.includes() instead of Array.indexOf() === -1 for better readability and performance","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"  const existingShareholders = rows.filter(\n    (row) => ![\"UnusedOptionsPool\", \"IssuedOptions\"].includes(row.id)\n  );","description":"Use Array.includes() instead of Array.indexOf() === -1 for better readability and performance","content":"  const existingShareholders = rows.filter(\n    (row) => ![\"UnusedOptionsPool\", \"IssuedOptions\"].includes(row.id)\n  );"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx","line":132,"column":9,"message":"Using array index as key in React list rendering can cause performance issues and bugs","description":"Using array index as key in React list rendering can cause performance issues and bugs This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Use a unique identifier instead of array index as the key","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        key={shareholder.id}","description":"Use a unique identifier instead of array index as the key","content":"        key={shareholder.id}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/ExistingShareholders.tsx","line":40,"column":35,"message":"parseFloat() can return NaN which may cause runtime errors","description":"parseFloat() can return NaN which may cause runtime errors This code works but could be improved for better maintainability.","suggestion":"Add validation to handle NaN values from parseFloat()","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"      const parsedValue = parseFloat(value ?? \"0\");\n      onUpdate({ ...data, [name]: isNaN(parsedValue) ? 0 : parsedValue });","description":"Add validation to handle NaN values from parseFloat()","content":"      const parsedValue = parseFloat(value ?? \"0\");\n      onUpdate({ ...data, [name]: isNaN(parsedValue) ? 0 : parsedValue });"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":25,"column":35,"message":"Potential null pointer exception when accessing ownershipPct","description":"Potential null pointer exception when accessing ownershipPct This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check before calling toFixed() method","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"  let ownershipPct: string | undefined = shareholder.ownershipPct ? shareholder.ownershipPct.toFixed(2) + \"%\" : undefined","description":"Add null check before calling toFixed() method","content":"  let ownershipPct: string | undefined = shareholder.ownershipPct ? shareholder.ownershipPct.toFixed(2) + \"%\" : undefined"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":33,"column":70,"message":"Redundant null check after already checking for null","description":"Redundant null check after already checking for null This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant '|| 0' since investment is already checked for null","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            <div className=\"text-gray-900 dark:text-white\">${formatNumberWithCommas(investment)}</div>","description":"Remove redundant '|| 0' since investment is already checked for null","content":"            <div className=\"text-gray-900 dark:text-white\">${formatNumberWithCommas(investment)}</div>"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":39,"column":70,"message":"Redundant null check after already checking for null","description":"Redundant null check after already checking for null This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant '|| 0' since pps is already checked for null","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            <div className=\"text-gray-900 dark:text-white\">${formatNumberWithCommas(pps)}</div>","description":"Remove redundant '|| 0' since pps is already checked for null","content":"            <div className=\"text-gray-900 dark:text-white\">${formatNumberWithCommas(pps)}</div>"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":45,"column":70,"message":"Redundant null check after already checking for truthy value","description":"Redundant null check after already checking for truthy value This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant '|| 0' since shares is already checked for truthy value","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            <div className=\"text-gray-900 dark:text-white\">{formatNumberWithCommas(shareholder.shares)}</div>","description":"Remove redundant '|| 0' since shares is already checked for truthy value","content":"            <div className=\"text-gray-900 dark:text-white\">{formatNumberWithCommas(shareholder.shares)}</div>"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-4","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":87,"column":39,"message":"Potential null pointer exception when accessing ownershipPct","description":"Potential null pointer exception when accessing ownershipPct This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add null check before calling toFixed() method","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"            let ownershipPct: string | undefined = shareholder.ownershipPct ? shareholder.ownershipPct.toFixed(2) + \"%\" : undefined;","description":"Add null check before calling toFixed() method","content":"            let ownershipPct: string | undefined = shareholder.ownershipPct ? shareholder.ownershipPct.toFixed(2) + \"%\" : undefined;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-5","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":95,"column":74,"message":"Redundant null check after already checking for null","description":"Redundant null check after already checking for null This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant '|| 0' since investment is already checked for null","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                  {investment !== null ? `$${formatNumberWithCommas(investment)}` : \"-\"}","description":"Remove redundant '|| 0' since investment is already checked for null","content":"                  {investment !== null ? `$${formatNumberWithCommas(investment)}` : \"-\"}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-bug-6","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":98,"column":70,"message":"Redundant null check after already checking for null","description":"Redundant null check after already checking for null This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Remove redundant '|| 0' since pps is already checked for null","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"                  {pps !== null ? `$${formatNumberWithCommas(pps)}` : \"-\"}","description":"Remove redundant '|| 0' since pps is already checked for null","content":"                  {pps !== null ? `$${formatNumberWithCommas(pps)}` : \"-\"}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-style-7","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":11,"column":3,"message":"Unused props in CapTableRowItemProps interface","description":"Unused props in CapTableRowItemProps interface This violates code style conventions and may reduce readability.","suggestion":"Remove unused props ownershipError and ownershipNotes from interface","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"type CapTableRowItemProps = {\n  shareholder: CapTableRow;\n  change?: number\n}","description":"Remove unused props ownershipError and ownershipNotes from interface","content":"type CapTableRowItemProps = {\n  shareholder: CapTableRow;\n  change?: number\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx-performance-8","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/components/safe-conversion/Conversion/CapTableResults.tsx","line":19,"column":19,"message":"Duplicate logic for type checking and value extraction","description":"Duplicate logic for type checking and value extraction This implementation could impact application performance.","suggestion":"Extract type checking logic into a reusable function to avoid duplication","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts","line":10,"column":20,"message":"Missing space after '+' operator","description":"Missing space after '+' operator This violates code style conventions and may reduce readability.","suggestion":"Add space after '+' operator for better readability","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    return url + \"#\" + compressState(getSerializedSelector(state))","description":"Add space after '+' operator for better readability","content":"    return url + \"#\" + compressState(getSerializedSelector(state))"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts","line":9,"column":17,"message":"Direct access to window object without existence check","description":"Direct access to window object without existence check This code works but could be improved for better maintainability.","suggestion":"Check if window object exists before accessing it to prevent errors in server-side rendering","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts-performance-2","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts","line":9,"column":17,"message":"Window location properties accessed multiple times","description":"Window location properties accessed multiple times This implementation could impact application performance.","suggestion":"Store window.location in a variable to avoid repeated property access","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"    const location = window.location;\n    const url = location.protocol + \"//\" + location.host + location.pathname;","description":"Store window.location in a variable to avoid repeated property access","content":"    const location = window.location;\n    const url = location.protocol + \"//\" + location.host + location.pathname;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ShareURLSelector.ts","line":10,"column":21,"message":"No error handling for compressState function","description":"No error handling for compressState function This code works but could be improved for better maintainability.","suggestion":"Add try-catch block or error handling for compressState function call","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts-error-handling-0","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts","line":11,"column":28,"message":"Throwing an error in a selector can cause application crashes. Consider returning a default value or handling the error gracefully","description":"Throwing an error in a selector can cause application crashes. Consider returning a default value or handling the error gracefully This code works but could be improved for better maintainability.","suggestion":"Return an empty array or handle the missing priced conversion more gracefully","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    if (!pricedConversion) return [];","description":"Return an empty array or handle the missing priced conversion more gracefully","content":"    if (!pricedConversion) return [];"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts-performance-1","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts","line":15,"column":26,"message":"Division operation in selector without memoization of intermediate calculations could cause unnecessary recalculations","description":"Division operation in selector without memoization of intermediate calculations could cause unnecessary recalculations This implementation could impact application performance.","suggestion":"Consider memoizing the totalShares calculation or moving it outside the map function","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts","line":15,"column":41,"message":"Potential division by zero if pricedConversion.totalShares is 0","description":"Potential division by zero if pricedConversion.totalShares is 0 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add a check to ensure totalShares is not zero before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      const ownershipPct = pricedConversion.totalShares > 0 ? shares / pricedConversion.totalShares * 100 : 0;","description":"Add a check to ensure totalShares is not zero before division","content":"      const ownershipPct = pricedConversion.totalShares > 0 ? shares / pricedConversion.totalShares * 100 : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts-bug-3","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SeriesPropsSelector.ts","line":14,"column":22,"message":"Potential division by zero if pricedConversion.pps is 0","description":"Potential division by zero if pricedConversion.pps is 0 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add a check to ensure pps is not zero before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      const shares = pricedConversion.pps > 0 ? Math.floor(row.investment / pricedConversion.pps) : 0;","description":"Add a check to ensure pps is not zero before division","content":"      const shares = pricedConversion.pps > 0 ? Math.floor(row.investment / pricedConversion.pps) : 0;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SerializeSelector.ts-performance-0","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SerializeSelector.ts","line":4,"column":1,"message":"Selector performs unnecessary computation by destructuring and reconstructing the entire state object","description":"Selector performs unnecessary computation by destructuring and reconstructing the entire state object This implementation could impact application performance.","suggestion":"Return the state directly or use a simple identity function if no transformation is needed","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"export const getSerializedSelector = createSelector(\n  (state: IConversionStateData) => state,\n  (state): IConversionStateData => state\n);","description":"Return the state directly or use a simple identity function if no transformation is needed","content":"export const getSerializedSelector = createSelector(\n  (state: IConversionStateData) => state,\n  (state): IConversionStateData => state\n);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SerializeSelector.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SerializeSelector.ts","line":12,"column":6,"message":"Missing semicolon after object literal","description":"Missing semicolon after object literal This violates code style conventions and may reduce readability.","suggestion":"Add semicolon after the closing brace","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    return {\n      preMoney,\n      targetOptionsPool,\n      unusedOptions,\n      rowData,\n      pricedRounds\n    };","description":"Add semicolon after the closing brace","content":"    return {\n      preMoney,\n      targetOptionsPool,\n      unusedOptions,\n      rowData,\n      pricedRounds\n    };"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SerializeSelector.ts-optimization-2","type":"optimization","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SerializeSelector.ts","line":4,"column":1,"message":"Redundant selector that doesn't provide any memoization benefits","description":"Redundant selector that doesn't provide any memoization benefits This code works but could be improved for better maintainability.","suggestion":"Either remove the selector entirely and use state directly, or add meaningful computation/transformation logic","rule":"optimization","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts-bug-0","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts","line":22,"column":19,"message":"Potential array index out of bounds error - accessing safeCapTable[idx] without bounds checking","description":"Potential array index out of bounds error - accessing safeCapTable[idx] without bounds checking This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or use optional chaining to prevent accessing undefined array elements","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        cap: safeCapTable[idx]?.cap ?? row.cap,","description":"Add bounds checking or use optional chaining to prevent accessing undefined array elements","content":"        cap: safeCapTable[idx]?.cap ?? row.cap,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts-bug-1","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts","line":26,"column":26,"message":"Potential array index out of bounds error - accessing safeCapTable[idx] without bounds checking","description":"Potential array index out of bounds error - accessing safeCapTable[idx] without bounds checking This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or use optional chaining to prevent accessing undefined array elements","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        ownershipPct: safeCapTable[idx]?.ownershipPct,","description":"Add bounds checking or use optional chaining to prevent accessing undefined array elements","content":"        ownershipPct: safeCapTable[idx]?.ownershipPct,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts-bug-2","type":"bug","severity":"error","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts","line":27,"column":27,"message":"Potential array index out of bounds error - accessing safeCapTable[idx] without bounds checking","description":"Potential array index out of bounds error - accessing safeCapTable[idx] without bounds checking This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add bounds checking or use optional chaining to prevent accessing undefined array elements","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"        ownershipError: safeCapTable[idx]?.ownershipError,","description":"Add bounds checking or use optional chaining to prevent accessing undefined array elements","content":"        ownershipError: safeCapTable[idx]?.ownershipError,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts","line":11,"column":57,"message":"Missing trailing comma in array return statement","description":"Missing trailing comma in array return statement This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  if (row.conversionType === \"mfn\") return [\"cap\"];","description":"Add trailing comma for consistency","content":"  if (row.conversionType === \"mfn\") return [\"cap\"];"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts","line":12,"column":59,"message":"Missing trailing comma in array return statement","description":"Missing trailing comma in array return statement This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  if (row.conversionType === \"ycmfn\") return [\"cap\"];","description":"Add trailing comma for consistency","content":"  if (row.conversionType === \"ycmfn\") return [\"cap\"];"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts-style-5","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/SAFEPropsSelector.ts","line":13,"column":11,"message":"Missing trailing comma in array return statement","description":"Missing trailing comma in array return statement This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"  return [];","description":"Add trailing comma for consistency","content":"  return [];"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":109,"column":34,"message":"Division by zero potential when initialSeriesInvestment is 0","description":"Division by zero potential when initialSeriesInvestment is 0 This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add guard clause to check if initialSeriesInvestment is greater than 0 before division","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      const seriesInvestmentChanges = rowData.map((row) => {\n        if (row.type === CapTableRowType.Series && initialSeriesInvestment > 0) {\n          return investmentChange * (row.investment / initialSeriesInvestment);\n        }\n        return 0;\n      });","description":"Add guard clause to check if initialSeriesInvestment is greater than 0 before division","content":"      const seriesInvestmentChanges = rowData.map((row) => {\n        if (row.type === CapTableRowType.Series && initialSeriesInvestment > 0) {\n          return investmentChange * (row.investment / initialSeriesInvestment);\n        }\n        return 0;\n      });"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":137,"column":40,"message":"Non-null assertion operator used without proper null check","description":"Non-null assertion operator used without proper null check This code works but could be improved for better maintainability.","suggestion":"Add proper null check before using the result","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"      const conversionResult = getPricedConversion(currentState);\n      if (!conversionResult) {\n        throw new Error(\"Failed to get priced conversion for trial state\");\n      }\n      trialPricedConversion = conversionResult;","description":"Add proper null check before using the result","content":"      const conversionResult = getPricedConversion(currentState);\n      if (!conversionResult) {\n        throw new Error(\"Failed to get priced conversion for trial state\");\n      }\n      trialPricedConversion = conversionResult;"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-bug-2","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":165,"column":7,"message":"Array length mismatch potential between capTableRows and previousCapTableRows","description":"Array length mismatch potential between capTableRows and previousCapTableRows This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add length check and handle mismatched array lengths","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"      // Calculate the ownership change for each row\n      const maxLength = Math.min(capTableRows.length, previousCapTableRows.length);\n      for (let idx = 0; idx < maxLength; idx++) {\n        ownershipChanges.push((capTableRows[idx].ownershipPct ?? 0) - (previousCapTableRows[idx].ownershipPct ?? 0));\n      }\n      // Fill remaining slots with 0 if current array is longer\n      while (ownershipChanges.length < capTableRows.length) {\n        ownershipChanges.push(0);\n      }","description":"Add length check and handle mismatched array lengths","content":"      // Calculate the ownership change for each row\n      const maxLength = Math.min(capTableRows.length, previousCapTableRows.length);\n      for (let idx = 0; idx < maxLength; idx++) {\n        ownershipChanges.push((capTableRows[idx].ownershipPct ?? 0) - (previousCapTableRows[idx].ownershipPct ?? 0));\n      }\n      // Fill remaining slots with 0 if current array is longer\n      while (ownershipChanges.length < capTableRows.length) {\n        ownershipChanges.push(0);\n      }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-performance-3","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":14,"column":5,"message":"Inefficient array operations - multiple filters and maps on same array","description":"Inefficient array operations - multiple filters and maps on same array This implementation could impact application performance.","suggestion":"Use a single reduce operation to process the array once","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"const rowDataToStakeholders = (rowData: IRowState[]): (CommonStockholder | SAFENote | SeriesInvestor)[] => {\n  return rowData.reduce<(CommonStockholder | SAFENote | SeriesInvestor)[]>((acc, row) => {\n    if (row.type === CapTableRowType.Common) {\n      acc.push({\n        id: row.id,\n        name: row.name ?? \"\",\n        shares: (row as ExistingShareholderState).shares,\n        type: CapTableRowType.Common,\n        commonType: CommonRowType.Shareholder,\n      });\n    } else if (row.type === CapTableRowType.Safe) {\n      const safeRow = row as SAFEState;\n      const conversionType = safeRow.conversionType === \"mfn\" ? \"post\" : safeRow.conversionType === 'post' ? \"post\" : \"pre\";\n      acc.push({\n        id: safeRow.id,\n        name: safeRow.name ?? \"\",\n        investment: safeRow.investment,\n        cap: safeRow.cap ?? 0,\n        discount: safeRow.discount ?? 0,\n        conversionType,\n        sideLetters: safeRow.conversionType === \"mfn\" ? [\"mfn\"] : [],\n        type: CapTableRowType.Safe\n      });\n    } else if (row.type === CapTableRowType.Series) {\n      acc.push({\n        id: row.id,\n        name: row.name ?? \"\",\n        investment: row.investment,\n        type: CapTableRowType.Series,\n        round: 1,\n      });\n    }\n    return acc;\n  }, []);\n}","description":"Use a single reduce operation to process the array once","content":"const rowDataToStakeholders = (rowData: IRowState[]): (CommonStockholder | SAFENote | SeriesInvestor)[] => {\n  return rowData.reduce<(CommonStockholder | SAFENote | SeriesInvestor)[]>((acc, row) => {\n    if (row.type === CapTableRowType.Common) {\n      acc.push({\n        id: row.id,\n        name: row.name ?? \"\",\n        shares: (row as ExistingShareholderState).shares,\n        type: CapTableRowType.Common,\n        commonType: CommonRowType.Shareholder,\n      });\n    } else if (row.type === CapTableRowType.Safe) {\n      const safeRow = row as SAFEState;\n      const conversionType = safeRow.conversionType === \"mfn\" ? \"post\" : safeRow.conversionType === 'post' ? \"post\" : \"pre\";\n      acc.push({\n        id: safeRow.id,\n        name: safeRow.name ?? \"\",\n        investment: safeRow.investment,\n        cap: safeRow.cap ?? 0,\n        discount: safeRow.discount ?? 0,\n        conversionType,\n        sideLetters: safeRow.conversionType === \"mfn\" ? [\"mfn\"] : [],\n        type: CapTableRowType.Safe\n      });\n    } else if (row.type === CapTableRowType.Series) {\n      acc.push({\n        id: row.id,\n        name: row.name ?? \"\",\n        investment: row.investment,\n        type: CapTableRowType.Series,\n        round: 1,\n      });\n    }\n    return acc;\n  }, []);\n}"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PricedRoundSelector.ts","line":63,"column":7,"message":"Inconsistent return statement - missing semicolon and explicit undefined","description":"Inconsistent return statement - missing semicolon and explicit undefined This violates code style conventions and may reduce readability.","suggestion":"Add explicit return undefined with semicolon for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    if (pricedRounds === 0) {\n      return undefined;\n    }","description":"Add explicit return undefined with semicolon for consistency","content":"    if (pricedRounds === 0) {\n      return undefined;\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":16,"column":25,"message":"Potential null/undefined access on row.name property without proper null checking","description":"Potential null/undefined access on row.name property without proper null checking This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add proper null checking or provide a default value","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          name: row.name || \"\",","description":"Add proper null checking or provide a default value","content":"          name: row.name || \"\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":31,"column":21,"message":"Potential null/undefined access on row.name property without proper null checking","description":"Potential null/undefined access on row.name property without proper null checking This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add proper null checking or provide a default value","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"          name: row.name || \"\",","description":"Add proper null checking or provide a default value","content":"          name: row.name || \"\","}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":25,"column":42,"message":"Missing trailing comma in object literal","description":"Missing trailing comma in object literal This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      commonType: CommonRowType.UnusedOptions,","description":"Add trailing comma for consistency","content":"      commonType: CommonRowType.UnusedOptions,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":37,"column":32,"message":"Missing trailing comma in object literal","description":"Missing trailing comma in object literal This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"          type: CapTableRowType.Safe,","description":"Add trailing comma for consistency","content":"          type: CapTableRowType.Safe,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-performance-4","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":45,"column":13,"message":"Inefficient array concatenation using spread operator in map function","description":"Inefficient array concatenation using spread operator in map function This implementation could impact application performance.","suggestion":"Consider using concat() method for better performance with large arrays","rule":"performance","category":"Performance Issues","fix":{"type":"replace","oldCode":"","newCode":"      rows: common.concat(safes).map((row) => {","description":"Consider using concat() method for better performance with large arrays","content":"      rows: common.concat(safes).map((row) => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-style-5","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":55,"column":35,"message":"Missing trailing comma in object literal","description":"Missing trailing comma in object literal This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"            commonType: row.commonType,","description":"Add trailing comma for consistency","content":"            commonType: row.commonType,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-style-6","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":66,"column":41,"message":"Missing trailing comma in object literal","description":"Missing trailing comma in object literal This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"          ownershipError: row.ownershipError,","description":"Add trailing comma for consistency","content":"          ownershipError: row.ownershipError,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts-style-7","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/PreRoundCapTableSelector.ts","line":69,"column":6,"message":"Missing trailing comma in object literal","description":"Missing trailing comma in object literal This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    },","description":"Add trailing comma for consistency","content":"    },"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ErrorSelector.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ErrorSelector.ts","line":15,"column":29,"message":"Missing trailing comma in object literal","description":"Missing trailing comma in object literal This violates code style conventions and may reduce readability.","suggestion":"Add trailing comma for consistency and better diffs","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      seriesError: false,","description":"Add trailing comma for consistency and better diffs","content":"      seriesError: false,"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ErrorSelector.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/ErrorSelector.ts","line":16,"column":5,"message":"Trailing comma missing in function return statement","description":"Trailing comma missing in function return statement This violates code style conventions and may reduce readability.","suggestion":"Remove trailing comma after closing brace or ensure consistent formatting","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    }","description":"Remove trailing comma after closing brace or ensure consistent formatting","content":"    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts-bug-0","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts","line":26,"column":5,"message":"Missing id property in object literal for unused options, could cause runtime issues","description":"Missing id property in object literal for unused options, could cause runtime issues This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Add id property to ensure consistency with CommonStockholder interface","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"    commonStock.push({\n      id: \"UnusedOptionsPool\",\n      name: \"Unused Options Pool\",\n      shares: unusedOptions,\n      type: CapTableRowType.Common,\n      commonType: CommonRowType.UnusedOptions,\n    })","description":"Add id property to ensure consistency with CommonStockholder interface","content":"    commonStock.push({\n      id: \"UnusedOptionsPool\",\n      name: \"Unused Options Pool\",\n      shares: unusedOptions,\n      type: CapTableRowType.Common,\n      commonType: CommonRowType.UnusedOptions,\n    })"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/CommonOnlyCapTableSelector.ts","line":35,"column":24,"message":"Inconsistent string literal comparison, should use enum value","description":"Inconsistent string literal comparison, should use enum value This violates code style conventions and may reduce readability.","suggestion":"Use enum value CommonRowType.UnusedOptions instead of string literal","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"      if (row.commonType === CommonRowType.UnusedOptions) {","description":"Use enum value CommonRowType.UnusedOptions instead of string literal","content":"      if (row.commonType === CommonRowType.UnusedOptions) {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":22,"column":5,"message":"Missing semicolons after statements","description":"Missing semicolons after statements This violates code style conventions and may reduce readability.","suggestion":"Add semicolons after statements for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"32.92\");","description":"Add semicolons after statements for consistency","content":"    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"32.92\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":23,"column":5,"message":"Missing semicolons after statements","description":"Missing semicolons after statements This violates code style conventions and may reduce readability.","suggestion":"Add semicolons after statements for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(preRoundSelector.rows[1].ownershipPct?.toFixed(2)).toEqual(\"32.92\");","description":"Add semicolons after statements for consistency","content":"    expect(preRoundSelector.rows[1].ownershipPct?.toFixed(2)).toEqual(\"32.92\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-style-2","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":25,"column":5,"message":"Missing semicolons after statements","description":"Missing semicolons after statements This violates code style conventions and may reduce readability.","suggestion":"Add semicolons after statements for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps[0].ownershipPct?.toFixed(2)).toEqual(\"7.00\");","description":"Add semicolons after statements for consistency","content":"    expect(safeProps[0].ownershipPct?.toFixed(2)).toEqual(\"7.00\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":26,"column":5,"message":"Missing semicolons after statements","description":"Missing semicolons after statements This violates code style conventions and may reduce readability.","suggestion":"Add semicolons after statements for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps[0].cap.toFixed(0)).toEqual(\"1785714\");","description":"Add semicolons after statements for consistency","content":"    expect(safeProps[0].cap.toFixed(0)).toEqual(\"1785714\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-style-4","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":27,"column":5,"message":"Missing semicolons after statements","description":"Missing semicolons after statements This violates code style conventions and may reduce readability.","suggestion":"Add semicolons after statements for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps[0].conversionType).toEqual(\"post\");","description":"Add semicolons after statements for consistency","content":"    expect(safeProps[0].conversionType).toEqual(\"post\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-style-5","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":28,"column":5,"message":"Missing semicolons after statements","description":"Missing semicolons after statements This violates code style conventions and may reduce readability.","suggestion":"Add semicolons after statements for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps[1].ownershipPct?.toFixed(2)).toEqual(\"3.75\");","description":"Add semicolons after statements for consistency","content":"    expect(safeProps[1].ownershipPct?.toFixed(2)).toEqual(\"3.75\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-style-6","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":29,"column":5,"message":"Missing semicolons after statements","description":"Missing semicolons after statements This violates code style conventions and may reduce readability.","suggestion":"Add semicolons after statements for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps[1].cap).toEqual(10_000_000);","description":"Add semicolons after statements for consistency","content":"    expect(safeProps[1].cap).toEqual(10_000_000);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-style-7","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":30,"column":5,"message":"Missing semicolons after statements","description":"Missing semicolons after statements This violates code style conventions and may reduce readability.","suggestion":"Add semicolons after statements for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeProps[1].conversionType).toEqual(\"mfn\");","description":"Add semicolons after statements for consistency","content":"    expect(safeProps[1].conversionType).toEqual(\"mfn\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-style-8","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":35,"column":5,"message":"Missing semicolons after statements","description":"Missing semicolons after statements This violates code style conventions and may reduce readability.","suggestion":"Add semicolons after statements for consistency","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(pricedRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"27.86\");","description":"Add semicolons after statements for consistency","content":"    expect(pricedRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"27.86\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-9","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":22,"column":12,"message":"Potential null/undefined access without proper error handling","description":"Potential null/undefined access without proper error handling This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure preRoundSelector.rows[0].ownershipPct exists before calling toFixed","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-10","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":23,"column":12,"message":"Potential null/undefined access without proper error handling","description":"Potential null/undefined access without proper error handling This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure preRoundSelector.rows[1].ownershipPct exists before calling toFixed","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-11","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":25,"column":12,"message":"Potential null/undefined access without proper error handling","description":"Potential null/undefined access without proper error handling This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure safeProps[0].ownershipPct exists before calling toFixed","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-12","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":28,"column":12,"message":"Potential null/undefined access without proper error handling","description":"Potential null/undefined access without proper error handling This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure safeProps[1].ownershipPct exists before calling toFixed","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts-error-handling-13","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/SerializedState.test.ts","line":35,"column":12,"message":"Potential null/undefined access without proper error handling","description":"Potential null/undefined access without proper error handling This code works but could be improved for better maintainability.","suggestion":"Add validation to ensure pricedRoundSelector.rows[0].ownershipPct exists before calling toFixed","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts","line":1,"column":1,"message":"Filename has inconsistent capitalization - 'ConverstionState.test.ts' should be 'ConversionState.test.ts'","description":"Filename has inconsistent capitalization - 'ConverstionState.test.ts' should be 'ConversionState.test.ts' This violates code style conventions and may reduce readability.","suggestion":"Rename file to match the imported module name 'ConversionState'","rule":"style","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts-error-1","type":"error","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts","line":9,"column":53,"message":"Type assertion 'as IConversionStateData' bypasses type checking and may cause runtime errors if fixture data doesn't match expected interface","description":"Type assertion 'as IConversionStateData' bypasses type checking and may cause runtime errors if fixture data doesn't match expected interface This will likely cause errors during execution.","suggestion":"Use proper type validation or create a type guard function to ensure fixture data matches IConversionStateData interface","rule":"error","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/ConverstionState.test.ts","line":9,"column":5,"message":"No error handling for potential failures in createConversionStore or onAddRow operations","description":"No error handling for potential failures in createConversionStore or onAddRow operations This code works but could be improved for better maintainability.","suggestion":"Wrap operations in try-catch blocks or add proper error handling","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    try {\n      const store = createConversionStore(fixtureData as IConversionStateData);\n      const { onAddRow } = store.getState();\n      onAddRow(CapTableRowType.Safe);\n      expect(store.getState().rowData.length).toEqual(11);\n    } catch (error) {\n      throw new Error(`Test failed: ${error}`);\n    }","description":"Wrap operations in try-catch blocks or add proper error handling","content":"    try {\n      const store = createConversionStore(fixtureData as IConversionStateData);\n      const { onAddRow } = store.getState();\n      onAddRow(CapTableRowType.Safe);\n      expect(store.getState().rowData.length).toEqual(11);\n    } catch (error) {\n      throw new Error(`Test failed: ${error}`);\n    }"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts","line":19,"column":38,"message":"Unnecessary sort() call on array that is already sorted","description":"Unnecessary sort() call on array that is already sorted This violates code style conventions and may reduce readability.","suggestion":"Remove the redundant sort() call since the array is already in sorted order","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeNotes[1].disabledFields?.sort()).toEqual([\"cap\"]);","description":"Remove the redundant sort() call since the array is already in sorted order","content":"    expect(safeNotes[1].disabledFields?.sort()).toEqual([\"cap\"]);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts","line":12,"column":38,"message":"Potential null/undefined access without proper error handling","description":"Potential null/undefined access without proper error handling This code works but could be improved for better maintainability.","suggestion":"Add proper null/undefined checks or use optional chaining with default values","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeNotes[0].ownershipPct?.toFixed(2) ?? '0.00').toEqual(\"7.00\");","description":"Add proper null/undefined checks or use optional chaining with default values","content":"    expect(safeNotes[0].ownershipPct?.toFixed(2) ?? '0.00').toEqual(\"7.00\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts","line":18,"column":38,"message":"Potential null/undefined access without proper error handling","description":"Potential null/undefined access without proper error handling This code works but could be improved for better maintainability.","suggestion":"Add proper null/undefined checks or use optional chaining with default values","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(safeNotes[1].ownershipPct?.toFixed(2) ?? '0.00').toEqual(\"3.75\");","description":"Add proper null/undefined checks or use optional chaining with default values","content":"    expect(safeNotes[1].ownershipPct?.toFixed(2) ?? '0.00').toEqual(\"3.75\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts","line":12,"column":12,"message":"Array access without bounds checking","description":"Array access without bounds checking This code works but could be improved for better maintainability.","suggestion":"Add bounds checking before accessing array elements","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts-error-handling-4","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts","line":18,"column":12,"message":"Array access without bounds checking","description":"Array access without bounds checking This code works but could be improved for better maintainability.","suggestion":"Add bounds checking before accessing array elements","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts-error-handling-5","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/SAFEPropsSelector.test.ts","line":19,"column":12,"message":"Array access without bounds checking","description":"Array access without bounds checking This code works but could be improved for better maintainability.","suggestion":"Add bounds checking before accessing array elements","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-naming-0","type":"naming","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":10,"column":10,"message":"Test description 'Result Selector' doesn't match the actual selector being tested 'getPricedRoundCapTableSelector'","description":"Test description 'Result Selector' doesn't match the actual selector being tested 'getPricedRoundCapTableSelector' This code works but could be improved for better maintainability.","suggestion":"Rename the describe block to match the actual functionality being tested","rule":"naming","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"describe(\"PricedRoundCapTableSelector\", () => {","description":"Rename the describe block to match the actual functionality being tested","content":"describe(\"PricedRoundCapTableSelector\", () => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-style-1","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":17,"column":78,"message":"Missing space after comma in array filter chain","description":"Missing space after comma in array filter chain This violates code style conventions and may reduce readability.","suggestion":"Add consistent spacing around logical operators","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    const investors = resultSelector.rows.filter((row) => row.type === CapTableRowType.Safe || row.type === CapTableRowType.Series);","description":"Add consistent spacing around logical operators","content":"    const investors = resultSelector.rows.filter((row) => row.type === CapTableRowType.Safe || row.type === CapTableRowType.Series);"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":12,"column":31,"message":"No validation that fixture data matches expected IConversionStateData structure","description":"No validation that fixture data matches expected IConversionStateData structure This code works but could be improved for better maintainability.","suggestion":"Add runtime validation or use a more type-safe approach for loading test fixtures","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-error-handling-3","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":17,"column":5,"message":"No validation that resultSelector.rows exists or has expected structure before filtering","description":"No validation that resultSelector.rows exists or has expected structure before filtering This code works but could be improved for better maintainability.","suggestion":"Add null/undefined checks before accessing resultSelector.rows","rule":"error-handling","category":"Error Handling & Logging"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts-bug-6","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PricedRoundSelector.test.ts","line":30,"column":5,"message":"Comment mentions 'pricedConversion matches expected shares' but no actual assertion follows","description":"Comment mentions 'pricedConversion matches expected shares' but no actual assertion follows This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Either remove the comment or add the missing assertion","rule":"bug","category":"Bugs & Errors"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts","line":9,"column":3,"message":"Test description doesn't match the describe block name","description":"Test description doesn't match the describe block name This violates code style conventions and may reduce readability.","suggestion":"Update the describe block name to match the test content or vice versa","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"describe(\"Pre-Round Cap Table Selector\", () => {","description":"Update the describe block name to match the test content or vice versa","content":"describe(\"Pre-Round Cap Table Selector\", () => {"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts-error-handling-1","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts","line":15,"column":39,"message":"No null/undefined check for potentially nullable property","description":"No null/undefined check for potentially nullable property This code works but could be improved for better maintainability.","suggestion":"Add null/undefined check before calling toFixed() method","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2) ?? '0.00').toEqual(\"31.35\")","description":"Add null/undefined check before calling toFixed() method","content":"    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2) ?? '0.00').toEqual(\"31.35\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts-error-handling-2","type":"error-handling","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts","line":15,"column":12,"message":"No bounds check for array access","description":"No bounds check for array access This code works but could be improved for better maintainability.","suggestion":"Add bounds check for array access or use optional chaining","rule":"error-handling","category":"Error Handling & Logging","fix":{"type":"replace","oldCode":"","newCode":"    expect(preRoundSelector.rows[0]?.ownershipPct?.toFixed(2) ?? '0.00').toEqual(\"31.35\")","description":"Add bounds check for array access or use optional chaining","content":"    expect(preRoundSelector.rows[0]?.ownershipPct?.toFixed(2) ?? '0.00').toEqual(\"31.35\")"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/selectors/__tests__/PreRoundSelector.test.ts","line":15,"column":77,"message":"Missing semicolon at end of statement","description":"Missing semicolon at end of statement This violates code style conventions and may reduce readability.","suggestion":"Add semicolon at the end of the statement","rule":"style","category":"Style & Formatting","fix":{"type":"replace","oldCode":"","newCode":"    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"31.35\");","description":"Add semicolon at the end of the statement","content":"    expect(preRoundSelector.rows[0].ownershipPct?.toFixed(2)).toEqual(\"31.35\");"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json-style-0","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json","line":1,"column":1,"message":"Inconsistent property structure across different record types may cause runtime errors","description":"Inconsistent property structure across different record types may cause runtime errors This violates code style conventions and may reduce readability.","suggestion":"Add consistent base properties or use discriminated unions with proper validation","rule":"style","category":"Style & Formatting"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json-bug-1","type":"bug","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json","line":21,"column":13,"message":"Floating point precision issue in cap value could cause calculation errors","description":"Floating point precision issue in cap value could cause calculation errors This code pattern may cause runtime errors or unexpected behavior.","suggestion":"Round floating point values to appropriate precision or use integer representation","rule":"bug","category":"Bugs & Errors","fix":{"type":"replace","oldCode":"","newCode":"\"cap\": 1785714.29","description":"Round floating point values to appropriate precision or use integer representation","content":"\"cap\": 1785714.29"}},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json-performance-2","type":"performance","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json","line":6,"column":18,"message":"Large numerical values stored as numbers may cause precision loss in JavaScript","description":"Large numerical values stored as numbers may cause precision loss in JavaScript This implementation could impact application performance.","suggestion":"Consider using strings for large monetary values to avoid floating point precision issues","rule":"performance","category":"Performance Issues"},{"id":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json-style-3","type":"style","severity":"warning","file":"/home/mdp/src/1984/startup-finance/src/app/cap-table/state/__tests__/fixtures/state_fixtures.json","line":48,"column":5,"message":"Missing required properties for 'series' type records (shares, cap, etc.)","description":"Missing required properties for 'series' type records (shares, cap, etc.) This violates code style conventions and may reduce readability.","suggestion":"Ensure all record types have consistent required properties or document the schema","rule":"style","category":"Style & Formatting"}],"options":{"path":".","issueTypes":["bug","error","exception","error-handling","security","vulnerability","authentication","authorization","performance","optimization","memory","memory-leak","style","formatting","naming","convention"],"minSeverity":"warning","generateFixes":true}}]